{"version":3,"sources":["hooks/ui.js","ui/Select.jsx","utils/fetch.js","components/feature/VanillaFeatures.js","components/surface/SurfaceBuilderDefaults.js","components/noise/NoiseDefaults.js","components/dimension/DimensionDefaults.js","components/carver/CarverDefaults.js","context/Paths.js","context/DataContext.jsx","utils/data.js","hooks/context.js","ui/Button.jsx","components/NamespacedKey.jsx","components/biome/BiomeDefaults.js","utils/color.js","utils/math.js","ui/Input.jsx","components/state/Tags.js","components/state/BlockPredicate.jsx","hooks/form.js","components/state/BlockState.jsx","components/biome/BiomeEffects.jsx","components/biome/BiomeSpawners.jsx","components/biome/BiomeStarts.jsx","components/biome/Features.jsx","ui/Modal.jsx","ui/JsonViewer.jsx","hooks/select.js","components/carver/ConfiguredCarver.jsx","components/biome/Biome.jsx","ui/Toggle.jsx","ui/DarkModeToggle.jsx","ui/Menu.jsx","components/dimension/DimensionType.jsx","ui/NumberList.jsx","viewers/biome_multi_noise/PerlinSamplers.js","utils/hash.js","viewers/biome_multi_noise/MultiNoiseDimension.js","components/dimension/MultiNoiseBiomeSource.jsx","components/dimension/BiomeSource.jsx","components/noise/Structures.jsx","components/dimension/FlatChunkSettings.jsx","components/noise/NoiseSettings.jsx","components/dimension/DimensionGenerator.jsx","components/dimension/Dimension.jsx","components/feature/config/FeatureConfigDefaults.js","components/feature/DecoratedFeatureDefaults.js","components/state/BlockStateProvider.jsx","components/feature/decorator/DecoratorDefaults.js","components/utils/UniformInt.jsx","components/feature/decorator/Decorator.jsx","components/feature/config/DiskFeature.jsx","components/feature/config/ProbabilityFeature.jsx","components/feature/config/SingleStateFeature.jsx","components/feature/config/TreeFeature.jsx","components/feature/ConfiguredFeature.jsx","components/feature/config/BlockPileFeature.jsx","components/feature/config/DeltaFeature.jsx","components/feature/config/HugeFungusFeature.jsx","components/feature/config/NetherrackReplaceBlobsFeature.jsx","components/feature/config/OreFeature.jsx","components/feature/config/SimpleBlockFeature.jsx","components/feature/config/SpringFeature.jsx","components/feature/config/RandomPatchFeature.jsx","utils/zip.js","components/surface/SurfaceBuilder.jsx","components/Datapack.jsx","components/DatapackForm.jsx","App.js","serviceWorker.js","index.js"],"names":["useToggle","initial","useState","status","setState","toggle","useCallback","e","target","checked","preventDefault","current","React","memo","props","styles","control","backgroundColor","borderColor","boxShadow","transition","singleValue","color","menuList","input","menu","option","isFocused","isSelected","cursor","multiValue","multiValueLabel","multiValueRemove","jsonFetch","url","options","a","headers","Accept","fetch","response","json","responseData","ok","VANILLA_FEATURES","VANILLA_SURFACE_BUILDERS","value","label","map","SURFACE_TYPES_OPTIONS","SURFACE_BUILDER","config","top_material","Properties","snowy","Name","under_material","underwater_material","type","VANILLA_NOISES","STRUCTURES","tag","OVERWORLD_NOISE","bedrock_roof_position","bedrock_floor_position","sea_level","disable_mob_generation","structures","stronghold","distance","spread","count","spacing","separation","salt","noise","height","sampling","xz_scale","y_scale","xz_factor","y_factor","top_slide","size","offset","bottom_slide","size_horizontal","size_vertical","density_factor","density_offset","simplex_surface_noise","default_block","default_fluid","level","DIMENSION","generator","seed","biome_source","biome","settings","CHUNK_GENERATOR_TYPES","VANILLA_DIMENSION_TYPES","NOISES_NAMES","MULTI_NOISE_BIOME_SOURCE","temperature_noise","firstOctave","amplitudes","humidity_noise","altitude_noise","weirdness_noise","biomes","DIMENSION_TYPE_EFFECTS","DIMENSION_TYPE_INFINIBURN","OVERWORLD_DIMENSION_TYPE","has_raids","logical_height","infiniburn","effects","ambient_light","piglin_safe","bed_works","respawn_anchor_works","ultrawarm","natural","coordinate_scale","has_skylight","has_ceiling","OVERWORLD_CAVES_DIMENSION_TYPE","THE_NETHER_DIMENSION_TYPE","fixed_time","THE_END_DIMENSION_TYPE","VANILLA_CARVERS","probability","PATHS","dimensions","dimension_types","carvers","features","surfaces","noises","processors","getAbsolutePath","namespace","identifier","replace","DataContext","createContext","vanilla","blocks","entities","sounds","getVanillaResource","key","custom","updateBiomes","updateCarvers","carver","updateDimensions","dimension","updateDimensionTypes","dimension_type","updateFeatures","feature","updateNoises","updateProcessors","processor","updateSurfacesBuilders","surface_builder","DataContextProvider","children","setBiomes","setBlocks","setEntities","setSounds","useData","customBiomes","vanillaZip","setVanillaZip","useEffect","then","entity","name","displayName","values","sound","substr","zip","blob","JSZip","loadAsync","Promise","reject","Error","message","relative","file","JSON","async","parse","resolve","Provider","filter","o","includes","objectsEqual","b","Object","keys","length","every","p","capitalize","str","toUpperCase","displayNamespacedKey","defaultNamespace","startsWith","split","findDecorators","decorators","f","find","obj","unshift","buildDecorated","decorated","forEach","decorator","i","dataUpper","group","data","hasOwnProperty","sky_color","refitKeys","build","destKey","source","some","n","shrunk","setData","updateData","object","previous","stored","splice","findIndex","existing","push","indexOf","useKeyedListOptions","category","includeCustom","empty","context","useContext","keyed","struct","Button","loading","cat","buttonProps","className","tabIndex","NamespacedKey","example","expectBreakage","inline","mayReplaceVanilla","defaultReplace","onChange","onSelect","onSelectLoad","hidden","useRef","setKey","fill","toggleFill","mayFill","setMayFill","handleKeyChange","toLowerCase","handleReplaceTargetChange","selected","catch","console","error","handleKeyDown","form","dispatchEvent","Event","cancelable","handleToggle","handleFillToggle","inputValue","useMemo","hiddenInputValue","style","width","Math","max","apply","isFinite","dummyOnChange","log","htmlFor","inputId","id","required","pattern","placeholder","autoCapitalize","spellCheck","autoComplete","onKeyPress","ref","opacity","position","onClick","FEATURES","STARTS","SPAWNERS_DEFAULTS","ambient","weight","minCount","maxCount","creature","misc","monster","water_ambient","water_creature","BIOME_DEFAULTS","mood_sound","tick_delay","block_search_extent","fog_color","water_color","water_fog_color","air","starts","spawners","precipitation","scale","downfall","depth","temperature","player_spawn_friendly","spawn_costs","PARTICLES","particle","PARTICLE_DEFAULTS","hexColorToInteger","parseInt","integerColorToHex","toString","padStart","maintainPrecision","parseFloat","toFixed","perlinFade","t","lerp","delta","start","end","lerp2","deltaX","deltaY","n00","n10","n01","n11","grad","hash","x","y","z","h","u","v","ConfInput","attr","defaultChecked","defaultValue","min","step","uId","random","isNaN","data-name","NumberInput","upChange","title","val","setValue","prevVal","setPrevValue","click","setClick","handleChange","endsWith","stepUpDown","addition","handleMouseDown","classList","contains","window","setInterval","handleClick","handleMouseUp","clearInterval","numeric","decimals","countDecimals","ceil","smooth","getNumberSize","onMouseDown","onMouseOut","onMouseUp","ColorInput","TAGS_OPTIONS","BlockPredicate","predicate","setPredicate","handleTypeChange","predicate_type","handleBlockChange","block","handleBlockStateChange","block_state","handleTagChange","content","BlockSelect","BlockState","RandomBlockMatch","flexGrow","crudReducer","state","action","ADD","payload","UPDATE","arrayMove","element","REMOVE","REPLACE","useCrudPreset","add","update","oldIndex","newIndex","remove","useBlocksOptions","mapped","useJsonEffect","stringify","CRUD","states","properties","actual","getStateValue","handlePropertiesChange","BlockStateProperties","BlocksList","list","handleAdd","handleRemove","filteredOptions","d","BlocksNamesList","handlePropertyChange","handleCheckboxChange","dataset","handleNumberChange","selects","possible","num_values","BiomeEffects","blockColor","setBlockColor","setParticle","handleColorChange","handleBlockColorChange","handleAmbientSoundChange","ambient_sound","handleMoodSoundChange","handleParticleChange","handleBlockColorToggle","foliage_color","grass_color","handleParticleToggle","blockColorChecked","particleChecked","ParticleEffect","flexShrink","isClearable","MoodSound","handleSoundChange","marginTop","handleScaleChange","handleProbabilityChange","op","DustColor","r","g","undefined","BiomeSpawners","groupSpawners","SpawnGroup","visibility","text","s","insert","spawner","index","SpawnDefinition","onDelete","handleValueChange","handleCountChange","handleDelete","selectedOption","BiomeStarts","selectedOptions","isMulti","GenFeatures","handleLevelChange","priority","GenFeaturesLevel","Modal","open","onClose","modal","useModal","el","document","createElement","body","appendChild","removeChild","createPortal","JsonViewer","toggleModal","xmlns","viewBox","useInlineResources","resources","mutable","getInline","resource","res","ConfiguredCarver","handleAirChange","handleLiquidChange","liquid","handleNewClick","handleCarverCreated","optionsAir","selectedAir","optionsLiquid","selectedLiquid","ConfiguredCarverForm","onSave","setCarver","handleSelectChange","handleSubmit","stopPropagation","c","fromEntries","FormData","onSubmit","Biome","handleCarversChange","handleStartsChange","handleEffectsChange","handleFeaturesChange","handleSpawnersChange","handleSurfaceBuilderChange","handlePrecipitationChange","handleCategoryChange","handleSpawnFriendlyChange","formData","BiomeCategory","BiomePrecipitation","SurfaceBuilder","creature_spawn_probability","Toggle","ariaLabel","aria-label","DarkModeToggle","darkMode","useDarkMode","disable","enable","MenuItem","active","href","role","aria-current","NavBar","rel","DimensionType","handleTypeCreated","DimensionTypeForm","setConfig","handleVanillaSelect","handleFixedTimeToggle","InfiniburnIdentifier","marginBottom","textAlign","NumberList","numbers","pos","DoublePerlinSampler","this","firstSampler","OctaveSimplexNoise","secondSampler","amplitude","createAmplitude","sample","sampler","PerlinNoiseSampler","j","k","octaveSamplers","Array","l","consumeRandom","m","random2","Random","lacunarity","pow","persistence","bl","originY","originX","nextDouble","originZ","permutations","buildPermutationsTable","Uint8Array","nextInt","rx","ry","rz","fx","floor","fy","fz","dx","dy","dz","fadeX","fadeY","fadeZ","_sample","sectionX","sectionY","sectionZ","localX","localY","localZ","fadeLocalX","fadeLocalY","fadeLocalZ","n001","n101","n011","n111","getGradient","q","hashCode","imul","charCodeAt","MultiNoiseDimension","temperatureNoise","humidityNoise","altitudeNoise","weirdnessNoise","biomeX","biomeY","biomeZ","humidity","altitude","weirdness","minDistance","Number","MAX_SAFE_INTEGER","getDistanceToBiome","parameters","image","offsetX","offsetY","buffer","ArrayBuffer","buf8","Uint8ClampedArray","data32","Uint32Array","endX","endY","biomesColors","getBiomesColors","getBiomeAt","set","MultiNoiseRepresentation","auto","setScale","reference","render","canvas","ctx","getContext","alpha","img","createImageData","putImageData","display","alignItems","moz-opaque","justifyContent","entries","marginLeft","marginRight","verticalAlign","BiomeSource","handleSeedChange","handleFixedSourceChange","SeedField","CheckerboardBiomeSource","FixedBiomeSource","MultiNoiseBiomeSource","VanillaLayeredBiomeSource","handleBiomesChange","selection","isArray","advanced","toggleAdvanced","handleNoiseChange","entry","BiomeSelection","biomesOptions","PerlinNoiseParameters","objects","hasDuplicatedObjects","handleLegacyBiomeToggle","legacy_biome_init_layer","handleLargeBiomesToggle","large_biomes","handleFirstOctaveChange","handleAmplitudesChange","margin","handleBiomeChange","rainfall","handleParameterChange","Structures","handleStrongholdChange","handleStructuresChange","Stronghold","StructuresList","enabled","setStronghold","useReducer","useCrudState","dispatch","setPrevious","original","structure","def","Structure","handleSpacingChange","handleSaltChange","FlatChunkSettings","layers","handleLayersChange","handleLakesToggle","lakes","GeneratorLayers","shouldCancelStart","parentNode","handleReversedSort","SortableLayersList","onRemove","onSortEnd","SortableContainer","layer","Layer","reverse","SortableElement","handleHeightChange","NoiseGenerator","NoiseSettings","handleDisableMobGenerationChange","NoiseConfig","changeCallback","handleSamplingChange","handleTopSlideChange","handleBottomSlideChange","random_density_offset","island_noise_override","amplified","NoiseSamplingConfig","SlideConfig","DimensionGenerator","previousGenerator","setPreviousGenerator","handleChunkGeneratorChange","handleSettingsChange","handleBiomeSourceChange","fontWeight","fontSize","setText","Dimension","handleGeneratorChange","TREE_DECORATORS_OPTIONS","default","BLOCK_PILE_FEATURE_CONFIG","state_provider","axis","HUGE_FUNGUS_FEATURE_CONFIG","hat_state","decor_state","planted","valid_base_block","stem_state","RANDOM_PATCH_FEATURE_CONFIG","can_replace","project","need_water","xspread","yspread","zspread","whitelist","blacklist","tries","block_placer","DECORATED_BLOCK_PILE_CONFIG","chance","DECORATED_HUGE_FUNGUS_CONFIG","DECORATED_ORE_FEATURE_CONFIG","bottom_offset","top_offset","maximum","DECORATED_RANDOM_PATCH_CONFIG","outer","inner","DECORATED_SPRING_FEATURE_CONFIG","rock_count","hole_count","valid_blocks","falling","requires_block_below","DECORATED_TREE_CONFIG","heightmap","minimum_size","limit","lower_size","upper_size","trunk_provider","leaves_provider","persistent","foliage_placer","radius","trunk_placer","base_height","height_rand_a","height_rand_b","extra_chance","extra_count","BlockStateProvider","similarities","handleSimpleStateChange","handleWeighestStateChange","filteredBlocks","WeightedStateProvider","handleStateChange","handleWeightChange","DECORATORS_OPTIONS","CARVERS_OPTIONS","DECORATOR_CARVING_MASK_DEFAULTS","DECORATOR_EXTRA_COUNT_DEFAULTS","DECORATOR_DECORATED_DEFAULTS","DECORATOR_RANGE_DEFAULTS","UniformInt","minBase","maxBase","maxSpread","base","DecoratorsList","SortableDecoratorsList","Decorator","setDecorator","handleConfigChange","CarvingMaskDecorator","ChanceDecorator","CountDecorator","ExtraCountDecorator","NoiseCountDecorator","NoiseBiasedCountDecorator","DecoratedDecorator","RangeDecorator","handleStepChange","noise_level","below_noise","above_noise","noise_to_count_ratio","noise_factor","noise_offset","DiskFeature","configuration","handleTargetsChange","targets","half_height","ProbabilityFeature","SingleStateFeature","FoliagePlacer","placer","crown_height","trunk_height","TrunkPlacer","TreeDecorators","TreeDecorator","handleAlterGroundChange","provider","CustomTag","contents","rim","rim_size","handleContentsChange","handleRimChange","handleDecorStateChange","handleHatStateChange","handlePlantedChange","handleStemStateChange","handleValidBaseBlockChange","handleTargetChange","handlePredicateChange","to_place","place_on","place_in","place_under","handleToPlaceChange","handlePlaceOnChange","handlePlaceInChange","handlePlaceUnderChange","handlRequiresBlockBelowChange","handleValidBlocksChange","handleStateProviderChange","handleWhitelistChange","handleBlacklistChange","handleTrunkProviderChange","handleLeavesProviderChange","handleFoliagePlacerChange","handleTrunkPlacerChange","handleDecoratorsChange","OPTIONS","RawConfiguredFeature","decorators_","feature_","setFeature","setDecorators","handleFeatureChange","configured_feature","get","FeatureConfig","DIMENSIONS_PATH","WORLDGEN_PATH","LEGACY_DIMENSIONS_PATH","LEGACY_WORLDGEN_PATH","buildZip","modified","elements","pack","pack_format","description","path","w","filename","folder","writeFile","generateAsync","saveAs","readZip","extractDatapack","legacy","mcmeta","promises","dir","regex","match","parseFile","all","getFolderType","pathRegex","contentPromise","exec","success","handleTopMaterialChange","handleUnderMaterialChange","handleUnderwaterMaterialChange","Datapack","page","setPage","useMenu","setMenu","handleSave","method","scrollTo","mayGenerate","surface","disabled","Main","Masonry","itemSelector","gutter","StatsTitle","invisible","confirm","DatapackForm","onCreate","setError","handleFile","dataTransfer","files","handleDrag","onDragStart","onDragEnter","onDragOver","onDrop","aria-describedby","accept","App","Boolean","location","hostname","addEventListener","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4PAMO,SAASA,IAA4B,IAAlBC,EAAiB,0DACZC,mBAASD,GADG,mBAChCE,EADgC,KACxBC,EADwB,KAEjCC,EAASC,uBAAY,WAAqB,IAAXC,EAAU,uDAAN,KAC3B,OAANA,GAA4B,mBAANA,GAA+C,mBAArBA,EAAEC,OAAOC,SAKnD,OAANF,GAA0C,oBAArBA,EAAEG,gBACvBH,EAAEG,iBAENN,GAAS,SAAAO,GAAO,OAAKA,MAPjBP,EAAsB,mBAANG,EAAkBA,EAAIA,EAAEC,OAAOC,WAQpD,IACH,MAAO,CAACN,EAAQE,G,YC+DLO,MAAMC,MA/EN,SAAAC,GACX,OACI,kBAAC,IAAD,eACIC,OAAQ,CACJC,QAAS,SAAAD,GAAM,kCACRA,GADQ,IAEXE,gBAAiB,wBACjBC,YAAa,sBACb,SAAS,2BACFH,EAAO,WADd,IAEIE,gBAAiB,8BACjBC,YAAa,wBAEjB,SAAS,2BACFH,EAAO,WADd,IAEII,UAAW,iCAEfC,WAAY,SAEhBC,YAAa,SAAAN,GAAM,kCACZA,GADY,IAEfO,MAAO,0BAEXC,SAAU,SAAAR,GAAM,kCACTA,GADS,IAEZO,MAAO,uBACPL,gBAAiB,0BACjB,SAAS,2BACFF,EAAO,WADd,IAEIO,MAAO,mCAGfE,MAAO,SAAAT,GAAM,kCACNA,GADM,IAETO,MAAO,0BAEXG,KAAM,SAAAV,GAAM,kCACLA,GADK,IAERE,gBAAiB,6BAErBS,OAAQ,SAACX,EAAD,OAAWY,EAAX,EAAWA,UAAWC,EAAtB,EAAsBA,WAAtB,mBAAC,eACFb,GADC,IAEJO,MAAO,uBACPO,OAAQ,UACRZ,gBAAiBW,EACX,+BACAD,EACI,8BACA,KACV,UAAU,2BACHZ,EAAO,YADd,IAEIE,gBAAiBW,EACX,+BACA,mCAGdE,WAAY,SAAAf,GAAM,kCACXA,GADW,IAEdO,MAAO,uBACPL,gBAAiB,yBAErBc,gBAAiB,SAAAhB,GAAM,kCAChBA,GADgB,IAEnBO,MAAO,uBACPL,gBAAiB,yBAErBe,iBAAkB,SAAAjB,GAAM,kCACjBA,GADiB,IAEpB,SAAS,2BACFA,EAAO,WADd,IAEIE,gBAAiB,6BAIzBH,O,wBCvET,SAAemB,EAAtB,oC,4CAAO,WAAyBC,EAAKC,GAA9B,+BAAAC,EAAA,6DAAuCC,EAAvC,+BAAiD,CACpDC,OAAQ,mBACR,eAAgB,oBAFb,SAIoBC,MAAML,EAAD,aACxBG,WACGF,IANJ,cAIGK,EAJH,gBASwBA,EAASC,OATjC,UASGC,EATH,QAUCF,EAASG,GAVV,yCAWQD,GAXR,aAaGA,EAbH,6C,sBCNA,IAAME,EAAmB,CAC5B,YACA,cACA,sBACA,eACA,aACA,uBACA,QACA,uBACA,uBACA,eACA,mBACA,kBACA,YACA,4BACA,2BACA,iBACA,iBACA,gBACA,gBACA,gBACA,qBACA,kBACA,iBACA,gBACA,iBACA,gBACA,qBACA,aACA,YACA,YACA,cACA,kBACA,iBACA,eACA,YACA,YACA,WACA,eACA,SACA,QACA,aACA,YACA,YACA,cACA,YACA,mBACA,cACA,sBACA,eACA,cACA,SACA,qBACA,cACA,eACA,gBACA,uBACA,cACA,eACA,WACA,aACA,YACA,WACA,eACA,aACA,kBACA,uBACA,qBACA,sBACA,kBACA,gBACA,oBACA,mBACA,oBACA,qBACA,uBACA,sBACA,qBACA,sBACA,oBACA,qBACA,oBACA,kBACA,2BACA,cACA,qBACA,wBACA,mBACA,qBACA,mBACA,mBACA,eACA,sBACA,yBACA,yBACA,0BACA,4BACA,mBACA,wBACA,sBACA,wBACA,sBACA,uBACA,qBACA,uBACA,qBACA,uBACA,qBACA,YACA,gBACA,kBACA,oBACA,kBACA,oBACA,oBACA,iBACA,WACA,aACA,cACA,cACA,eACA,WACA,WACA,iBACA,WACA,eACA,cACA,YACA,eACA,cACA,mBACA,mBACA,gBACA,wBACA,eACA,uBACA,sBACA,oBACA,MACA,WACA,QACA,SACA,SACA,OACA,cACA,YACA,sBACA,mBACA,cACA,YACA,wBACA,aACA,cACA,gBACA,eACA,eACA,kBACA,iBACA,iBACA,sBACA,qBACA,qBACA,eACA,eACA,cACA,iBACA,gBACA,eACA,eACA,yBACA,kCACA,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","file":"static/js/main.42cbb230.chunk.js","sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\n\n/**\n * @param {boolean} initial \n * @returns {[boolean, function(): void]}\n */\nexport function useToggle(initial = false) {\n    const [status, setState] = useState(initial);\n    const toggle = useCallback(function (e = null) {\n        if (e !== null && (typeof e === 'boolean' || typeof e.target.checked === 'boolean')) {\n            setState(typeof e === 'boolean' ? e : e.target.checked);\n            return;\n        }\n        \n        if (e !== null && typeof e.preventDefault === 'function') {\n            e.preventDefault();\n        }\n        setState(current => !current);\n    }, []);\n    return [status, toggle];\n}\n\n/**\n * \n * @param {string} [page] \n * @param {number} [index] \n * @returns {[string, number, function (SyntheticEvent, string, number): void]}\n */\nexport function useMenu(page = 'main', index = -1) {\n    const [state, setState] = useState({ page, index });\n\n    const setPage = function (e, page = 'main', index = -1) {\n        if (e !== null) {\n            e.preventDefault();\n        }\n        if (index < 0) {\n            setState({ page });\n        } else {\n            setState({ page, index });\n        }\n    }\n\n    return [\n        state.page,\n        state.index,\n        setPage\n    ];\n}\n\n/**\n * @param {function(HTMLCanvasElement, CanvasRenderingContext2D): void} callback\n * @returns {React.MutableRefObject}\n */\nexport function useCanvas(callback) {\n    const reference = useRef(null);\n\n    useEffect(function() {\n        const canvas = reference.current;\n        const ctx = canvas.getContext('2d');\n        callback(canvas, ctx);\n    }, [callback]);\n\n    return reference;\n}","import React from 'react';\nimport ReactSelect from 'react-select';\n\nconst Select = props => {\n    return (\n        <ReactSelect\n            styles={{\n                control: styles => ({\n                    ...styles,\n                    backgroundColor: 'var(--bg-color-input)',\n                    borderColor: 'var(--border-color)',\n                    ':hover': {\n                        ...styles[':hover'],\n                        backgroundColor: 'var(--bg-color-input-hover)',\n                        borderColor: 'var(--border-color)'\n                    },\n                    ':focus': {\n                        ...styles[':focus'],\n                        boxShadow: '0 0 0 1px var(--focus-color)'\n                    },\n                    transition: '.1s',\n                }),\n                singleValue: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                }),\n                menuList: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    backgroundColor: 'var(--bg-color-section)',\n                    ':hover': {\n                        ...styles[':hover'],\n                        color: 'var(--bg-color-input-hover)',\n                    },\n                }),\n                input: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                }),\n                menu: styles => ({\n                    ...styles,\n                    backgroundColor: 'var(--bg-color-section)',\n                }),\n                option: (styles, { isFocused, isSelected }) => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    cursor: 'pointer',\n                    backgroundColor: isSelected\n                        ? 'var(--bg-color-select-focus)'\n                        : isFocused\n                            ? 'var(--bg-color-input-hover)'\n                            : null,\n                    ':active': {\n                        ...styles[':active'],\n                        backgroundColor: isSelected\n                            ? 'var(--bg-color-select-focus)'\n                            : 'var(--bg-color-input-hover)',\n                    },\n                }),\n                multiValue: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    backgroundColor: 'var(--select-label)'\n                }),\n                multiValueLabel: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    backgroundColor: 'var(--select-label)'\n                }),\n                multiValueRemove: styles => ({\n                    ...styles,\n                    ':hover': {\n                        ...styles[':hover'],\n                        backgroundColor: 'var(--select-label)',\n                    },\n                }),\n            }}\n            {...props}\n        />\n    );\n};\n\nexport default React.memo(Select);\n","/**\n * @param {string} url\n * @param {object} options\n * @param {object} [headers]\n * @returns {Promise<object>}\n */\nexport async function jsonFetch(url, options, headers = {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n}) {\n    const response = await fetch(url, {\n        headers,\n        ...options\n    });\n\n    const responseData = await response.json();\n    if (response.ok) {\n        return responseData;\n    }\n    throw responseData;\n}\n","export const VANILLA_FEATURES = [\n    \"end_spike\",\n    \"end_gateway\",\n    \"end_gateway_delayed\",\n    \"chorus_plant\",\n    \"end_island\",\n    \"end_island_decorated\",\n    \"delta\",\n    \"small_basalt_columns\",\n    \"large_basalt_columns\",\n    \"basalt_blobs\",\n    \"blackstone_blobs\",\n    \"glowstone_extra\",\n    \"glowstone\",\n    \"crimson_forest_vegetation\",\n    \"warped_forest_vegetation\",\n    \"nether_sprouts\",\n    \"twisting_vines\",\n    \"weeping_vines\",\n    \"basalt_pillar\",\n    \"seagrass_cold\",\n    \"seagrass_deep_cold\",\n    \"seagrass_normal\",\n    \"seagrass_river\",\n    \"seagrass_deep\",\n    \"seagrass_swamp\",\n    \"seagrass_warm\",\n    \"seagrass_deep_warm\",\n    \"sea_pickle\",\n    \"ice_spike\",\n    \"ice_patch\",\n    \"forest_rock\",\n    \"seagrass_simple\",\n    \"iceberg_packed\",\n    \"iceberg_blue\",\n    \"kelp_cold\",\n    \"kelp_warm\",\n    \"blue_ice\",\n    \"bamboo_light\",\n    \"bamboo\",\n    \"vines\",\n    \"lake_water\",\n    \"lake_lava\",\n    \"disk_clay\",\n    \"disk_gravel\",\n    \"disk_sand\",\n    \"freeze_top_layer\",\n    \"bonus_chest\",\n    \"void_start_platform\",\n    \"monster_room\",\n    \"desert_well\",\n    \"fossil\",\n    \"spring_lava_double\",\n    \"spring_lava\",\n    \"spring_delta\",\n    \"spring_closed\",\n    \"spring_closed_double\",\n    \"spring_open\",\n    \"spring_water\",\n    \"pile_hay\",\n    \"pile_melon\",\n    \"pile_snow\",\n    \"pile_ice\",\n    \"pile_pumpkin\",\n    \"patch_fire\",\n    \"patch_soul_fire\",\n    \"patch_brown_mushroom\",\n    \"patch_red_mushroom\",\n    \"patch_crimson_roots\",\n    \"patch_sunflower\",\n    \"patch_pumpkin\",\n    \"patch_taiga_grass\",\n    \"patch_berry_bush\",\n    \"patch_grass_plain\",\n    \"patch_grass_forest\",\n    \"patch_grass_badlands\",\n    \"patch_grass_savanna\",\n    \"patch_grass_normal\",\n    \"patch_grass_taiga_2\",\n    \"patch_grass_taiga\",\n    \"patch_grass_jungle\",\n    \"patch_dead_bush_2\",\n    \"patch_dead_bush\",\n    \"patch_dead_bush_badlands\",\n    \"patch_melon\",\n    \"patch_berry_sparse\",\n    \"patch_berry_decorated\",\n    \"patch_waterlilly\",\n    \"patch_tall_grass_2\",\n    \"patch_tall_grass\",\n    \"patch_large_fern\",\n    \"patch_cactus\",\n    \"patch_cactus_desert\",\n    \"patch_cactus_decorated\",\n    \"patch_sugar_cane_swamp\",\n    \"patch_sugar_cane_desert\",\n    \"patch_sugar_cane_badlands\",\n    \"patch_sugar_cane\",\n    \"brown_mushroom_nether\",\n    \"red_mushroom_nether\",\n    \"brown_mushroom_normal\",\n    \"red_mushroom_normal\",\n    \"brown_mushroom_taiga\",\n    \"red_mushroom_taiga\",\n    \"brown_mushroom_giant\",\n    \"red_mushroom_giant\",\n    \"brown_mushroom_swamp\",\n    \"red_mushroom_swamp\",\n    \"ore_magma\",\n    \"ore_soul_sand\",\n    \"ore_gold_deltas\",\n    \"ore_quartz_deltas\",\n    \"ore_gold_nether\",\n    \"ore_quartz_nether\",\n    \"ore_gravel_nether\",\n    \"ore_blackstone\",\n    \"ore_dirt\",\n    \"ore_gravel\",\n    \"ore_granite\",\n    \"ore_diorite\",\n    \"ore_andesite\",\n    \"ore_coal\",\n    \"ore_iron\",\n    \"ore_gold_extra\",\n    \"ore_gold\",\n    \"ore_redstone\",\n    \"ore_diamond\",\n    \"ore_lapis\",\n    \"ore_infested\",\n    \"ore_emerald\",\n    \"ore_debris_large\",\n    \"ore_debris_small\",\n    \"crimson_fungi\",\n    \"crimson_fungi_planted\",\n    \"warped_fungi\",\n    \"warped_fungi_planted\",\n    \"huge_brown_mushroom\",\n    \"huge_red_mushroom\",\n    \"oak\",\n    \"dark_oak\",\n    \"birch\",\n    \"acacia\",\n    \"spruce\",\n    \"pine\",\n    \"jungle_tree\",\n    \"fancy_oak\",\n    \"jungle_tree_no_vine\",\n    \"mega_jungle_tree\",\n    \"mega_spruce\",\n    \"mega_pine\",\n    \"super_birch_bees_0002\",\n    \"swamp_tree\",\n    \"jungle_bush\",\n    \"oak_bees_0002\",\n    \"oak_bees_002\",\n    \"oak_bees_005\",\n    \"birch_bees_0002\",\n    \"birch_bees_002\",\n    \"birch_bees_005\",\n    \"fancy_oak_bees_0002\",\n    \"fancy_oak_bees_002\",\n    \"fancy_oak_bees_005\",\n    \"oak_badlands\",\n    \"spruce_snowy\",\n    \"flower_warm\",\n    \"flower_default\",\n    \"flower_forest\",\n    \"flower_swamp\",\n    \"flower_plain\",\n    \"flower_plain_decorated\",\n    \"forest_flower_vegetation_common\",\n    \"forest_flower_vegetation\",\n    \"dark_forest_vegetation_brown\",\n    \"dark_forest_vegetation_red\",\n    \"warm_ocean_vegetation\",\n    \"forest_flower_trees\",\n    \"taiga_vegetation\",\n    \"trees_shattered_savanna\",\n    \"trees_savanna\",\n    \"birch_tall\",\n    \"trees_birch\",\n    \"trees_mountain_edge\",\n    \"trees_mountain\",\n    \"trees_water\",\n    \"birch_other\",\n    \"plain_vegetation\",\n    \"trees_jungle_edge\",\n    \"trees_giant_spruce\",\n    \"trees_giant\",\n    \"trees_jungle\",\n    \"bamboo_vegetation\",\n    \"mushroom_field_vegetation\"\n];\n","export const VANILLA_SURFACE_BUILDERS = [\n    { value: 'badlands', label: 'Badlands' },\n    { value: 'basalt_deltas', label: 'Basalt Deltas' },\n    { value: 'crimson_forest', label: 'Crimson forest' },\n    { value: 'desert', label: 'Desert' },\n    { value: 'end', label: 'End' },\n    { value: 'eroded_badlands', label: 'Eroded Badlands' },\n    { value: 'frozen_ocean', label: 'Frozen ocean' },\n    { value: 'full_sand', label: 'Full sand' },\n    { value: 'giant_tree_taiga', label: 'Giant tree taiga' },\n    { value: 'grass', label: 'Grass' },\n    { value: 'gravelly_mountain', label: 'Gravelly mountain' },\n    { value: 'ice_spikes', label: 'Ice spikes' },\n    { value: 'mountain', label: 'Mountain' },\n    { value: 'mycelium', label: 'Mycelium' },\n    { value: 'nether', label: 'Nether' },\n    { value: 'nope', label: 'Nope' },\n    { value: 'ocean_sand', label: 'Ocean sand' },\n    { value: 'shattered_savanna', label: 'Shattered savanna' },\n    { value: 'soul_sand_valley', label: 'Soul sand valley' },\n    { value: 'stone', label: 'Stone' },\n    { value: 'swamp', label: 'Swamp' },\n    { value: 'warped_forest', label: 'Warped forest' },\n    { value: 'wooded_badlands', label: 'Wooded badlands' },\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n\nexport const SURFACE_TYPES_OPTIONS = [\n    { value: 'default', label: 'Default' },\n    { value: 'mountain', label: 'Mountain' },\n    { value: 'shattered_savanna', label: 'Shattered savanna' },\n    { value: 'gravelly_mountain', label: 'Gravelly mountain' },\n    { value: 'giant_tree_taiga', label: 'Giant tree taiga' },\n    { value: 'swamp', label: 'Swamp' },\n    { value: 'badlands', label: 'Badlands' },\n    { value: 'wooded_badlands', label: 'Wooded badlands' },\n    { value: 'eroded_badlands', label: 'Eroded badlands' },\n    { value: 'frozen_ocean', label: 'Frozen ocean' },\n    { value: 'nether', label: 'Nether' },\n    { value: 'nether_forest', label: 'Nether forest' },\n    { value: 'soul_sand_valley', label: 'Soul sand valley' },\n    { value: 'basalt_deltas', label: 'Basalt deltas' },\n    { value: 'nope', label: 'Nope' }\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n\nexport const SURFACE_BUILDER = {\n    config: {\n        top_material: {\n            Properties: {\n                snowy: \"false\"\n            },\n            Name: \"minecraft:grass_block\"\n        },\n        under_material: {\n            Name: \"minecraft:dirt\"\n        },\n        underwater_material: {\n            Name: \"minecraft:gravel\"\n        }\n    },\n    type: \"minecraft:default\"\n}","export const VANILLA_NOISES = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:nether', label: 'Nether' },\n    { value: 'minecraft:end', label: 'End' },\n    { value: 'minecraft:amplified', label: 'Amplified' },\n    { value: 'minecraft:caves', label: 'Caves' },\n    { value: 'minecraft:floating_islands', label: 'Floating islands' }\n];\n\nexport const STRUCTURES = [\n    \"ocean_ruin\",\n    \"bastion_remnant\",\n    \"fortress\",\n    \"nether_fossil\",\n    \"igloo\",\n    \"shipwreck\",\n    \"swamp_hut\",\n    \"jungle_pyramid\",\n    \"village\",\n    \"ruined_portal\",\n    \"endcity\",\n    \"buried_treasure\",\n    \"mansion\",\n    \"monument\",\n    \"stronghold\",\n    \"pillager_outpost\",\n    \"desert_pyramid\",\n    \"mineshaft\"\n].map(tag => ({ value: 'minecraft:' + tag, label: tag }));;\n\nexport const OVERWORLD_NOISE = {\n    bedrock_roof_position: -10,\n    bedrock_floor_position: 0,\n    sea_level: 63,\n    disable_mob_generation: false,\n    structures: {\n        stronghold: {\n            distance: 32,\n            spread: 3,\n            count: 128\n        },\n        structures: {\n            \"minecraft:ocean_ruin\": {\n                spacing: 20,\n                separation: 8,\n                salt: 14357621\n            },\n            \"minecraft:bastion_remnant\": {\n                spacing: 27,\n                separation: 4,\n                salt: 30084232\n            },\n            \"minecraft:fortress\": {\n                spacing: 27,\n                separation: 4,\n                salt: 30084232\n            },\n            \"minecraft:nether_fossil\": {\n                spacing: 2,\n                separation: 1,\n                salt: 14357921\n            },\n            \"minecraft:igloo\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357618\n            },\n            \"minecraft:shipwreck\": {\n                spacing: 24,\n                separation: 4,\n                salt: 165745295\n            },\n            \"minecraft:swamp_hut\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357620\n            },\n            \"minecraft:jungle_pyramid\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357619\n            },\n            \"minecraft:village\": {\n                spacing: 32,\n                separation: 8,\n                salt: 10387312\n            },\n            \"minecraft:ruined_portal\": {\n                spacing: 40,\n                separation: 15,\n                salt: 34222645\n            },\n            \"minecraft:endcity\": {\n                spacing: 20,\n                separation: 11,\n                salt: 10387313\n            },\n            \"minecraft:buried_treasure\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            },\n            \"minecraft:mansion\": {\n                spacing: 80,\n                separation: 20,\n                salt: 10387319\n            },\n            \"minecraft:monument\": {\n                spacing: 32,\n                separation: 5,\n                salt: 10387313\n            },\n            \"minecraft:stronghold\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            },\n            \"minecraft:pillager_outpost\": {\n                spacing: 32,\n                separation: 8,\n                salt: 165745296\n            },\n            \"minecraft:desert_pyramid\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357617\n            },\n            \"minecraft:mineshaft\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            }\n        }\n    },\n    noise: {\n        height: 256,\n        sampling: {\n            xz_scale: 1,\n            y_scale: 1,\n            xz_factor: 80.0,\n            y_factor: 160.0\n        },\n        top_slide: {\n            target: -10,\n            size: 3,\n            offset: 0\n        },\n        bottom_slide: {\n            target: -30,\n            size: 0,\n            offset: 0\n        },\n        size_horizontal: 1,\n        size_vertical: 2,\n        density_factor: 1.0,\n        density_offset: -0.47,\n        simplex_surface_noise: true\n    },\n    default_block: {\n        Name: \"minecraft:stone\"\n    },\n    default_fluid: {\n        Properties: {\n            level: \"0\"\n        },\n        Name: \"minecraft:water\"\n    }\n}\n","export const DIMENSION = {\n    generator: {\n        type: \"minecraft:noise\",\n        seed: 286956243,\n        biome_source: {\n            type: \"minecraft:fixed\",\n            seed: 286956243,\n            biome: \"minecraft:plains\"\n        },\n        settings: \"minecraft:overworld\"\n    },\n    type: \"minecraft:overworld\"\n};\n\nexport const CHUNK_GENERATOR_TYPES = [\n    { value: 'minecraft:flat', label: 'Flat chunk generator' },\n    { value: 'minecraft:debug', label: 'Debug chunk generator' },\n    { value: 'minecraft:noise', label: 'Noise chunk generator' }\n];\n\nexport const VANILLA_DIMENSION_TYPES = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:overworld_caves', label: 'Overworld caves' },\n    { value: 'minecraft:the_nether', label: 'The Nether' },\n    { value: 'minecraft:the_end', label: 'The End' }\n];\n\nexport const NOISES_NAMES = [\n    'temperature_noise',\n    'humidity_noise',\n    'altitude_noise',\n    'weirdness_noise'\n];\n\nexport const MULTI_NOISE_BIOME_SOURCE = {\n    type: 'minecraft:multi_noise',\n    seed: 286956243,\n    temperature_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    humidity_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    altitude_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    weirdness_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    biomes: []\n};\n\nexport const DIMENSION_TYPE_EFFECTS = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:the_nether', label: 'The Nether' },\n    { value: 'minecraft:the_end', label: 'The End' }\n];\n\nexport const DIMENSION_TYPE_INFINIBURN = [\n    { value: 'minecraft:infiniburn_overworld', label: 'Overworld' },\n    { value: 'minecraft:infiniburn_nether', label: 'The Nether' },\n    { value: 'minecraft:infiniburn_end', label: 'The End' }\n];\n\nexport const OVERWORLD_DIMENSION_TYPE = {\n    has_raids: true,\n    logical_height: 256,\n    infiniburn: \"minecraft:infiniburn_overworld\",\n    effects: \"minecraft:overworld\",\n    ambient_light: 0.0,\n    piglin_safe: false,\n    bed_works: true,\n    respawn_anchor_works: false,\n    ultrawarm: false,\n    natural: true,\n    coordinate_scale: 1,\n    has_skylight: true,\n    has_ceiling: false\n}\n\nexport const OVERWORLD_CAVES_DIMENSION_TYPE = { ...OVERWORLD_DIMENSION_TYPE, has_ceiling: true };\n\nexport const THE_NETHER_DIMENSION_TYPE = {\n    has_raids: false,\n    logical_height: 128,\n    infiniburn: \"minecraft:infiniburn_nether\",\n    effects: \"minecraft:the_nether\",\n    ambient_light: 0.1,\n    piglin_safe: true,\n    bed_works: false,\n    respawn_anchor_works: true,\n    ultrawarm: true,\n    natural: false,\n    coordinate_scale: 8,\n    fixed_time: 18000,\n    has_skylight: false,\n    has_ceiling: true\n}\n\nexport const THE_END_DIMENSION_TYPE = {\n    has_raids: true,\n    logical_height: 256,\n    infiniburn: \"minecraft:infiniburn_end\",\n    effects: \"minecraft:the_end\",\n    ambient_light: 0.0,\n    piglin_safe: false,\n    bed_works: false,\n    respawn_anchor_works: false,\n    ultrawarm: false,\n    natural: false,\n    coordinate_scale: 1,\n    fixed_time: 6000,\n    has_skylight: false,\n    has_ceiling: false\n}\n","export const VANILLA_CARVERS = [\n    { value: 'canyon', label: 'Canyon', probability: 0.02 },\n    { value: 'cave', label: 'Cave', probability: 0.143 },\n    { value: 'nether_cave', label: 'Nether cave', probability: 0.2 },\n    { value: 'underwater_canyon', label: 'Underwater canyon', probability: 0.02  },\n    { value: 'underwater_cave', label: 'Underwater cave', probability: 0.067 }\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n","const namespace = '%namespace%';\nexport const PATHS = {\n    dimensions: `data/${namespace}/dimension`,\n    dimension_types: `data/${namespace}/dimension_type`,\n    biomes: `data/${namespace}/worldgen/biome`,\n    carvers: `data/${namespace}/worldgen/configured_carver`,\n    features: `data/${namespace}/worldgen/configured_feature`,\n    surfaces: `data/${namespace}/worldgen/configured_surface_builder`,\n    noises: `data/${namespace}/worldgen/noise_settings`,\n    processors: `data/${namespace}/worldgen/processor_list`\n};\n\n/**\n * @param {('dimensions'|'dimension_types'|'biomes'|'carvers'|'features'|'surfaces'|'noises'|'processors')} type \n * @param {string} namespace \n * @param {string} identifier \n * @returns {string}\n */\nexport function getAbsolutePath(type, namespace, identifier) {\n    return PATHS[type].replace('%namespace%', namespace) + '/' + identifier + '.json';\n}\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { jsonFetch } from '../utils/fetch';\nimport { VANILLA_FEATURES } from '../components/feature/VanillaFeatures';\nimport { useData } from '../hooks/context';\nimport { VANILLA_SURFACE_BUILDERS } from '../components/surface/SurfaceBuilderDefaults';\nimport { VANILLA_NOISES } from '../components/noise/NoiseDefaults';\nimport { VANILLA_DIMENSION_TYPES } from '../components/dimension/DimensionDefaults';\nimport { VANILLA_CARVERS } from '../components/carver/CarverDefaults';\nimport JSZip from 'jszip';\nimport { getAbsolutePath } from './Paths';\n\nexport const DataContext = React.createContext({\n    vanilla: {\n        biomes: [],\n        blocks: [],\n        carvers: [],\n        dimensions: [],\n        dimension_types: [],\n        entities: [],\n        features: [],\n        noises: [],\n        sounds: [],\n        surfaces: [],\n        /**\n         * @param {string} type \n         * @param {string} key \n         * @returns {Promise<object>}  \n         */\n        getVanillaResource: (type, key) => {}\n    },\n    custom: {\n        biomes: [],\n        carvers: [],\n        dimensions: [],\n        dimension_types: [],\n        features: [],\n        noises: [],\n        processors: [],\n        surfaces: [],\n        updateBiomes: (biome) => {},\n        updateCarvers: (carver) => {},\n        updateDimensions: (dimension) => {},\n        updateDimensionTypes: (dimension_type) => {},\n        updateFeatures: (feature) => {},\n        updateNoises: (noise) => {},\n        updateProcessors: (processor) => {},\n        updateSurfacesBuilders: (surface_builder) => {}\n    },\n    namespace: ''\n});\n\nexport function DataContextProvider({children, namespace, initial = {}}) {\n    const [biomes, setBiomes] = useState([]);\n    const [blocks, setBlocks] = useState([]);\n    const [entities, setEntities] = useState([]);\n    const [sounds, setSounds] = useState([]);\n\n    const [customBiomes, updateBiomes] = useData(initial.biomes);\n    const [carvers, updateCarvers] = useData(initial.carvers);\n    const [dimensions, updateDimensions] = useData(initial.dimensions);\n    const [dimension_types, updateDimensionTypes] = useData(initial.dimension_types);\n    const [features, updateFeatures] = useData(initial.features);\n    const [noises, updateNoises] = useData(initial.noises);\n    const [processors, updateProcessors] = useData(initial.processors);\n    const [surfaces, updateSurfacesBuilders] = useData(initial.surfaces);\n\n    const [vanillaZip, setVanillaZip] = useState(null);\n\n    useEffect(() => {\n        (async function () {\n            jsonFetch('https://unpkg.com/minecraft-data@2.65.0/minecraft-data/data/pc/1.16.1/biomes.json')\n                .then(biomes => setBiomes(biomes));\n            jsonFetch('https://unpkg.com/minecraft-data@2.65.0/minecraft-data/data/pc/1.16.1/blocks.json')\n                .then(blocks => setBlocks(blocks));\n            jsonFetch('https://unpkg.com/minecraft-data@2.65.0/minecraft-data/data/pc/1.16.1/entities.json')\n                .then(entities => setEntities(entities.map(entity => ({ value: 'minecraft:' + entity.name, label: entity.displayName }))));\n            jsonFetch('https://raw.githubusercontent.com/Arcensoth/mcdata/master/processed/reports/registries/sound_event/data.min.json', {}, {})\n                .then(sounds => setSounds(sounds.values.map(sound => ({ value: sound, label: sound.substr(10) }))));\n        })();\n    }, []);\n\n    const getVanillaResource = useCallback(async function (type, key) {\n        let zip = vanillaZip;\n        if (zip === null) {\n            const blob = (await fetch('https://raw.githubusercontent.com/slicedlime/examples/master/vanilla_worldgen.zip')).blob();\n            try {\n                zip = await JSZip.loadAsync(blob);\n            } catch (e) {\n                setVanillaZip(e);\n                return Promise.reject(new Error(`Unable to download the vanilla resource archive for reference.\\n${e.message}`));\n            }\n            setVanillaZip(zip);\n        } else if (zip instanceof Error) {\n            return Promise.reject(zip);\n        }\n        const relative = getAbsolutePath(type, 'minecraft', key).substr(15).replace('minecraft:', '');\n        const file = zip.file(relative);\n        if (file === null) {\n            return Promise.reject(new Error('Unable to find the associated vanilla file.'));\n        }\n        return Promise.resolve(JSON.parse(await file.async('text')));\n    }, [vanillaZip]);\n\n    return <DataContext.Provider value={{\n        vanilla: {\n            biomes,\n            blocks,\n            carvers: VANILLA_CARVERS,\n            dimensions: VANILLA_DIMENSION_TYPES.filter(o => !o.value.includes('cave')),\n            dimension_types: VANILLA_DIMENSION_TYPES,\n            entities,\n            features: VANILLA_FEATURES,\n            noises: VANILLA_NOISES,\n            sounds,\n            surfaces: VANILLA_SURFACE_BUILDERS,\n            getVanillaResource\n        },\n        custom: {\n            biomes: customBiomes, carvers, dimensions, dimension_types, features, noises, processors, surfaces,\n            updateBiomes, updateCarvers, updateDimensions, updateDimensionTypes, updateFeatures, updateNoises, updateProcessors, updateSurfacesBuilders\n        },\n        namespace\n    }}>{children}</DataContext.Provider>\n}","import { MULTI_NOISE_BIOME_SOURCE, NOISES_NAMES } from './../components/dimension/DimensionDefaults';\n\n/**\n * @param {object} a \n * @param {object} b \n * @returns {boolean}\n */\nexport function objectsEqual(a, b) {\n    return Object.keys(a).length === Object.keys(b).length\n        && Object.keys(a).every(p => a[p] === b[p]);\n}\n\n/**\n * @param {string} str \n * @returns {string}\n */\nexport function capitalize(str) {\n    return str[0].toUpperCase() + str.substr(1);\n}\n\n/**\n * @param {string} key \n * @param {string} [defaultNamespace]\n * @returns {string}\n */\nexport function displayNamespacedKey(key = 'undefined', defaultNamespace) {\n    return key.startsWith(defaultNamespace + ':') ? key.split(':')[1] : key;\n}\n\nexport function getStateValue(state, properties = {}) {\n    const actual = properties[state.name];\n    switch (state.type) {\n        case 'bool':\n            return actual === 'true' ? 'true' : 'false';\n        case 'int':\n            return typeof actual === 'string' ? actual : '0';\n        default:\n            return actual || state.values[0];\n    }\n}\n\nexport function hasDuplicatedObjects(objects) {\n    for (const a of objects) {\n        for (const b of objects) {\n            if (a !== b && objectsEqual(a, b)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n/**\n * @param {object} feature Unserialized feature\n * @returns {{type: string, config: object}[]} Decorators list\n */\nexport function findDecorators(feature) {\n    const decorators = [];\n\n    let f = feature;\n    (function find(obj) {\n        for (const key of Object.keys(obj)) {\n            if (key === 'decorator') {\n                decorators.unshift(obj[key]);\n                if ((obj.feature.type || obj.feature.name) !== 'minecraft:decorated') {\n                    f = obj.feature;\n                }\n            } else if (typeof obj[key] === 'object') {\n                find(obj[key]);\n            }\n        }\n    }(feature));\n\n    if (f === null) {\n        f = {};\n    }\n    return [decorators, f];\n}\n\n/**\n * @param {object} feature \n * @param {{type: string, config: object}[]} decorators \n * @param {string} name\n * @returns {object} Decorated feature\n */\nexport function buildDecorated(feature, decorators, name) {\n    if (decorators.length < 1) {\n        feature.key = name;\n        return feature;\n    }\n\n    const decorated = { type: 'minecraft:decorated', key: name };\n    let current = decorated;\n    decorators.forEach((decorator, i) => {\n        const f = i === (decorators.length - 1) ? feature : { type: 'minecraft:decorated' };\n        current.config = {\n            feature: f,\n            decorator\n        };\n        current = f;\n        if (i < 1) {\n            f.name = name;\n        }\n    });\n    return decorated;\n}\n\n/**\n * Rename object keys.\n * \n * @param {object} obj \n * @param {object} map \n * @returns {object}\n */\nfunction refitKeys(obj, map) {\n    const build = {};\n    for (const key in obj) {\n        const destKey = map[key] || key;\n\n        let value = obj[key];\n        if (typeof value === 'object') {\n            value = refitKeys(value, map);\n        }\n        build[destKey] = value;\n    }\n    return build;\n}\n\n/**\n * @param {string} group \n * @param {object} data \n * @returns {object}\n */\nexport function dataUpper(group, data) {\n    switch (group) {\n        case 'biomes':\n            // 20w30a: sky_color into effects\n            if (data.hasOwnProperty('sky_color')) {\n                data.effects.sky_color = data.sky_color;\n            }\n            return data;\n        case 'features':\n            // 20w30a: name -> type\n            const [decorators, feature] = findDecorators(data);\n            if (!feature.hasOwnProperty('type')) {\n                feature.type = feature.name;\n                delete feature.name;\n                return buildDecorated(\n                    feature,\n                    decorators.map(decorator => refitKeys(decorator, { name: 'type' })),\n                    data.key\n                );\n            }\n            return data;\n        case 'dimensions':\n            // 20w30a: multi_noise: firstOctave and amplitudes parameters\n            const source = data.generator.biome_source;\n            if (source.type === 'minecraft:multi_noise' && NOISES_NAMES.some(n => !source.hasOwnProperty(n))) {\n                data.generator.biome_source = { ...MULTI_NOISE_BIOME_SOURCE, ...source };\n            }\n            return data;\n        case 'dimension_types':\n            // 1.16.2-pre-2 : shrunk -> coordinate_scale\n            if (data.hasOwnProperty('shrunk')) {\n                data.coordinate_scale = data.shrunk ? 8 : 1;\n                delete data.shrunk;\n            }\n            return data;\n        default:\n            // 20w30a: name -> type\n            if (data.hasOwnProperty('name') && !data.hasOwnProperty('type')) {\n                data.type = data.name;\n            }\n            return data;\n    }\n}\n","import { useContext, useState } from \"react\";\nimport { DataContext } from \"../context/DataContext\";\nimport { displayNamespacedKey } from \"../utils/data\";\n\n/**\n * @param {object[]} initial\n * @returns {[object[], function(object): void]} \n */\nexport function useData(initial = []) {\n    const [data, setData] = useState(initial);\n\n    const updateData = function(object, previous) {\n        setData(stored => {\n            if (!object.hasOwnProperty('key')) {\n                stored.splice(stored.findIndex(obj => obj === (previous || object)), 1);\n                return stored;\n            }\n\n            const existing = stored.find(({ key }) => object.key === key);\n            if (typeof existing !== 'undefined' && existing !== previous) {\n                do {\n                    object.key += '2';\n                } while (stored.findIndex(({ key }) => object.key === key) > -1)\n                stored.push(object);\n                return stored;\n            }\n\n            if (typeof previous === 'undefined' || !previous.hasOwnProperty('key')) {\n                stored.push(object);\n            } else {\n                stored[stored.indexOf(previous)] = object;\n            }\n            return stored;\n        });\n    }\n    return [data, updateData];\n}\n\n/**\n * @param {('dimensions'|'dimension_types'|'biomes'|'carvers'|'features'|'surfaces'|'noises')} category Data category\n * @param {boolean} [includeCustom]\n * @param {boolean} [empty]\n * @returns {{ value: string, label: string }[]} Options list for react-select\n */\nexport function useKeyedListOptions(category, includeCustom = true, empty = false) {\n    const context = useContext(DataContext);\n    if (empty) {\n        return [];\n    }\n\n    const options = includeCustom ? context.custom[category]\n        .map(keyed => {\n            const name = displayNamespacedKey(keyed.key, context.namespace);\n            return { value: keyed.key, label: '(Custom) ' + name };\n        }) : [];\n\n    let struct = null;\n    context.vanilla[category].forEach(keyed => {\n        if (struct === null) {\n            struct = keyed.hasOwnProperty('displayName') ? 1 : (keyed.hasOwnProperty('label') ? 2 : 3);\n        }\n        switch(struct) {\n            case 1: // displayName\n                options.push({ value: 'minecraft:' + keyed.name, label: keyed.displayName });\n                return;\n            case 2: // already option\n                options.push(keyed);\n                return;\n            default:\n                options.push({ value: 'minecraft:' + keyed, label: keyed });\n        }\n    });\n    return options;\n}\n","import React from 'react';\n\nexport function Button ({loading, cat = 'primary', ...buttonProps}) {\n    return <button className={`btn btn--${cat}`} {...buttonProps} tabIndex=\"0\"></button>\n}\n","import React, { useState, useCallback, useRef, useMemo, useContext, useEffect } from 'react';\nimport { useToggle } from '../hooks/ui';\nimport Select from '../ui/Select';\nimport { useKeyedListOptions } from '../hooks/context';\nimport { DataContext } from '../context/DataContext';\nimport { Button } from '../ui/Button';\n\nexport function NamespacedKey({ children, example = 'daily_resource', type, value = '', expectBreakage = false, inline = true, mayReplaceVanilla = true, defaultReplace = false, onChange, onSelect, onSelectLoad }) {\n    // To trigger form submit\n    const hidden = useRef(null);\n\n    // Final namespaced key\n    const [key, setKey] = useState(value);\n    const [fill, toggleFill] = useToggle(true);\n    const [mayFill, setMayFill] = useToggle(value !== '');\n\n    const options = useKeyedListOptions(type, false, !mayReplaceVanilla);\n\n    const context = useContext(DataContext);\n    const defaultNamespace = context.namespace;\n    const [replace, toggle] = useToggle(value === '' ? defaultReplace : options.some(o => key === o.value));\n\n    // Adjust value with default namespace if needed\n    const handleKeyChange = useCallback(function (e) {\n        const value = e.target.value.toLowerCase();\n        if (value.includes(':')) {\n            setKey(value);\n        } else {\n            setKey(defaultNamespace + ':' + value);\n        }\n    }, [defaultNamespace, setKey]);\n\n    const handleReplaceTargetChange = useCallback((selected) => {\n        const key = selected.value;\n        setKey(key);\n        setMayFill(true);\n        if (typeof onSelect === 'function') {\n            onSelect(key);\n        }\n        if (fill && typeof onSelectLoad === 'function') {\n            context.vanilla.getVanillaResource(type, key)\n                .then(onSelectLoad)\n                .then(setMayFill)\n                .catch(console.error);\n        }\n    }, [context.vanilla, fill, onSelect, onSelectLoad, setKey, setMayFill, type]);\n\n    // Fire onChange\n    useEffect(function() {\n        if (typeof onChange === 'function' && key !== value) {\n            onChange(key);\n        }\n    }, [key, onChange, value]);\n\n    // Allow form submit by pressing enter\n    const handleKeyDown = useCallback(function (e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            const form = hidden.current.form;\n            if (form !== null) {\n                form.dispatchEvent(new Event('submit', { cancelable: true }));\n            }\n        }\n    }, []);\n\n    // Remove the \"minecraft:\" part when changing mode\n    const handleToggle = useCallback(function (e) {\n        if (replace && key.startsWith('minecraft:')) {\n            setKey(key => defaultNamespace + ':' + key.split(':')[1]);\n        }\n        toggle(e);\n    }, [defaultNamespace, key, setKey, replace, toggle]);\n\n    const handleFillToggle = useCallback(function (e) {\n        if (e.target.checked && mayFill && typeof onSelectLoad === 'function') {\n            context.vanilla.getVanillaResource(type, key)\n                .then(onSelectLoad)\n                .then(setMayFill)\n                .catch(console.error);\n        }\n        toggleFill(e);\n    }, [context.vanilla, key, mayFill, onSelectLoad, setMayFill, toggleFill, type]);\n\n    // Displayed input value - trim namespace if default\n    const inputValue = useMemo(function () {\n        if (key.startsWith(defaultNamespace + ':')) {\n            return key.split(':')[1];\n        }\n        return key;\n    }, [defaultNamespace, key]);\n\n    // Hidden input value - set to empty when nothing is selected (keeps the key from text mode)\n    const hiddenInputValue = useMemo(function () {\n        if (replace && !options.some(o => o.value === key)) {\n            return '';\n        }\n        return key;\n    }, [key, options, replace]);\n\n    // Adapt select width to its content\n    const style = useMemo(function () {\n        let width = 8 * Math.max.apply(Math, options.map(o => o.label.length)) + 60;\n        if (!isFinite(width)) {\n            width = '250px';\n        }\n        return { width };\n    }, [options]);\n\n    const dummyOnChange = useCallback(console.log, []);\n\n    return <>\n        {typeof children !== 'undefined' && <h3>{(typeof value === 'undefined' || value === '') ? 'Create new ' : 'Edit '}{children}</h3>}\n        <div className=\"form-group\">\n            <label htmlFor=\"key\">{replace ? 'Replace' : 'Key'}</label> :&nbsp;\n            {replace && <div className=\"inbl\" style={style}>\n                <Select options={options} value={options.find(o => key === o.value)} onChange={handleReplaceTargetChange} inputId=\"key\" />\n            </div>}\n            {!replace &&\n                <input type=\"text\" id=\"key\" required pattern=\"^([\\w.-]+:[\\w/.-]+)$|^[\\w/.-]+$\" placeholder={`Example: ${example}`}\n                    autoCapitalize=\"none\" spellCheck=\"false\" autoComplete=\"off\" value={inputValue}\n                    onChange={handleKeyChange} onKeyPress={handleKeyDown} />\n            }\n            <input type={replace ? 'text' : 'hidden'} name=\"key\" value={hiddenInputValue} onChange={dummyOnChange} ref={hidden}\n                required tabIndex=\"-1\" style={{ opacity: 0, height: 0, position: 'absolute' }} />\n            {mayReplaceVanilla && <Button cat=\"info mlm\" onClick={handleToggle}>{replace ? 'Create a new one' : 'Replace vanilla'}</Button>}\n            {!inline && <br />}{replace && <><input type=\"checkbox\" className=\"checkbox mls\" id=\"fill-values\" checked={fill} onChange={handleFillToggle} /> Fill with values</>}\n        \n            {expectBreakage && value !== key && !key.startsWith('minecraft:') &&\n                <p className=\"alert--warning\">Warning: changing the name of a resource may break other resources that depend on it.</p>\n            }\n            {!mayReplaceVanilla && !replace && key.startsWith('minecraft:') &&\n                <p className=\"alert--warning\">Warning: datapacks cannot currently replace vanilla {type}.</p>\n            }\n        </div>\n    </>;\n}","export const EFFECTS = {\n    mood_sound: {\n        sound: \"minecraft:ambient.cave\",\n        tick_delay: 6000,\n        block_search_extent: 8,\n        offset: 2.0\n    },\n    sky_color: 7907327,\n    fog_color: 12638463,\n    water_color: 4159204,\n    water_fog_color: 329011\n}\n\nexport const FEATURES = [\n    [],\n    [\n        \"minecraft:lake_water\",\n        \"minecraft:lake_lava\"\n    ],\n    [],\n    [\n        \"minecraft:monster_room\"\n    ],\n    [],\n    [],\n    [\n        \"minecraft:ore_dirt\",\n        \"minecraft:ore_gravel\",\n        \"minecraft:ore_granite\",\n        \"minecraft:ore_diorite\",\n        \"minecraft:ore_andesite\",\n        \"minecraft:ore_coal\",\n        \"minecraft:ore_iron\",\n        \"minecraft:ore_gold\",\n        \"minecraft:ore_redstone\",\n        \"minecraft:ore_diamond\",\n        \"minecraft:ore_lapis\",\n        \"minecraft:disk_sand\",\n        \"minecraft:disk_clay\",\n        \"minecraft:disk_gravel\"\n    ],\n    [],\n    [\n        \"minecraft:patch_tall_grass_2\",\n        \"minecraft:plain_vegetation\",\n        \"minecraft:flower_plain_decorated\",\n        \"minecraft:patch_grass_plain\",\n        \"minecraft:brown_mushroom_normal\",\n        \"minecraft:red_mushroom_normal\",\n        \"minecraft:patch_sugar_cane\",\n        \"minecraft:patch_pumpkin\",\n        \"minecraft:spring_water\",\n        \"minecraft:spring_lava\"\n    ],\n    [\n        \"minecraft:freeze_top_layer\"\n    ]\n]\n\nexport const STARTS = [\n    \"minecraft:village_plains\",\n    \"minecraft:pillager_outpost\",\n    \"minecraft:mineshaft\",\n    \"minecraft:stronghold\",\n    \"minecraft:ruined_portal\"\n]\n\nconst SPAWNERS_AMBIENT = [\n    {\n        type: \"minecraft:bat\",\n        weight: 10,\n        minCount: 8,\n        maxCount: 8\n    }\n];\n\nconst SPAWNERS_CREATURE = [\n    {\n        type: \"minecraft:sheep\",\n        weight: 12,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:pig\",\n        weight: 10,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:chicken\",\n        weight: 10,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:cow\",\n        weight: 8,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:horse\",\n        weight: 5,\n        minCount: 2,\n        maxCount: 6\n    },\n    {\n        type: \"minecraft:donkey\",\n        weight: 1,\n        minCount: 1,\n        maxCount: 3\n    }\n];\n\nconst SPAWNERS_MONSTER = [\n    {\n        type: \"minecraft:spider\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:zombie\",\n        weight: 95,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:zombie_villager\",\n        weight: 5,\n        minCount: 1,\n        maxCount: 1\n    },\n    {\n        type: \"minecraft:skeleton\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:creeper\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:slime\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:enderman\",\n        weight: 10,\n        minCount: 1,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:witch\",\n        weight: 5,\n        minCount: 1,\n        maxCount: 1\n    },\n];\n\nexport const SPAWNERS_DEFAULTS = {\n    ambient: SPAWNERS_AMBIENT,\n    creature: SPAWNERS_CREATURE,\n    misc: [],\n    monster: SPAWNERS_MONSTER,\n    water_ambient: [],\n    water_creature: []\n};\n\nexport const BIOME_DEFAULTS = {\n    effects: EFFECTS,\n    carvers: {\n        air: [\n            \"minecraft:cave\",\n            \"minecraft:canyon\"\n        ]\n    },\n    starts: STARTS,\n    features: FEATURES,\n    spawners: SPAWNERS_DEFAULTS,\n    category: \"plains\",\n    precipitation: \"rain\",\n    surface_builder: \"minecraft:grass\",\n    scale: 0.05,\n    downfall: 0.4,\n    depth: 0.12,\n    temperature: 0.8,\n    player_spawn_friendly: true,\n    spawn_costs: {}\n}\n\nexport const PARTICLES = [\n    'ambient_entity_effect',\n    'angry_villager',\n    'ash',\n    'barrier',\n    'block',\n    'bubble',\n    'bubble_column_up',\n    'bubble_pop',\n    'campfire_cosy_smoke',\n    'campfire_signal_smoke',\n    'cloud',\n    'composter',\n    'crimson_spore',\n    'crit',\n    'current_down',\n    'damage_indicator',\n    'dolphin',\n    'dragon_breath',\n    'dripping_honey',\n    'dripping_lava',\n    'dripping_obsidian_tear',\n    'dripping_water',\n    'dust',\n    'effect',\n    'elder_guardian',\n    'enchant',\n    'enchanted_hit',\n    'end_rod',\n    'entity_effect',\n    'explosion',\n    'explosion_emitter',\n    'falling_dust',\n    'falling_honey',\n    'falling_lava',\n    'falling_nectar',\n    'falling_obsidian_tear',\n    'falling_water',\n    'firework',\n    'fishing',\n    'flame',\n    'flash',\n    'happy_villager',\n    'heart',\n    'instant_effect',\n    'item',\n    'item_slime',\n    'item_snowball',\n    'landing_honey',\n    'landing_lava',\n    'landing_obsidian_tear',\n    'large_smoke',\n    'lava',\n    'mycelium',\n    'nautilus',\n    'note',\n    'poof',\n    'portal',\n    'rain',\n    'reverse_portal',\n    'smoke',\n    'sneeze',\n    'soul',\n    'soul_fire_flame',\n    'spit',\n    'splash',\n    'squid_ink',\n    'sweep_attack',\n    'totem_of_undying',\n    'underwater',\n    'warped_spore',\n    'white_ash',\n    'witch'\n].map(particle => ({ value: 'minecraft:' + particle, label: particle }));\n\nexport const PARTICLE_DEFAULTS = {\n    options: {\n        type: \"minecraft:crimson_spore\"\n    },\n    probability: 0.015\n}\n","export function hexColorToInteger(color) {\n    return parseInt(color.replace(/^#/, ''), 16);\n}\n\nexport function integerColorToHex(color) {\n    return '#' + (color & 0xFFFFFF).toString(16).padStart(6, '0');\n}","export const INT_MIN_VALUE = 0x80000000 & 0x80000000;\nexport const INT_MAX_VALUE = 0x7FFFFFFF;\n\n/**\n * @param {number} n \n * @returns {number}\n */\nexport function maintainPrecision(n) {\n    return parseFloat(n.toFixed(12));\n}\n\n/**\n * @param {number} t \n * @returns {number}\n */\nexport function perlinFade(t) {\n    return t * t * t * (t * (t * 6 - 15) + 10);\n}\n\nexport function lerp(delta, start, end) {\n    return start + delta * (end - start);\n}\n\nexport function lerp2(deltaX, deltaY, n00, n10, n01, n11) {\n    return lerp(deltaY, lerp(deltaX, n00, n10), lerp(deltaX, n01, n11));\n}\n\nexport function lerp3(deltaX, deltaY, deltaZ, n000, n100, n010, n110, n001, n101, n011, n111) {\n    return lerp(deltaZ, lerp2(deltaX, deltaY, n000, n100, n010, n110), lerp2(deltaX, deltaY, n001, n101, n011, n111));\n}\n\nexport function grad(hash, x, y, z) {\n    const h = hash & 15;\n    const u = h < 8 ? x : y;\n    const v = h < 4 ? y : h === 12 || h === 14 ? x : z;\n    return ((h & 1) === 0 ? u : -u) + ((h & 2) === 0 ? v : -v);\n}\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { hexColorToInteger, integerColorToHex } from '../utils/color';\nimport { INT_MAX_VALUE, maintainPrecision } from '../utils/math';\n\nexport const ConfInput = React.memo(function ({\n    attr, type,\n    checked, defaultChecked,\n    children,\n    name, id,\n    onChange,\n    value, defaultValue,\n    min, max, step,\n    className, style\n}) {\n\n    const uId = name || Math.random().toString(36).substr(2, 5) + '-' + id;\n\n    if (typeof type !== 'string') {\n        if (typeof checked !== 'undefined' || typeof defaultChecked !== 'undefined') {\n            type = 'checkbox';\n        } else if (typeof step === 'number' || typeof max === 'number' || !isNaN(typeof value === 'undefined' ? defaultValue : value)) {\n            type = 'number';\n        } else {\n            type = 'text';\n        }\n    }\n\n    if (type === 'checkbox') {\n        return <div className={className}>\n            <label htmlFor={uId}>{children}</label>&nbsp;:&nbsp;<input type={type || 'checkbox'} data-name={name || id} name={name} id={uId} className=\"checkbox\" {...{ ...attr, checked, defaultChecked, onChange, value, style }} />\n        </div>\n    }\n    return <div className={className}>\n        {typeof children === 'undefined' || <><label htmlFor={uId}>{children}</label> : </>}\n        <input\n            type={type} data-name={name || id} name={name} id={uId}\n            {...{ ...attr, value, onChange, defaultValue, min, max, step, style }} />\n    </div>\n});\n\nexport const NumberInput = React.memo(function ({\n    className, style = {}, children, defaultValue = 0,\n    id, name, onChange, upChange,\n    required = true, title, value,\n    type = 'number', step = 1, min = 0, max = INT_MAX_VALUE\n}) {\n\n    const uId = name || Math.random().toString(36).substr(2, 5) + '-' + id;\n    const n = parseFloat(typeof value === 'number' || typeof value === 'string' ? value : defaultValue);\n    const [val, setValue] = useState(n);\n    const [prevVal, setPrevValue] = useState(n);\n    const [click, setClick] = useState(null);\n\n    value = parseFloat(value);\n    min = parseFloat(min);\n    step = parseFloat(step);\n    max = parseFloat(max);\n\n    if (n !== prevVal && n !== val && !isNaN(val) && val !== '') {\n        setValue(n);\n        setPrevValue(n);\n    }\n\n    const handleChange = useCallback(function (e) {\n        const value = e.target.value;\n        const n = parseFloat(value);\n        if (value === '') {\n            setValue(value);\n        } else if (value.length <= INT_MAX_VALUE.toString().length) {\n            if (value.endsWith('.00001')) {\n                // Fix browser step\n                setValue(val => maintainPrecision(val + (n > val ? step : -step)));\n            } else {\n                setValue(value);\n            }\n        }\n    }, [step]);\n\n    const stepUpDown = useCallback(function (addition) {\n        setValue(val => {\n            if (!isNaN(val)) {\n                const n = maintainPrecision(val + (addition ? step : -step));\n                if (n >= min && n <= max) {\n                    return n;\n                }\n                return val;\n            }\n            return val;\n        });\n    }, [max, min, step]);\n\n    const handleMouseDown = useCallback(function (e) {\n        e.preventDefault();\n        const addition = e.target.classList.contains('btn-plus');\n        if (val === '') {\n            return;\n        }\n        stepUpDown(addition);\n        setClick(window.setInterval(() => stepUpDown(addition), 150));\n    }, [stepUpDown, val]);\n\n    const handleClick = useCallback(function (e) {\n        e.preventDefault();\n    }, []);\n\n    const handleMouseUp = useCallback(function (e) {\n        e.preventDefault();\n        window.clearInterval(click);\n        setClick(null);\n    }, [click]);\n\n    useEffect(function () {\n        let n = val;\n        if (typeof n === 'string') {\n            const value = val.replace(',', '.');\n            const parse = typeof step === 'undefined' ? parseInt : parseFloat;\n            n = parse(value);\n        }\n\n        if (isNaN(value) && n === defaultValue && !required) {\n            return;\n        }\n\n        if (!isNaN(n) && val !== value && n >= min && n < max && click === null) {\n            if (typeof upChange === 'function') {\n                upChange({ [id || name]: n });\n            } else if (typeof onChange === 'function') {\n                onChange(n);\n            }\n        }\n    }, [click, defaultValue, id, min, max, name, onChange, required, step, type, upChange, val, value]);\n\n    style.width = getNumberSize(val, max, step);\n    className = (className || '') + ' number-wrapper';\n\n    return <div className={className} title={title}>\n        {typeof children === 'undefined' || <div className=\"label\"><label htmlFor={uId}>{children}</label> :&nbsp;</div>}\n            <div className=\"number-input-wrapper\"><input\n                type={type} name={name} id={uId} style={style}\n                min={min} max={max}\n                value={val} data-name={name || id} required={required}\n                step={step < 1 ? 'any' : 1} onChange={handleChange}\n            />\n            {type === 'number' &&\n                <div className=\"number-controls\">\n                    <button className=\"btn-plus\" tabIndex=\"-1\" onMouseDown={handleMouseDown} onClick={handleClick} onMouseOut={handleMouseUp} onMouseUp={handleMouseUp}></button>\n                    <button className=\"btn-minus\" tabIndex=\"-1\" onMouseDown={handleMouseDown} onClick={handleClick} onMouseOut={handleMouseUp} onMouseUp={handleMouseUp}></button>\n                </div>\n            }</div>\n    </div>\n});\n\nexport const ColorInput = React.memo(function({ children, defaultValue = 0, id, onChange, upChange, value }) {\n    const uId = Math.random().toString(36).substr(2, 5) + '-' + id;\n\n    const handleChange = useCallback(function(e) {\n        const value = e.target.value;\n\n        if (typeof upChange === 'function') {\n            upChange({ [id]: hexColorToInteger(value) });\n        } else if (typeof onChange === 'function') {\n            onChange(hexColorToInteger(value));\n        }\n    }, [id, onChange, upChange]);\n\n    \n    useEffect(() => {\n        if (typeof value !== 'number' && defaultValue !== 0) {\n            if (typeof upChange === 'function') {\n                upChange({ [id]: parseFloat(defaultValue) });\n            } else if (typeof onChange === 'function') {\n                onChange(parseFloat(defaultValue));\n            }\n        }\n    }, [defaultValue, id, onChange, upChange, value]);\n\n    return <div>\n        {typeof children === 'undefined' || <><label htmlFor={uId}>{children}</label> : </>}\n        <input type=\"color\" id={uId} data-name={id} onChange={handleChange} value={integerColorToHex(value || defaultValue)} />\n    </div>\n});\n\nfunction getNumberSize(numeric, max = 10, step = 1) {\n    if (numeric === '') {\n        return 12 + 'ch';\n    }\n    const decimals = countDecimals(step);\n\n    let n, str;\n    if (typeof numeric === 'number') {\n        n = numeric;\n        str = numeric.toString();\n    } else {\n        n = parseFloat(numeric);\n        str = numeric;\n    }\n\n    let length = str.length;\n    if (!isNaN(n)) {\n        length = Math.max(length, n.toFixed(decimals).toString().length);\n    }\n    const ceil = max > 9 && n < 10;\n    const smooth = step === 1 ? 4 : 2;\n    return length + smooth + (ceil ? 1 : 0) + 'ch';\n}\nfunction countDecimals(n) {\n    if (typeof n !== 'number') {\n        return 0;\n    }\n    if ((n % 1) !== 0)\n        return n.toString().split(\".\")[1].length;\n    return 0;\n}\n","export const TAGS_OPTIONS = [\n    'acacia_logs',\n    'anvil',\n    'bamboo_plantable_on',\n    'banners',\n    'base_stone_nether',\n    'base_stone_overworld',\n    'beacon_base_blocks',\n    'beds',\n    'bee_growables',\n    'beehives',\n    'birch_logs',\n    'buttons',\n    'campfires',\n    'carpets',\n    'climbable',\n    'coral_blocks',\n    'coral_plants',\n    'corals',\n    'crimson_stems',\n    'crops',\n    'dark_oak_logs',\n    'doors',\n    'dragon_immune',\n    'enderman_holdable',\n    'fence_gates',\n    'fences',\n    'fire',\n    'flower_pots',\n    'flowers',\n    'gold_ores',\n    'guarded_by_piglins',\n    'hoglin_repellents',\n    'ice',\n    'impermeable',\n    'infiniburn_end',\n    'infiniburn_nether',\n    'infiniburn_overworld',\n    'jungle_logs',\n    'leaves',\n    'logs',\n    'logs_that_burn',\n    'mushroom_grow_block',\n    'non_flammable_wood',\n    'nylium',\n    'oak_logs',\n    'piglin_repellents',\n    'planks',\n    'portals',\n    'pressure_plates',\n    'prevent_mob_spawning_inside',\n    'rails',\n    'sand',\n    'saplings',\n    'shulker_boxes',\n    'signs',\n    'slabs',\n    'small_flowers',\n    'soul_fire_base_blocks',\n    'soul_speed_blocks',\n    'spruce_logs',\n    'stairs',\n    'standing_signs',\n    'stone_bricks',\n    'stone_pressure_plates',\n    'strider_warm_blocks',\n    'tall_flowers',\n    'trapdoors',\n    'underwater_bonemeals',\n    'unstable_bottom_center',\n    'valid_spawn',\n    'wall_corals',\n    'wall_post_override',\n    'wall_signs',\n    'walls',\n    'warped_stems',\n    'wart_blocks',\n    'wither_immune',\n    'wither_summon_base_blocks',\n    'wooden_buttons',\n    'wooden_doors',\n    'wooden_fences',\n    'wooden_pressure_plates',\n    'wooden_slabs',\n    'wooden_stairs',\n    'wooden_trapdoors',\n    'wool'\n].map(tag => ({ value: 'minecraft:' + tag, label: tag }));\n","import React, { useState, useCallback, useMemo, useEffect, useContext } from \"react\";\nimport Select from \"../../ui/Select\";\nimport { TAGS_OPTIONS } from \"./Tags\";\nimport { BlockState } from \"./BlockState\";\nimport { NumberInput } from \"../../ui/Input\";\nimport { DataContext } from \"../../context/DataContext\";\n\nexport const BlockPredicate = React.memo(function({target, onChange}) {\n    const [predicate, setPredicate] = useState(target);\n\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:always_true', label: 'Always true' },\n            { value: 'minecraft:block_match', label: 'Block match' },\n            { value: 'minecraft:blockstate_match', label: 'Block state match' },\n            { value: 'minecraft:random_block_match', label: 'Random block match' },\n            { value: 'minecraft:random_blockstate_match', label: 'Random block state match' },\n            { value: 'minecraft:tag_match', label: 'Tag match' }\n        ];\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        setPredicate({ predicate_type: option.value });\n    }, []);\n    const handleBlockChange = useCallback(function(option) {\n        setPredicate(predicate => ({ ...predicate, block: option.value }));\n    }, []);\n    const handleBlockStateChange = useCallback(function(block_state) {\n        setPredicate(predicate => ({ ...predicate, block_state }));\n    }, []);\n    const handleTagChange = useCallback(function(option) {\n        setPredicate(predicate => ({ ...predicate, tag: option.value }));\n    }, []);\n    const handleChange = useCallback(function(content) {\n        setPredicate(predicate => ({ ...predicate, ...content }));\n    }, []);\n    useEffect(() => {\n        if (predicate !== target) {\n            onChange(predicate, target);\n        }\n    }, [onChange, predicate, target]);\n\n    const type = predicate.predicate_type;\n\n    return <div>\n        <label>Predicate type</label>\n        <Select options={options} value={options.find(o => o.value === predicate.predicate_type)} onChange={handleTypeChange} />\n        {type === 'minecraft:block_match' && <BlockSelect block={predicate.block} onChange={handleBlockChange} />}\n        {type === 'minecraft:blockstate_match' && <BlockState block={predicate.block_state} onChange={handleBlockStateChange} />}\n        {(type === 'minecraft:random_block_match' || type === 'minecraft:random_blockstate_match') &&\n            <RandomBlockMatch block={predicate.block} probability={predicate.probability} onChange={handleChange} type={type} />\n        }\n        {type === 'minecraft:tag_match' && <Select options={TAGS_OPTIONS} value={TAGS_OPTIONS.find(t => t.value === predicate.tag)} onChange={handleTagChange} />}\n    </div>;\n});\n\nconst RandomBlockMatch = React.memo(function({block, onChange, type, probability}) {\n    const handleBlockChange = useCallback(function(option) {\n        onChange({ block: option.value });\n    }, [onChange]);\n    const handleBlockStateChange = useCallback(function(block_state) {\n        onChange({ block_state });\n    }, [onChange]);\n\n    return <div className=\"form-group form-row\">\n        <div style={{ flexGrow: 1 }}>\n        {type === 'minecraft:random_block_match' && <BlockSelect block={block} onChange={handleBlockChange} />}\n        {type === 'minecraft:random_blockstate_match' && <BlockState block={block} onChange={handleBlockStateChange} />}\n        </div>\n        <NumberInput id=\"probability\" value={probability} defaultValue=\"0.1\"\n            step=\"0.01\" min=\"0\" max=\"1\" className=\"mlm\" upChange={onChange}>\n                Probability\n        </NumberInput>\n    </div>\n});\n\nexport const BlockSelect = React.memo(function({block, inputId, onChange, options}) {\n    const context = useContext(DataContext);\n    const blocks = useMemo(function () {\n        if (typeof options === 'undefined') {\n            return context.vanilla.blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n        }\n        return options;\n    }, [context.vanilla.blocks, options]);\n    return <Select options={blocks} value={blocks.find(b => b.value === block)} onChange={onChange} inputId={inputId} />;\n});\n","import { useReducer, useState, useCallback, useEffect, useContext, useMemo } from \"react\";\nimport { useKeyedListOptions } from \"./context\";\nimport { DataContext } from \"../context/DataContext\";\nimport arrayMove from \"array-move\";\n\nfunction crudReducer(state, action) {\n    switch (action.type) {\n        case ADD:\n            if (action.unshift) {\n                return [action.payload, ...state];\n            }\n            return [...state, action.payload];\n        case UPDATE:\n            if (typeof action.target === 'number' && typeof action.payload === 'number') {\n                return arrayMove(state, action.target, action.payload);\n            }\n            if (typeof action.target === 'undefined') {\n                throw new Error('Cannot update an element without its previous state.');\n            }\n            return state.map(element => element === action.target ? action.payload : element);\n        case REMOVE:\n            return state.filter(element => element !== action.payload);\n        case REPLACE:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport function useCrudState(data = []) {\n    return useReducer(crudReducer, data);\n}\n\n/**\n * @param {object[]} [data] \n * @param {object|function (object[]): object} [initial] \n * @returns {[object[], function (SyntheticEvent): void, function (number|object, number|object): void, function (SyntheticEvent, number): void, function (object[]): void}\n */\nexport function useCrudPreset(onChange, data = [], initial = {}, unshift = false) {\n    const add = useCallback(function(e) {\n        e.preventDefault();\n        const n = typeof initial === 'function' ? initial(data) : { ...initial };\n        if (unshift) {\n            onChange([n, ...data]);\n        }\n        onChange([...data, n]);\n    }, [data, initial, onChange, unshift]);\n    const update = useCallback(function(state, previous) {\n        if (state.hasOwnProperty('oldIndex') && state.hasOwnProperty('newIndex')) {\n            onChange(arrayMove(data, state.oldIndex, state.newIndex));\n        } else {\n            if (typeof previous === 'undefined') {\n                throw new Error('Cannot update an element without its previous state.');\n            }\n            onChange(data.map(element => element === previous ? state : element));\n        }\n    }, [data, onChange]);\n    const remove = useCallback(function(e, entity) {\n        e.preventDefault();\n        if (typeof entity === 'number') {\n            entity = data[entity];\n        }\n        onChange(data.filter(element => element !== entity));\n    }, [data, onChange]);\n    const replace = useCallback(function(entities) {\n        onChange(entities);\n    }, [onChange]);\n\n    return [data, add, update, remove, replace];\n}\n\nexport function useBlocksOptions(mapped = true) {\n    const blocks = useContext(DataContext).vanilla.blocks;\n    return useMemo(function() {\n        return mapped ? blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName })): blocks;\n    }, [blocks, mapped]);\n}\n\n/**\n * @param {number} [initial] \n * @returns {function(SyntheticEvent|string|number): void} \n */\nexport function useNumber(initial = 0) {\n    const [n, setState] = useState(initial);\n    const setNumber = function(n) {\n        if (typeof n === 'object') {\n            n = n.target.value;\n        }\n        if (typeof n === 'string') {\n            n = isNaN(n) ? initial : parseInt(n);\n        }\n        setState(n);\n    }\n    return [n, setNumber];\n}\n\nexport function useValueChange(changeCallback, obj) {\n    return useCallback(function(e) {\n        if (e.target.type === 'checkbox') {\n            changeCallback({ ...obj, [e.target.dataset.name || e.target.id || e.target.name]: e.target.checked });\n            return;\n        }\n        const value = isNaN(e.target.value) ? e.target.value : parseFloat(e.target.value);\n        changeCallback({ ...obj, [e.target.dataset.name || e.target.id || e.target.name]: value });\n    }, [changeCallback, obj]);\n}\n\nexport function useJsonEffect(state, props, onChange) {\n    useEffect(() => {\n        if (state === props) {\n            return;\n        }\n        if (JSON.stringify(state) !== JSON.stringify(props)) {\n            onChange(state, props);\n        }\n    }, [state, props, onChange]);\n    return state;\n}\n\n/**\n * Fast way to provide a list of options for react-select\n * and store selection as string (list).\n * \n * @param {('biomes'|'dimensions'|'dimension_types'|'features'|'noises'|'surfaces')} category Data category\n * @param {string|string[]} initial Initial selection\n * @param {boolean} [multiple]\n * @returns {[{ value: string, label: string }[], string|string[], function({ value: string }): void]} Options list, currently selected list and his updater\n */\nexport function useKeyedOptionsState(category, initial, multiple) {\n    const options = useKeyedListOptions(category); // Get options\n\n    // Default value for 'multiple' argument\n    if (typeof multiple === 'undefined') {\n        multiple = Array.isArray(initial);\n    }\n\n    // Enhanced use state - usage of options for default value if needed\n    const [selection, setSelection] = useState(initial || function() {\n        if (multiple) {\n            return options.length > 0 ? [options[0].value] : [];\n        }\n        return options.length > 0 ? options[0].value : '';\n    }());\n\n    // End chain react-select change handler\n    const setSelectionFromOptions = useCallback(function(selected) {\n        if (multiple) {\n            setSelection(selected === null ? [] : selected.map(o => o.value));\n        } else {\n            setSelection(selected.value);\n        }\n    }, [multiple]);\n\n    return [options, selection, setSelectionFromOptions];\n}\n\nconst ADD = 'ADD';\nconst UPDATE = 'UPDATE';\nconst REMOVE = 'REMOVE';\nconst REPLACE = 'REPLACE';\nexport const CRUD = { ADD, UPDATE, REMOVE, REPLACE };","import React, { useCallback, useContext, useMemo } from \"react\";\nimport Select from \"../../ui/Select\";\nimport { BlockSelect } from \"./BlockPredicate\";\nimport { DataContext } from \"../../context/DataContext\";\nimport { Button } from '../../ui/Button';\nimport { getStateValue } from \"../../utils/data\";\nimport { useCrudPreset, useBlocksOptions } from \"../../hooks/form\";\nimport { ConfInput, NumberInput } from \"../../ui/Input\";\n\nexport const BlockState = React.memo(function ({ block = {}, children, className = 'form-group', inputId, name, onChange, options }) {\n    const context = useContext(DataContext);\n\n    const handleTypeChange = useCallback(function (option) {\n        const Name = option.value;\n        const Properties = {};\n        (context.vanilla.blocks.find(b => 'minecraft:' + b.name === Name) || { states: [] }).states.forEach(state => {\n            Properties[state.name] = getStateValue(state, block.Properties);\n        })\n        delete block.Properties;\n        if (Object.keys(Properties).length > 0) {\n            onChange({ ...block, Name, Properties }, block);\n        } else {\n            onChange({ ...block, Name }, block);\n        }\n    }, [block, context.vanilla.blocks, onChange]);\n    const handlePropertiesChange = useCallback(function (properties) {\n        onChange({ ...block, Properties: { ...block.Properties, ...properties } }, block);\n    }, [block, onChange]);\n\n    const blocks = useMemo(function () {\n        if (typeof options === 'undefined') {\n            return context.vanilla.blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n        }\n        return options;\n    }, [context.vanilla.blocks, options]);\n\n    const selected = useMemo(function () {\n        return blocks.find(o => o.value === block.Name);\n    }, [blocks, block.Name]);\n\n    return <div className={className}>\n        <div className=\"form-row\">\n            <div style={{ flexGrow: 1 }}><Select options={blocks} value={selected} name={name} onChange={handleTypeChange} inputId={inputId} /></div>\n            {children}\n        </div>\n        <BlockStateProperties block={block.Name} properties={block.Properties} onChange={handlePropertiesChange} />\n    </div>;\n});\n\nexport const BlocksList = React.memo(function ({ list, onChange }) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, list, function (blocks) {\n        // Get the first non taken block name\n        return { Name: (options.find(o => !blocks.some(b => b.Name === o.value)) || { value: 'minecraft:stone' }).value };\n    });\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block.Name || !blocks.some(d => d.Name === o.value));\n            return <BlockState block={block} options={filteredOptions} key={block.Name} onChange={handleChange}>\n                <Button cat=\"danger mlm\" onClick={e => handleRemove(e, i)}>Remove</Button>\n            </BlockState>\n        })}\n        <Button onClick={handleAdd}>Add block</Button>\n    </div>;\n});\n\nexport const BlocksNamesList = React.memo(function ({ list, onChange }) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, list, function (blocks) {\n        // Get the first non taken block name\n        return (options.find(o => !blocks.some(b => b === o.value)) || { value: 'minecraft:stone' }).value;\n    });\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block || !blocks.some(d => d === o.value));\n            return <div className=\"form-group form-row\" key={block}>\n                <div style={{ flexGrow: 1 }}><BlockSelect block={block} options={filteredOptions} onChange={o => handleChange(o.value, block)} /></div>\n                <Button cat=\"danger mlm\" onClick={e => handleRemove(e, i)}>Remove</Button>\n            </div>\n        })}\n        <Button cat=\"primary mts\" onClick={handleAdd}>Add block</Button>\n    </div>;\n});\n\nfunction BlockStateProperties({ block, children, onChange, properties = {} }) {\n    const states = (useContext(DataContext).vanilla.blocks.find(b => 'minecraft:' + b.name === block) || { states: [] }).states;\n\n    const handlePropertyChange = useCallback(function (option) {\n        onChange({ ...properties, [option.name]: option.value });\n    }, [onChange, properties]);\n    const handleCheckboxChange = useCallback(function (e) {\n        const value = e.target.checked.toString();\n        onChange({ ...properties, [e.target.dataset.name]: value });\n    }, [onChange, properties]);\n    const handleNumberChange = useCallback(function (value) {\n        const key = Object.keys(value)[0];\n        onChange({ ...properties, [key]: value[key].toString() });\n    }, [onChange, properties]);\n\n    const selects = [];\n    states.forEach(possible => {\n        switch (possible.type) {\n            case 'bool':\n                selects.push(\n                    <ConfInput key={possible.name} id={possible.name}\n                        checked={properties[possible.name] === 'true'}\n                        onChange={handleCheckboxChange}>\n                        {possible.name}\n                    </ConfInput>\n                );\n                break;\n            case 'int':\n                selects.push(\n                    <NumberInput key={possible.name} id={possible.name}\n                        value={properties[possible.name] || 0} upChange={handleNumberChange}\n                        min=\"0\" max={possible.num_values - 1}>\n                        {possible.name}\n                    </NumberInput>\n                );\n                break;\n            default:\n                const options = possible.values.map(value => ({ value, name: possible.name, label: value }));\n                const defaultValue = options.find(o => o.value === properties[possible.name]) || options[0];\n                selects.push(<div key={possible.name}>\n                    <label>{possible.name}</label> : <div className=\"inbl\">\n                        <Select options={options} value={defaultValue} onChange={handlePropertyChange} />\n                    </div>\n                </div>);\n        }\n    });\n    return <div className=\"form-group form-row\">\n        {selects}{children}\n    </div>;\n}\n","import React, { useCallback, useState, useContext } from 'react';\nimport { PARTICLES, PARTICLE_DEFAULTS } from './BiomeDefaults';\nimport { NumberInput, ConfInput, ColorInput } from '../../ui/Input';\nimport Select from '../../ui/Select';\nimport { BlockState } from '../state/BlockState';\nimport { useJsonEffect } from '../../hooks/form';\nimport { DataContext } from '../../context/DataContext';\n\nexport const BiomeEffects = React.memo(function ({ effects, onChange }) {\n\n    const [blockColor, setBlockColor] = useState(effects);\n    const [particle, setParticle] = useState(effects.particle);\n\n    const sounds = useContext(DataContext).vanilla.sounds;\n\n    const handleColorChange = useCallback(function (color) {\n        onChange({ ...effects, ...color });\n    }, [effects, onChange]);\n\n    const handleBlockColorChange = useCallback(function (color) {\n        onChange({ ...effects, ...color });\n        setBlockColor({ ...blockColor, ...color });\n    }, [blockColor, effects, onChange]);\n    const handleAmbientSoundChange = useCallback(function (option) {\n        if (option === null) {\n            onChange((({ ambient_sound, ...effects }) => effects)(effects));\n        } else {\n            onChange({ ...effects, ambient_sound: option.value });\n        }\n    }, [effects, onChange]);\n    const handleMoodSoundChange = useCallback(function (mood_sound) {\n        if (mood_sound === null) {\n            onChange((({ mood_sound, ...effects }) => effects)(effects));\n        } else {\n            if (typeof effects.mood_sound === 'undefined') {\n                onChange({\n                    ...effects, mood_sound: {\n                        tick_delay: 6000,\n                        block_search_extent: 8,\n                        offset: 2.0, ...mood_sound\n                    }\n                });\n            } else {\n                onChange({ ...effects, mood_sound: { ...effects.mood_sound, ...mood_sound } });\n            }\n        }\n    }, [effects, onChange]);\n    const handleParticleChange = useCallback(function (particle) {\n        onChange({ ...effects, particle });\n        setParticle(particle);\n    }, [effects, onChange]);\n\n    const handleBlockColorToggle = useCallback(function (e) {\n        if (e.target.checked) {\n            onChange({ ...effects, foliage_color: blockColor.foliage_color || 10387789, grass_color: blockColor.grass_color || 9470285 });\n        } else {\n            onChange((({ foliage_color, grass_color, ...effects }) => effects)(effects));\n        }\n    }, [blockColor, effects, onChange]);\n    const handleParticleToggle = useCallback(function (e) {\n        if (e.target.checked) {\n            onChange({ ...effects, particle: particle || PARTICLE_DEFAULTS });\n        } else {\n            onChange((({ particle, ...effects }) => effects)(effects));\n        }\n    }, [onChange, effects, particle]);\n\n    const blockColorChecked = effects.hasOwnProperty('foliage_color') || effects.hasOwnProperty('grass_color');\n    const particleChecked = effects.hasOwnProperty('particle');\n\n    return <>\n        <fieldset>\n            <legend>Biome effects</legend>\n            <div className=\"form-group form-row\">\n                <ColorInput id=\"sky_color\" value={effects.sky_color} upChange={handleColorChange}>Sky color</ColorInput>\n                <ColorInput id=\"fog_color\" value={effects.fog_color} upChange={handleColorChange}>Fog color</ColorInput>\n                <ColorInput id=\"water_color\" value={effects.water_color} upChange={handleColorChange}>Water color</ColorInput>\n                <ColorInput id=\"water_fog_color\" value={effects.water_fog_color} upChange={handleColorChange}>Water fog color</ColorInput>\n                {blockColorChecked && <>\n                    <ColorInput id=\"foliage_color\" value={effects.foliage_color || 10387789} upChange={handleBlockColorChange}>Foliage color</ColorInput>\n                    <ColorInput id=\"grass_color\" value={effects.grass_color || 9470285} upChange={handleBlockColorChange}>Grass color</ColorInput>\n                </>}\n                <ConfInput id=\"block-toggle\" checked={blockColorChecked} onChange={handleBlockColorToggle}>Optionals</ConfInput>\n                <ConfInput id=\"particle\" checked={particleChecked} onChange={handleParticleToggle}>Particle</ConfInput>\n            </div>\n            {particleChecked && <ParticleEffect particle={effects.particle} onChange={handleParticleChange} />}\n        </fieldset>\n        <fieldset>\n            <legend>Optionals sounds</legend>\n            <div className=\"form-group form-row\">\n                Ambient :\n            <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={sounds} value={sounds.find(o => effects.ambient_sound === o.value)} onChange={handleAmbientSoundChange} isClearable={true} /></div>\n            </div>\n            <MoodSound options={sounds} sound={effects.mood_sound} onChange={handleMoodSoundChange} />\n        </fieldset>\n    </>\n});\n\nconst MoodSound = React.memo(function ({ onChange, options, sound }) {\n    const handleSoundChange = useCallback(function (option) {\n        onChange(option === null ? null : { sound: option.value });\n    }, [onChange]);\n\n    return <>\n        <div className=\"form-group form-row\">\n            Mood :\n            <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={options} value={options.find(o => (sound || {}).sound === o.value)} onChange={handleSoundChange} isClearable={true} /></div>\n        </div>\n        {typeof sound === 'object' && <div className=\"form-row\" style={{ marginTop: '0.5rem' }}>\n            <NumberInput id=\"tick_delay\" value={sound.tick_delay} upChange={onChange} className=\"mls\">Tick delay</NumberInput>\n            <NumberInput id=\"block_search_extent\" value={sound.block_search_extent} upChange={onChange} className=\"mls\">Block search extent</NumberInput>\n            <NumberInput id=\"offset\" value={sound.offset} upChange={onChange} step={0.1} className=\"mls\">Offset</NumberInput>\n        </div>}\n    </>\n});\n\nconst ParticleEffect = React.memo(function ({ onChange, particle }) {\n\n    particle = useJsonEffect(particle || PARTICLE_DEFAULTS, particle, onChange);\n    const handleTypeChange = useCallback(function (option) {\n        onChange({ ...particle, options: { type: option.value } });\n    }, [particle, onChange]);\n    const handleBlockChange = useCallback(function (block) {\n        onChange({ ...particle, options: { ...particle.options, ...block } });\n    }, [particle, onChange]);\n    const handleColorChange = useCallback(function (color) {\n        onChange({ ...particle, options: { ...particle.options, ...color } });\n    }, [particle, onChange]);\n    const handleScaleChange = useCallback(function (scale) {\n        onChange({ ...particle, options: { ...particle.options, scale } });\n    }, [particle, onChange]);\n    const handleProbabilityChange = useCallback(function (probability) {\n        onChange({ ...particle, probability });\n    }, [particle, onChange]);\n\n    const o = particle.options;\n    return <div className=\"form-group form-row\">\n        <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={PARTICLES} value={PARTICLES.find(op => o.type === op.value)} onChange={handleTypeChange} /></div>\n        {(o.type === 'minecraft:block' || o.type === 'minecraft:falling_dust') && <div style={{ flexGrow: 1 }}><BlockState block={o} onChange={handleBlockChange} /></div>}\n        {o.type === 'minecraft:dust' && <>\n            <DustColor r={o.r} g={o.g} b={o.b} onChange={handleColorChange} />\n            <NumberInput id=\"scale\" value={o.scale} onChange={handleScaleChange} defaultValue=\"1\" step=\"0.1\" className=\"mls\">Scale</NumberInput>\n        </>}\n        <NumberInput id=\"probability\" value={particle.probability} onChange={handleProbabilityChange} step=\"0.005\" className=\"mlm\">Probability</NumberInput>\n    </div>\n});\n\nconst DustColor = React.memo(function ({ r, g, b, onChange }) {\n    const handleColorChange = useCallback(function (color) {\n        const r = ((color >> 16) & 0xFF) / 0xFF;\n        const g = ((color >> 8) & 0xFF) / 0xFF;\n        const b = (color & 0xFF) / 0xFF;\n        onChange({ r, g, b });\n    }, [onChange]);\n\n    let value = undefined;\n    if (typeof r === 'number' && typeof g === 'number' && typeof b === 'number') {\n        r = (r * 0xFF) & 0xFF;\n        g = (g * 0xFF) & 0xFF;\n        b = (b * 0xFF) & 0xFF;\n        value = ((r << 16) | (g << 8) | b);\n    }\n\n    return <ColorInput value={value} defaultValue={0x38470} onChange={handleColorChange} className=\"mls\">Color</ColorInput>\n});\n","import React, { useCallback, useContext, useMemo } from 'react';\nimport Select from '../../ui/Select';\nimport { useCrudPreset, useJsonEffect } from \"../../hooks/form\";\nimport { useToggle } from '../../hooks/ui';\nimport { Button } from '../../ui/Button';\nimport { DataContext } from '../../context/DataContext';\nimport { SPAWNERS_DEFAULTS } from './BiomeDefaults';\nimport { NumberInput } from '../../ui/Input';\n\nexport const BiomeSpawners = React.memo(function({onChange, data}) {\n\n    const spawners = useJsonEffect(data || SPAWNERS_DEFAULTS, data, onChange);\n    const entities = useContext(DataContext).vanilla.entities;\n\n    const handleChange = useCallback(function(group, groupSpawners) {\n        onChange({ ...spawners, [group]: groupSpawners });\n    }, [spawners, onChange]);\n\n    return <div>\n        <SpawnGroup group=\"ambient\" data={spawners.ambient} onChange={handleChange} entities={entities}>Ambient</SpawnGroup>\n        <SpawnGroup group=\"creature\" data={spawners.creature} onChange={handleChange} entities={entities}>Creature</SpawnGroup>\n        <SpawnGroup group=\"misc\" data={spawners.misc} onChange={handleChange} entities={entities}>Miscellaneous</SpawnGroup>\n        <SpawnGroup group=\"monster\" data={spawners.monster} onChange={handleChange} entities={entities}>Monster</SpawnGroup>\n        <SpawnGroup group=\"water_ambient\" data={spawners.water_ambient} onChange={handleChange} entities={entities}>Water ambient</SpawnGroup>\n        <SpawnGroup group=\"water_creature\" data={spawners.water_creature} onChange={handleChange} entities={entities}>Water creature</SpawnGroup>\n    </div>;\n});\n\nconst SpawnGroup = React.memo(function({children, entities, data = [], group, onChange}) {\n    const [visibility, toggle] = useToggle();\n    const text = visibility ? 'Less...' : 'More...';\n\n    const [spawners, insert, handleChange, handleRemove] = useCrudPreset(spawners => onChange(group, spawners), data, function(spawners) {\n        // Get the first non taken entity\n        return { type: (entities.filter(o => !spawners.some(s => s.type === o.value))[0] || { value: 'minecraft:cow' }).value, minCount: 1, maxCount: 1, weight: 1 };\n    }, true);\n\n    const handleAdd = useCallback(function(e) {\n        insert(e);\n        if (!visibility) {\n            toggle();\n        }\n    }, [insert, toggle, visibility]);\n\n    if (visibility) {\n        return <div>\n            <div className=\"toggle-label\">\n                {children}\n                <div className=\"btn-group\">\n                    {entities.length > spawners.length && <Button onClick={handleAdd}>Add</Button>}\n                    {spawners.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{text}</Button>} \n                </div>\n            </div>\n            {spawners.map((spawner, index) => {\n                const options = entities.filter(o => spawner.type === o.value || !spawners.some(s => s.type === o.value));\n                return <SpawnDefinition data={spawner} key={spawner.type} onChange={handleChange} onDelete={handleRemove} index={index} options={options} />;\n            })}\n        </div>;\n    }\n    \n    return <div className=\"toggle-label\">\n        {children}\n        <div className=\"btn-group\">\n            {spawners.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{text}</Button>}\n            {(spawners.length < 1) && <Button onClick={handleAdd}>Add</Button>}\n        </div>\n    </div>;\n});\n\nconst SpawnDefinition = React.memo(function({data, index, options, onChange, onDelete}) {\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ ...data, type: option.value }, data);\n    }, [data, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...data, ...value }, data);\n    }, [data, onChange]);\n    const handleCountChange = function(count) {\n        const name = Object.keys(count)[0];\n        const value = count[name];\n        if ((name === 'minCount' && value <= data.maxCount)\n            || (name === 'maxCount' && value >= data.minCount)) {\n                onChange({ ...data, [name]: value }, data);\n        } \n    };\n    const handleDelete = useCallback(function(e) {\n        onDelete(e, index);\n    }, [index, onDelete]);\n\n    const selectedOption = useMemo(function() {\n        return options.find(o => o.value === data.type);\n    }, [data.type, options]);\n\n    return <div>\n        <div className=\"form-group\">\n            <label>Mob type</label> : <Select options={options} value={selectedOption} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"weight\" value={data.weight} upChange={handleValueChange}>Weight</NumberInput>\n            <NumberInput id=\"minCount\" value={data.minCount} max={data.maxCount} upChange={handleCountChange}>Min count</NumberInput>\n            <NumberInput id=\"maxCount\" value={data.maxCount} min={data.minCount} upChange={handleCountChange}>Max count</NumberInput>\n            <div className=\"form-inline\"><Button cat=\"danger\" onClick={handleDelete}>Delete</Button></div>\n        </div>\n        <hr /> \n    </div>\n});\n","import React, { useCallback, useMemo } from 'react';\nimport Select from '../../ui/Select';\nimport { STARTS } from './BiomeDefaults';\nimport { useJsonEffect } from '../../hooks/form';\n\nexport const BiomeStarts = React.memo(function({onChange, starts}) {\n    starts = useJsonEffect(starts || STARTS, starts, onChange);\n\n    const handleChange = useCallback(function(selectedOptions) {\n        onChange(selectedOptions === null ? [] : selectedOptions.map(option => option.value));\n    }, [onChange]);\n\n    const options = useMemo(function() {\n        return [\n            \"pillager_outpost\",\n            \"mineshaft\",\n            \"mineshaft_mesa\",\n            \"mansion\",\n            \"jungle_pyramid\",\n            \"desert_pyramid\",\n            \"igloo\",\n            \"shipwreck\",\n            \"shipwreck_beached\",\n            \"swamp_hut\",\n            \"stronghold\",\n            \"monument\",\n            \"ocean_ruin_cold\",\n            \"ocean_ruin_warm\",\n            \"fortress\",\n            \"nether_fossil\",\n            \"end_city\",\n            \"buried_treasure\",\n            \"bastion_remnant\",\n            \"village_plains\",\n            \"village_desert\",\n            \"village_savanna\",\n            \"village_snovy\",\n            \"village_taiga\",\n            \"ruined_portal\",\n            \"ruined_portal_desert\",\n            \"ruined_portal_jungle\",\n            \"ruined_portal_swamp\",\n            \"ruined_portal_mountain\",\n            \"ruined_portal_ocean\",\n            \"ruined_portal_nether\"\n        ].map(option => ({ value: 'minecraft:' + option, label: 'minecraft:' + option }));\n    }, []);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"starts\">Structures</label>\n        <Select isMulti id=\"starts\" options={options} onChange={handleChange} value={options.filter(o => starts.includes(o.value))} />\n    </div>;\n});\n","import React, { useCallback } from 'react';\nimport Select from '../../ui/Select';\nimport { FEATURES } from './BiomeDefaults';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useJsonEffect } from '../../hooks/form';\n\nexport const GenFeatures = React.memo(function({ onChange, features }) {\n\n    const handleLevelChange = useCallback(function(priority, list) {\n        onChange(features.map((level, p) => priority === p ? list : level));\n    }, [features, onChange]);\n    useJsonEffect(features || FEATURES, features, onChange);\n\n    return <div className=\"form-group\">\n        <label>Features</label>\n        <p className=\"help\"><small className=\"text-muted\">Each generation feature is associated with a priority. The higher the priority, the later the feature will be applied.</small></p>\n        <ol>\n            {features.map((level, i) =>\n                <li key={i}><GenFeaturesLevel value={level} onChange={handleLevelChange} priority={i} /></li>\n            )}\n        </ol>\n    </div>;\n});\n\nexport const GenFeaturesLevel = React.memo(function({ onChange, priority, value }) {\n    const options = useKeyedListOptions('features');\n\n    const handleChange = useCallback(function(selectedOptions) {\n        onChange(priority, selectedOptions === null ? [] : selectedOptions.map(option => option.value));\n    }, [onChange, priority]);\n\n    return <Select isMulti options={options} onChange={handleChange} defaultValue={options.filter(o => value.includes(o.value))} />;\n});\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport useModal from '@delangle/use-modal';\nimport { Button } from './Button';\n\nexport const Modal = ({ children, open, onClose }) => {\n    const modal = useModal({ open, onClose: () => onClose(false) });\n\n    const el = document.createElement('div');\n    el.classList.add('modal-wrapper');\n\n    useEffect(() => {\n        document.body.appendChild(el);\n        return () => document.body.removeChild(el);\n    }, [el]);\n\n    return createPortal(\n        <dialog open={modal.state === 'opened'}>\n            <Button cat=\"close\" onClick={onClose}></Button>\n            {children}\n        </dialog>\n    , el);\n}\n","import React, { useCallback } from 'react';\nimport { Modal } from './Modal';\nimport { useToggle } from '../hooks/ui';\nimport { JsonView } from 'json-view-for-react'\n\nexport function JsonViewer({ data }) {\n    const [open, toggleModal] = useToggle();\n\n    const obj = useCallback(function () {\n        const obj = typeof data === 'object' ? { ...data } : data();\n        delete obj.key;\n        delete obj.index;\n        return obj;\n    }, [data]);\n\n    return <>\n        <i className=\"code mls\" onClick={toggleModal}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M.7 9.3l4.8-4.8 1.4 1.4-4 4.1 4 4-1.4 1.5L0 10l.7-.7zm18.6 1.4l.7-.7-5.5-5.5L13.1 6l4 4.1-4 4 1.4 1.5 4.8-4.8z\"/></svg></i>\n        {open &&\n            <Modal open={open} onClose={toggleModal}><JsonView obj={obj()} /></Modal>\n        }\n    </>\n}\n","import { useMemo } from \"react\";\n\n/**\n * @typedef RESOURCE_OPTION\n * @type {object}\n * @property {string} value Unique option value \n * @property {string} label Text label \n * @property {string|object} resource\n */\n\n/**\n * \n * @param {{ value: string, label: string }[]} options \n * @param {string|object[]} [resources] \n * @param {boolean} [mutable] \n * @returns {[RESOURCE_OPTION[], RESOURCE_OPTION[]]} Options and selected options\n */\nexport function useInlineResources(options, resources = [], mutable = true) {\n    const inline = getInline(resources);\n\n    let values = options.map(option => {\n        if (mutable) {\n            option.resource = option.value;\n            return option;\n        }\n        return { ...option, resource: option.value };\n    });\n    if (inline.length > 0) {\n        if (mutable) {\n            values.push(...inline);\n        } else {\n            values = [ ...options, ...inline ];\n        }\n    }\n    return [\n        values,\n        useMemo(() => values.filter(o => resources.includes(o.resource)), [resources, values])\n    ];\n}\n\n/**\n * @param {string|object[]} resources \n * @returns {RESOURCE_OPTION[]}\n */\nfunction getInline(resources) {\n    return resources\n        .filter(res => typeof res === 'object')\n        .map((res, i) => {\n            const inline = 'inline' + (i+1);\n            return {\n                value: inline,\n                label: inline,\n                resource: res\n            }\n        });\n}\n","import React, { useCallback, useContext, useState } from 'react';\nimport { NamespacedKey } from \"../NamespacedKey\";\nimport { VANILLA_CARVERS } from './CarverDefaults';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { DataContext } from '../../context/DataContext';\nimport { useJsonEffect } from '../../hooks/form';\nimport { Button } from '../../ui/Button';\nimport { NumberInput } from '../../ui/Input';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport Select from '../../ui/Select';\nimport { Modal } from '../../ui/Modal';\nimport { useToggle } from '../../hooks/ui';\nimport { useInlineResources } from '../../hooks/select';\n\nexport const ConfiguredCarver = React.memo(function({ carvers, onChange }) {\n\n    carvers = useJsonEffect(carvers || { air: [ 'minecraft:cave', 'minecraft:canyon' ] }, carvers, onChange);\n    const [open, toggleModal] = useToggle();\n\n    const options = useKeyedListOptions('carvers');\n\n    const handleAirChange = useCallback(function (options) {\n        onChange({ ...carvers, air: options === null ? [] : options.map(option => option.resource) });\n    }, [carvers, onChange]);\n    const handleLiquidChange = useCallback(function (options) {\n        onChange({ ...carvers, liquid: options === null ? [] : options.map(option => option.resource) });\n    }, [carvers, onChange]);\n    const handleNewClick = useCallback(function (e) {\n        e.preventDefault();\n        toggleModal(true);\n    }, [toggleModal]);\n    const handleCarverCreated = useCallback(function(carver) {\n        onChange({ ...carvers, air: [ ...(carvers.air || []), carver.key ] });\n        toggleModal(false);\n    }, [carvers, onChange, toggleModal]);\n\n    const [optionsAir, selectedAir] = useInlineResources(options, carvers.air);\n    const [optionsLiquid, selectedLiquid] = useInlineResources(options, carvers.liquid);\n\n    return <fieldset>\n        <legend>Carvers <Button onClick={handleNewClick}>Create new</Button></legend>\n\n        <label htmlFor=\"air\">Air</label>\n        <Select isMulti options={optionsAir} onChange={handleAirChange} value={selectedAir} inputId=\"air\" />\n        <div className=\"form-group\">\n            <label htmlFor=\"liquid\">Liquid</label>\n            <Select isMulti options={optionsLiquid} onChange={handleLiquidChange} value={selectedLiquid} inputId=\"liquid\" />\n        </div>\n        {open && <Modal open={open} onClose={toggleModal}>\n            <ConfiguredCarverForm onSave={handleCarverCreated} />\n        </Modal>}\n    </fieldset>\n});\n\nexport function ConfiguredCarverForm({ data = { type: 'minecraft:cave', config: { probability: 0.143 } }, onSave }) {\n\n    const [carver, setCarver] = useState(data);\n\n    const handleSelectChange = useCallback(function (option) {\n        setCarver({\n            config: {\n                probability: option.probability\n            },\n            type: option.value\n        });\n    }, []);\n    const handleProbabilityChange = useCallback(function (probability) {\n        setCarver(carver => ({ ...carver, config: { probability } }));\n    }, []);\n\n    const updateCarvers = useContext(DataContext).custom.updateCarvers;\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const c = ({\n            ...data,\n            ...carver,\n            ...Object.fromEntries(new FormData(e.target))\n        });\n        updateCarvers(c, data);\n        if (typeof onSave === 'function') {\n            onSave(c);\n        }\n    }, [data, carver, onSave, updateCarvers]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"pit\" type=\"carvers\" value={data.key} inline={false} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setCarver}>\n            configured carver\n            <JsonViewer data={carver} />\n        </NamespacedKey>\n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={VANILLA_CARVERS} value={VANILLA_CARVERS.find(o => o.value === carver.type)} onChange={handleSelectChange} inputId=\"type\" />\n        </div>\n        <div className=\"form-group\">\n            <NumberInput value={carver.config.probability} max=\"1\" step=\"0.001\" onChange={handleProbabilityChange}>Probability</NumberInput>\n        </div>\n        <Button type=\"submit\">Save</Button>\n    </form>\n}\n","import React, { useCallback, useState } from 'react';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { BiomeEffects } from './BiomeEffects';\nimport { BiomeSpawners } from './BiomeSpawners';\nimport { BiomeStarts } from './BiomeStarts';\nimport { GenFeatures } from './Features';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { BIOME_DEFAULTS } from './BiomeDefaults';\nimport { ConfiguredCarver } from '../carver/ConfiguredCarver';\nimport { Button } from '../../ui/Button';\nimport { ConfInput, NumberInput } from '../../ui/Input';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport Select from '../../ui/Select';\nimport { INT_MIN_VALUE } from '../../utils/math';\n\nexport function Biome({data = BIOME_DEFAULTS, onSave}) {\n\n    const [state, setState] = useState(data);\n\n    const handleCarversChange = useCallback(function(carvers) {\n        setState(state => ({ ...state, carvers }));\n    }, []);\n    const handleStartsChange = useCallback(function(starts) {\n        setState(state => ({ ...state, starts }));\n    }, []);\n    const handleEffectsChange = useCallback(function(effects) {\n        setState(state => ({ ...state, effects }));\n    }, []);\n    const handleFeaturesChange = useCallback(function(features) {\n        setState(state => ({ ...state, features }));\n    }, []);\n    const handleSpawnersChange = useCallback(function(spawners) {\n        setState(state => ({ ...state, spawners }));\n    }, []);\n    const handleSurfaceBuilderChange = useCallback(function(option) {\n        setState(state => ({ ...state, surface_builder: option.value }));\n    }, []);\n    const handlePrecipitationChange = useCallback(function(option) {\n        setState(state => ({ ...state, precipitation: option.value }));\n    }, []);\n    const handleCategoryChange = useCallback(function(option) {\n        setState(state => ({ ...state, category: option.value }));\n    }, []);\n    const handleChange = useCallback(function(value) {\n        setState(state => ({ ...state, ...value }));\n    }, []);\n    const handleSpawnFriendlyChange = useCallback(function(e) {\n        const player_spawn_friendly = e.target.checked;\n        setState(state => ({ ...state, player_spawn_friendly }));\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const formData = Object.fromEntries(new FormData(e.target));\n        onSave({ ...state, ...formData });\n    }, [onSave, state]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"arctic\" type=\"biomes\" value={state.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setState}>\n            biome\n            <JsonViewer data={state} />\n        </NamespacedKey>\n\n        <BiomeEffects effects={state.effects} onChange={handleEffectsChange} />\n\n        <fieldset>\n            <BiomeCategory category={state.category} onChange={handleCategoryChange} />\n            <BiomePrecipitation value={state.precipitation} onChange={handlePrecipitationChange} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Generation</legend>\n            <SurfaceBuilder value={state.surface_builder} onChange={handleSurfaceBuilderChange} />\n            <BiomeStarts starts={state.starts} onChange={handleStartsChange} />\n            <GenFeatures features={state.features} onChange={handleFeaturesChange} />\n        </fieldset>\n\n        <ConfiguredCarver carvers={state.carvers} onChange={handleCarversChange} />\n\n        <fieldset>\n            <legend>Creatures</legend>\n            <BiomeSpawners data={state.spawners} onChange={handleSpawnersChange} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"player_spawn_friendly\" checked={typeof state.player_spawn_friendly === 'boolean' ? state.player_spawn_friendly : true} onChange={handleSpawnFriendlyChange}>Player spawn friendly</ConfInput>\n                <NumberInput id=\"creature_spawn_probability\" value={state.creature_spawn_probability} defaultValue={0.1} step={0.1} required={false} upChange={handleChange}>Creature spawn probability</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"scale\" value={state.scale || 0.05} min={INT_MIN_VALUE} step={0.05} upChange={handleChange}>Scale</NumberInput>\n                <NumberInput id=\"downfall\" value={state.downfall || 0.4} min={INT_MIN_VALUE} step={0.1} upChange={handleChange}>Downfall</NumberInput>\n                <NumberInput id=\"depth\" value={state.depth || 0.12} min={INT_MIN_VALUE} step={0.01} upChange={handleChange}>Depth</NumberInput>\n                <NumberInput id=\"temperature\" value={state.temperature || 0.8} min={INT_MIN_VALUE} step={0.1} upChange={handleChange}>Temperature</NumberInput>\n                <p className=\"mts\"><small className=\"text-muted\">The <em>scale</em> parameter defines terrain amplitude, <em>downfall</em> controls grass and foliage color, <em>depth</em> is the difference from sea level, <em>temperature</em> controls some gameplay features like whether snow golems take damage. The default values are those of the plains biome.</small></p>\n            </div>\n        </fieldset>\n        <Button type=\"submit\">Save</Button>\n    </form>;\n}\n\nconst BiomeCategory = React.memo(function({ category = 'plains', onChange }) {\n\n    const options = [\n        { value: 'beach', label: 'Beach' },\n        { value: 'desert', label: 'Desert' },\n        { value: 'extreme_hills', label: 'Extreme hills' },\n        { value: 'forest', label: 'Forest' },\n        { value: 'icy', label: 'Icy' },\n        { value: 'jungle', label: 'Jungle' },\n        { value: 'mesa', label: 'Mesa' },\n        { value: 'nether', label: 'Nether' },\n        { value: 'none', label: 'None' },\n        { value: 'ocean', label: 'Ocean' },\n        { value: 'plains', label: 'Plains' },\n        { value: 'river', label: 'River' },\n        { value: 'savanna', label: 'Savanna' },\n        { value: 'swamp', label: 'Swamp' },\n        { value: 'taiga', label: 'Taiga' },\n        { value: 'the_end', label: 'The end' },\n    ];\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"category\">Category</label>\n        <Select options={options} value={options.find(o => o.value === category)} onChange={onChange} />\n    </div>;\n});\n\nconst BiomePrecipitation = React.memo(function({ onChange, value = 'rain' }) {\n\n    const options = [\n        { value: 'none', label: 'None' },\n        { value: 'rain', label: 'Rain' },\n        { value: 'snow', label: 'Snow' }\n    ];\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"precipitation\">Precipitation</label>\n        <Select options={options} value={options.find(o => o.value === value)} onChange={onChange} />\n    </div>;\n});\n\nconst SurfaceBuilder = React.memo(function({ onChange, value = 'minecraft:grass' }) {\n    const options = useKeyedListOptions('surfaces');\n    return <div className=\"form-group\">\n        <label htmlFor=\"surface_builder\">Surface builder</label>\n        <Select options={options} value={options.find(o => o.value === value)} onChange={onChange} />\n    </div>;\n});\n","import React from 'react';\n\nexport const Toggle = ({ ariaLabel, checked, id, onChange }) => (\n    <span className=\"toggle-control\">\n        <input\n            aria-label={ariaLabel}\n            className=\"dmcheck\"\n            type=\"checkbox\"\n            checked={checked}\n            onChange={onChange}\n            id={id}\n        />\n        <label htmlFor={id} />\n    </span>\n);\n","import React from 'react';\nimport useDarkMode from 'use-dark-mode';\nimport { Toggle } from './Toggle';\n\nexport function DarkModeToggle() {\n    const darkMode = useDarkMode(true);\n\n    return <div className=\"dark-mode-toggle\" title=\"Dark mode toggle\">\n        <button type=\"button\" onClick={darkMode.disable} tabIndex=\"-1\">☀</button>\n        <Toggle ariaLabel=\"Dark mode toggle\" checked={darkMode.value} onChange={darkMode.toggle} />\n        <button type=\"button\" onClick={darkMode.enable} tabIndex=\"-1\">☾</button>\n    </div>\n}","import React from 'react';\nimport { DarkModeToggle } from './DarkModeToggle';\n\nexport function MenuItem({active, children, onClick}) {\n    return <li><a href=\"#_\" role=\"menuitem\" aria-current={active} onClick={onClick}>{children}</a></li>\n}\n\nexport function NavBar({ children }) {\n    return <div className=\"navbar\">\n        {children}\n        <p className=\"github\"><a href=\"https://github.com/syldium/worldgen\" target=\"_blank\" rel=\"noopener noreferrer\">View on GitHub</a></p>\n        <DarkModeToggle />\n    </div>\n}\n","import React, { useCallback, useContext, useState } from 'react';\nimport { DataContext } from '../../context/DataContext';\nimport { OVERWORLD_DIMENSION_TYPE, THE_NETHER_DIMENSION_TYPE, THE_END_DIMENSION_TYPE, OVERWORLD_CAVES_DIMENSION_TYPE, DIMENSION_TYPE_INFINIBURN, DIMENSION_TYPE_EFFECTS } from './DimensionDefaults';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useToggle } from '../../hooks/ui';\nimport { ConfInput, NumberInput } from '../../ui/Input';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { Modal } from '../../ui/Modal';\nimport Select from '../../ui/Select';\nimport { Button } from '../../ui/Button';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport function DimensionType({ type = 'minecraft:overworld', onChange }) {\n    const [open, toggleModal] = useToggle();\n    const options = useKeyedListOptions('dimension_types').map(option => {\n        option.resource = option.value;\n        return option;\n    });\n\n    if (typeof type === 'object') {\n        options.push({ value: 'inline', label: 'inline', resource: type });\n    }\n\n    const handleTypeChange = useCallback(function (option) {\n        onChange(option.resource);\n    }, [onChange]);\n    const handleNewClick = useCallback(function (e) {\n        e.preventDefault();\n        toggleModal(true);\n    }, [toggleModal]);\n    const handleTypeCreated = useCallback(function (type) {\n        onChange(type.key);\n        toggleModal(false);\n    }, [onChange, toggleModal]);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"dimension-type\">Dimension type <Button onClick={handleNewClick}>Create new</Button></label>\n        <Select inputId=\"dimension-type\" options={options} value={options.find(o => o.resource === type)} onChange={handleTypeChange} />\n        {open && <Modal open={open} onClose={toggleModal}>\n            <DimensionTypeForm onSave={handleTypeCreated} />\n        </Modal>}\n    </div>;\n}\n\nexport function DimensionTypeForm({ data = OVERWORLD_DIMENSION_TYPE, onSave }) {\n    const [config, setConfig] = useState(data);\n\n    const handleVanillaSelect = useCallback(function (value) {\n        setConfig({\n            ...{\n                'minecraft:overworld': OVERWORLD_DIMENSION_TYPE,\n                'minecraft:overworld_caves': OVERWORLD_CAVES_DIMENSION_TYPE,\n                'minecraft:the_nether': THE_NETHER_DIMENSION_TYPE,\n                'minecraft:the_end': THE_END_DIMENSION_TYPE\n            }[value]\n        });\n    }, []);\n    const handleNumberChange = useCallback(function (value) {\n        setConfig(config => ({ ...config, ...value }))\n    }, []);\n    const handleSelectChange = useCallback(function (name, option) {\n        setConfig(config => ({ ...config, [name]: option.value }))\n    }, []);\n    const handleCheckboxChange = useCallback(function (e) {\n        const name = e.target.dataset.name;\n        const checked = e.target.checked;\n        setConfig(config => ({ ...config, [name]: checked }))\n    }, []);\n    const handleFixedTimeToggle = useCallback(function (e) {\n        if (e.target.checked) {\n            setConfig(config => ({ ...config, fixed_time: 18000 }));\n        } else {\n            setConfig((({ fixed_time, ...config }) => config));\n        }\n    }, []);\n\n    const updateDimensionTypes = useContext(DataContext).custom.updateDimensionTypes;\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const d = ({\n            ...config,\n            ...Object.fromEntries(new FormData(e.target))\n        });\n        updateDimensionTypes(d, data);\n        if (typeof onSave === 'function') {\n            onSave(d);\n        }\n    }, [config, data, onSave, updateDimensionTypes]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"typed\" type=\"dimension_types\" value={data.key} onSelect={handleVanillaSelect} expectBreakage={typeof data.key !== 'undefined'}>\n            dimension type\n            <JsonViewer data={config} />\n        </NamespacedKey>\n        <fieldset>\n            <legend>Light</legend>\n            <div className=\"form-row\">\n                <NumberInput id=\"ambient_light\" value={config.ambient_light} upChange={handleNumberChange} step=\"0.1\">Ambient light</NumberInput>\n                <ConfInput id=\"has_skylight\" checked={config.has_skylight} onChange={handleCheckboxChange}>Has skylight</ConfInput>\n            </div>\n        </fieldset>\n        <fieldset>\n            <legend>Apparence</legend>\n            <div className=\"form-row\">\n                <InfiniburnIdentifier value={config.infiniburn} onChange={handleSelectChange} inputId=\"infiniburn\" />\n                <div>\n                    <label htmlFor=\"effects\">Sky effects : </label>\n                    <div className=\"inbl\" style={{ width: '16ch' }}>\n                        <Select options={DIMENSION_TYPE_EFFECTS} value={DIMENSION_TYPE_EFFECTS.find(o => config.effects === o.value) || DIMENSION_TYPE_EFFECTS[0]} onChange={o => handleSelectChange('effects', o)} inputId=\"effects\" />\n                    </div>\n                </div>\n            </div>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"logical_height\" value={config.logical_height} upChange={handleNumberChange} max={256} title=\"Logical height from vanilla dimensions cannot be replaced due to MC-197338.\">Logical height</NumberInput>\n                <div className=\"form-row\">\n                    {typeof config.fixed_time !== 'number' && <label htmlFor=\"fixed_time-toggle\">Fixed time : </label>}\n                    {typeof config.fixed_time === 'number' && <NumberInput id=\"fixed_time\" value={config.fixed_time} upChange={handleNumberChange} step={1200}>Fixed time</NumberInput>}\n                    <input type=\"checkbox\" checked={typeof config.fixed_time === 'number'} onChange={handleFixedTimeToggle} className=\"checkbox\" id=\"fixed_time-toggle\" />\n                </div>\n            </div>\n            <p style={{ marginBottom: 0, textAlign: 'center' }}><small className=\"text-muted\">These settings are only used for appearance and some game mechanics<br />such as chorus fruits tp. To modify the world generation, change the noise parameters.</small></p>\n        </fieldset>\n        <fieldset>\n            <legend>Overworld related behavior</legend>\n            <div className=\"form-row\">\n                <ConfInput id=\"bed_works\" checked={config.bed_works} onChange={handleCheckboxChange}>Bed works</ConfInput>\n                <ConfInput id=\"has_raids\" checked={config.has_raids} onChange={handleCheckboxChange}>Has raids</ConfInput>\n                <ConfInput id=\"natural\" checked={config.natural} onChange={handleCheckboxChange}>Natural</ConfInput>\n            </div>\n        </fieldset>\n        <fieldset>\n            <legend>Nether related behavior</legend>\n            <div className=\"form-row\">\n                <ConfInput id=\"has_ceiling\" checked={config.has_ceiling} onChange={handleCheckboxChange}>Has ceiling</ConfInput>\n                <NumberInput id=\"coordinate_scale\" value={config.coordinate_scale} upChange={handleNumberChange} min={10 ** -5} max={10 ** 7} step={0.1}>Coordinate scale</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"respawn_anchor_works\" checked={config.respawn_anchor_works} onChange={handleCheckboxChange}>Respawn anchor works</ConfInput>\n                <ConfInput id=\"piglin_safe\" checked={config.piglin_safe} onChange={handleCheckboxChange}>Piglin safe</ConfInput>\n                <ConfInput id=\"ultrawarm\" checked={config.ultrawarm} onChange={handleCheckboxChange}>Ultrawarm</ConfInput>\n            </div>\n        </fieldset>\n        <Button type=\"submit\">Save</Button>\n    </form>;\n}\n\nfunction InfiniburnIdentifier({ inputId, onChange, value }) {\n    return <div>\n        <label htmlFor={inputId}>Infiniburn : </label>\n        <div className=\"inbl\" style={{ width: '16ch' }}>\n            <Select options={DIMENSION_TYPE_INFINIBURN} value={DIMENSION_TYPE_INFINIBURN.find(o => value === o.value) || DIMENSION_TYPE_INFINIBURN[0]} onChange={o => onChange('infiniburn', o)} inputId={inputId} />\n        </div>\n    </div>\n}\n","import React from 'react';\nimport { NumberInput } from './Input';\n\nexport const NumberList = React.memo(function ({ children, numbers = [], onChange }) {\n\n    const handleChange = function(val, pos) {\n        onChange(numbers.map((n, i) => i === pos ? val : n));\n    };\n\n    return <div className=\"form-row\">\n        <label>{children}</label>&nbsp;:&nbsp;{numbers.map((n, i) => <NumberInput key={i} value={n} onChange={(n) => handleChange(n, i)} />)}\n    </div>\n});\n","import { grad, INT_MAX_VALUE, INT_MIN_VALUE, lerp3, perlinFade } from '../../utils/math';\nimport Random from 'java-random';\n\nexport class DoublePerlinSampler {\n    /**\n     * @param {JavaRandom} random \n     * @param {{ firstOctave: number, amplitudes: number[] }} settings \n     */\n    constructor(random, settings) {\n        this.firstSampler = new OctaveSimplexNoise(random, settings);\n        this.secondSampler = new OctaveSimplexNoise(random, settings);\n        this.amplitude = this.createAmplitude(settings.amplitudes);\n    }\n\n    /**\n     * @param {number[]} amplitudes \n     * @returns {number}\n     */\n    createAmplitude(amplitudes) {\n        let a = INT_MAX_VALUE;\n        let b = INT_MIN_VALUE;\n        amplitudes.forEach((n, index) => {\n            if (n !== 0) {\n                a = Math.min(a, index);\n                b = Math.max(b, index);\n            }\n        });\n        return (1/6) / (0.1 * (1.0 + 1.0 / (b - a + 1)));\n    }\n\n    /**\n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     */\n    sample(x, y, z) {\n        const d = x * 1.0181268882175227;\n        const e = y * 1.0181268882175227;\n        const f = z * 1.0181268882175227;\n        return (this.firstSampler.sample(x, y, z) + this.secondSampler.sample(d, e, f)) * this.amplitude;\n    }\n}\n\nclass OctaveSimplexNoise {\n\n    /**\n     * @param {Random} random \n     * @param {number[]} octaves \n     */\n    constructor(random, { firstOctave, amplitudes }) {\n        this.amplitudes = amplitudes;\n        const sampler = new PerlinNoiseSampler(random);\n        const j = amplitudes.length;\n        const k = -firstOctave;\n        this.octaveSamplers = new Array(j);\n\n        if (k >= 0 && k < j) {\n            const d = amplitudes[k];\n            if (d !== 0.0) {\n                this.octaveSamplers[k] = sampler;\n            }\n        }\n\n        for (let l = k - 1; l >= 0; --l) {\n            if (l < j) {\n                if (this.amplitudes[l] !== 0.0) {\n                    this.octaveSamplers[l] = new PerlinNoiseSampler(random);\n                } else {\n                    consumeRandom(random, 262);\n                }\n            } else {\n                consumeRandom(random, 262);\n            }\n        }\n\n        if (k < j - 1) {\n            const m = sampler.sample(0.0, 0.0, 0.0, 0.0, 0.0) * 9.223372036854776E18;\n            const random2 = new Random(m);\n\n            for (let n = k + 1; n < j; ++n) {\n                if (n >= 0) {\n                    if (this.amplitudes[n] !== 0.0) {\n                        this.octaveSamplers[n] = new PerlinNoiseSampler(random2);\n                    } else {\n                        consumeRandom(random, 262);\n                    }\n                } else {\n                    consumeRandom(random, 262);\n                }\n            }\n        }\n\n        this.lacunarity = Math.pow(2.0, -k);\n        this.persistence = Math.pow(2.0, j - 1) / (Math.pow(2.0, j) - 1.0);\n    }\n\n    /**\n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     * @param {number} d \n     * @param {number} e \n     * @param {boolean} bl \n     */\n    sample(x, y, z, d = 0.0, e = 0.0, bl = false) {\n        let noise = 0.0;\n        let lacunarity = this.lacunarity;\n        let persistence = this.persistence;\n\n        this.octaveSamplers.forEach((sampler, i) => {\n            if (typeof sampler === 'object') {\n                noise += this.amplitudes[i] * sampler.sample(\n                    x * lacunarity, bl ? -sampler.originY : y * lacunarity,\n                    z * lacunarity,\n                    d * lacunarity, e * lacunarity) * persistence;\n                lacunarity *= 2.0;\n                persistence /= 2.0;\n            }\n        });\n        return noise;\n    }\n}\n\nclass PerlinNoiseSampler {\n\n    /**\n     * @param {Random} random \n     */\n    constructor(random) {\n        this.originX = random.nextDouble() * 256;\n        this.originY = random.nextDouble() * 256;\n        this.originZ = random.nextDouble() * 256;\n        this.permutations = this.buildPermutationsTable(random);\n    }\n\n    /**\n     * @param {Random} random \n     */\n    buildPermutationsTable(random) {\n        const permutations = new Uint8Array(256);\n        for (let j = 0; j < 256; ++j) {\n            permutations[j] = j;\n        }\n        for (let j = 0; j < 256; ++j) {\n            const k = random.nextInt(256 - j);\n            const b = permutations[j];\n            permutations[j] = permutations[j + k];\n            permutations[j + k] = b;\n        }\n        return permutations;\n    }\n\n    /**\n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     * @param {number} d \n     * @param {number} e \n     * @returns {number}\n     */\n    sample(x, y, z, d, e) {\n        const rx = x + this.originX;\n        const ry = y + this.originY;\n        const rz = z + this.originZ;\n        const fx = Math.floor(rx);\n        const fy = Math.floor(ry);\n        const fz = Math.floor(rz);\n\n        const dx = rx - fx;\n        const dy = ry - fy;\n        const dz = rz - fz;\n        const fadeX = perlinFade(dx);\n        const fadeY = perlinFade(dy);\n        const fadeZ = perlinFade(dz);\n\n        const t = d === 0 ? 0 : Math.floor(Math.min(e, dy) / d) * d;\n        return this._sample(fx, fy, fz, dx, dy - t, dz, fadeX, fadeY, fadeZ);\n    }\n\n    /**\n     * @param {number} sectionX \n     * @param {number} sectionY \n     * @param {number} sectionZ \n     * @param {number} localX \n     * @param {number} localY \n     * @param {number} localZ \n     * @param {number} fadeLocalX \n     * @param {number} fadeLocalY \n     * @param {number} fadeLocalZ \n     * @returns {number}\n     */\n    _sample(sectionX, sectionY, sectionZ, localX, localY, localZ, fadeLocalX, fadeLocalY, fadeLocalZ) {\n        const i = this.getGradient(sectionX) + sectionY;\n        const j = this.getGradient(i) + sectionZ;\n        const k = this.getGradient(i + 1) + sectionZ;\n        const l = this.getGradient(sectionX + 1) + sectionY;\n        const m = this.getGradient(l) + sectionZ;\n        const n = this.getGradient(l + 1) + sectionZ;\n        const d = grad(this.getGradient(j), localX, localY, localZ);\n        const e = grad(this.getGradient(m), localX - 1.0, localY, localZ);\n        const f = grad(this.getGradient(k), localX, localY - 1.0, localZ);\n        const g = grad(this.getGradient(n), localX - 1.0, localY - 1.0, localZ);\n        const h = grad(this.getGradient(j + 1), localX, localY, localZ - 1.0);\n        const o = grad(this.getGradient(m + 1), localX - 1.0, localY, localZ - 1.0);\n        const p = grad(this.getGradient(k + 1), localX, localY - 1.0, localZ - 1.0);\n        const q = grad(this.getGradient(n + 1), localX - 1.0, localY - 1.0, localZ - 1.0);\n        return lerp3(fadeLocalX, fadeLocalY, fadeLocalZ, d, e, f, g, h, o, p, q);\n    }\n\n    getGradient(hash) {\n        return this.permutations[hash & 255];\n    }\n}\n\n/**\n * @param {Random} random \n * @param {number} count\n */\nfunction consumeRandom(random, count) {\n    for (let c = 0; c < count; c++) {\n        random.nextInt();\n    }\n}\n","export function hashCode(s) {\n    let hash;\n    for (let i = 0; i < s.length; i++) { \n        hash = Math.imul(31, hash) + s.charCodeAt(i) | 0;\n    }\n    return hash;\n}","import { DoublePerlinSampler } from './PerlinSamplers';\nimport Random from 'java-random';\nimport { hashCode } from '../../utils/hash';\n\n/**\n * @typedef Biome\n * @type {object}\n * @property {string} biome Biome name \n * @property {{\n        temperature: number,\n        humidity: number,\n        altitude: number,\n        weirdness: number,\n        offset: number\n    }} parameters Noise point parameters\n */\n\nexport class MultiNoiseDimension {\n\n    /**\n     * @param {{\n            temperature_noise: { firstOctave: number, amplitudes: number[] },\n            humidity_noise: { firstOctave: number, amplitudes: number[] },\n            altitude_noise: { firstOctave: number, amplitudes: number[] },\n            weirdness_noise: { firstOctave: number, amplitudes: number[] },\n            seed: number,\n            biomes: Biome[]\n        }} source\n    */\n    constructor(source) {\n        this.biomes = source.biomes;\n\n        this.temperatureNoise = new DoublePerlinSampler(new Random(source.seed), source.temperature_noise);\n        this.humidityNoise = new DoublePerlinSampler(new Random(source.seed + 1), source.humidity_noise);\n        this.altitudeNoise = new DoublePerlinSampler(new Random(source.seed + 2), source.altitude_noise);\n        this.weirdnessNoise = new DoublePerlinSampler(new Random(source.seed + 3), source.weirdness_noise);\n    }\n\n    /**\n     * Get biome for the given block position.\n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     * @returns {Biome}\n     */\n    getBiomeAt(x, y, z) {\n        const biomeX = x >> 2;\n        const biomeY = y >> 2;\n        const biomeZ = z >> 2;\n\n        // Calculate a noise point using perlin noise samplers\n        const temperature = this.temperatureNoise.sample(biomeX, biomeY, biomeZ);\n        const humidity = this.humidityNoise.sample(biomeX, biomeY, biomeZ);\n        const altitude = this.altitudeNoise.sample(biomeX, biomeY, biomeZ);\n        const weirdness = this.weirdnessNoise.sample(biomeX, biomeY, biomeZ);\n\n        // Determine the biome with the parameters closest to the current noise point\n        let current = null;\n        let minDistance = Number.MAX_SAFE_INTEGER;\n        for (const biome of this.biomes) {\n            const distance = this.getDistanceToBiome(temperature, humidity, altitude, weirdness, biome.parameters);\n            if (distance < minDistance) {\n                current = biome;\n                minDistance = distance;\n            }\n        }\n        \n        return current;\n    }\n\n    /**\n     * Fill the image data with biome positions\n     * \n     * @param {ImageData} image \n     * @param {number} [scale] exponential\n     * @param {number} [every] x % every === 0 ? compute : use previous data\n     * @param {number} [offsetX] \n     * @param {number} [offsetY] \n     */\n    createImageData(image, scale = 4, every = 2, offsetX = 0, offsetY = 0) {\n        const width = image.width;\n        const height = image.height;\n        const buffer = new ArrayBuffer(image.data.length);\n        const buf8 = new Uint8ClampedArray(buffer);\n        const data32 = new Uint32Array(buffer);\n\n        const endX = offsetX + width;\n        const endY = offsetY + height;\n\n        const biomesColors = MultiNoiseDimension.getBiomesColors(this.biomes);\n\n        let color = null;\n        for (let x = offsetX; x < endX; x += 1) {\n            for (let y = offsetY; y < endY; y += 1) {\n                if (x % every === 0) {\n                    if (y % every === 0) {\n                        const biome = this.getBiomeAt(x << scale, 0, y << scale);\n                        color = biomesColors[biome.biome];\n                    }\n                    data32[y * width + x] = (255 << 24) | color;\n                } else {\n                    data32[y * width + x] = data32[y * width + x - 1];\n                }\n            }\n        }\n        image.data.set(buf8);\n    }\n\n    /**\n     * Calculates the distance from this noise point to another one.\n     * \n     * @param {number} temperature \n     * @param {number} humidity \n     * @param {number} altitude \n     * @param {number} weirdness \n     * @param {{ temperature: number, humidity: number, altitude: number, weirdness: number, offset: number }} parameters \n     */\n    getDistanceToBiome(temperature, humidity, altitude, weirdness, parameters) {\n        return (temperature - parameters.temperature) ** 2\n            + (humidity - parameters.humidity) ** 2\n            + (altitude - parameters.altitude) ** 2\n            + (weirdness - parameters.weirdness) ** 2\n            + (0 - parameters.offset) ** 2;\n    }\n\n    /**\n     * @param {Biome[]} biomes \n     * @returns {object}\n     */\n    static getBiomesColors(biomes = []) {\n        const biomesColors = {};\n        for (const biome of biomes) {\n            biomesColors[biome.biome] = hashCode(biome.biome);\n        }\n        return biomesColors;\n    }\n}\n","import React, { useCallback, useRef, useState, useEffect } from 'react';\nimport { useToggle } from '../../hooks/ui';\nimport { Button } from '../../ui/Button';\nimport { MultiNoiseDimension } from '../../viewers/biome_multi_noise/MultiNoiseDimension';\nimport { integerColorToHex } from '../../utils/color';\n\nexport const MultiNoiseRepresentation = React.memo(function ({ source }) {\n\n    const [auto, toggle] = useToggle();\n    const [scale, setScale] = useState(4);\n    const reference = useRef(null);\n\n    const render = useCallback(function () {\n        if ((source.biomes || []).length < 1) {\n            return;\n        }\n        const canvas = reference.current;\n        const ctx = canvas.getContext('2d', { alpha: false });\n        const img = ctx.createImageData(canvas.width, canvas.height);\n        const dimension = new MultiNoiseDimension(source);\n        dimension.createImageData(img, scale);\n        ctx.putImageData(img, 0, 0);\n    }, [scale, source]);\n\n    const handleClick = useCallback(function (e) {\n        e.preventDefault();\n        render();\n    }, [render]);\n\n    const handleScaleChange = useCallback(function (e) {\n        setScale(parseInt(e.target.value));\n    }, []);\n\n    useEffect(function () {\n        if (auto) {\n            render();\n        }\n    }, [auto, render]);\n\n    return <fieldset>\n        <legend>Preview</legend>\n        <div className=\"form-row\">\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n                <canvas height=\"128\" width=\"384\" ref={reference} moz-opaque=\"true\"></canvas>\n            </div>\n            <div>\n                <label htmlFor=\"scale\">Scale</label> : <input type=\"range\" id=\"scale\" min=\"1\" max=\"8\" value={scale} onChange={handleScaleChange} /> ({1 << scale} block/px)<br />\n                <label htmlFor=\"auto-update\">Auto update (affects performance)</label> : <input type=\"checkbox\" className=\"checkbox\" checked={auto} onChange={toggle} id=\"auto-update\" /><br />\n                {(source.biomes || []).length > 0 && !auto && <Button onClick={handleClick}>Render</Button>}\n            </div>\n        </div>\n        <ul className=\"form-group form-row\" style={{ justifyContent: 'start' }}>\n            {Object.entries(MultiNoiseDimension.getBiomesColors(source.biomes)).map(([biome, color]) => {\n                const b = (color >> 16) & 0xFF;\n                const g = (color >> 8) & 0xFF;\n                const r = color & 0xFF;\n                return <li key={biome} style={{ display: 'inline', marginLeft: '8px', marginRight: '4px' }}>\n                    <div style={{\n                        backgroundColor: integerColorToHex(((r << 16) | (g << 8) | b)),\n                        width: '32px', height: '16px',\n                        display: 'inline-block',\n                        marginRight: '0.5rem',\n                        verticalAlign: 'middle'\n                    }}></div>\n                    {biome}\n                </li>\n            })}\n        </ul>\n    </fieldset>\n});\n","import React, { useCallback, useContext, useEffect } from 'react';\nimport Select from '../../ui/Select';\nimport { SeedField } from './DimensionGenerator';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useMemo } from 'react';\nimport { useCrudPreset } from '../../hooks/form';\nimport { useToggle } from '../../hooks/ui';\nimport { DataContext } from '../../context/DataContext';\nimport { Button } from '../../ui/Button';\nimport { capitalize, hasDuplicatedObjects } from '../../utils/data';\nimport { NumberList } from '../../ui/NumberList';\nimport { MULTI_NOISE_BIOME_SOURCE, NOISES_NAMES } from './DimensionDefaults';\nimport { NumberInput, ConfInput } from '../../ui/Input';\nimport { MultiNoiseRepresentation } from './MultiNoiseBiomeSource';\n\nexport const BiomeSource = React.memo(function({source = { type: 'minecraft:fixed' }, onChange}) {\n\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:checkerboard', label: 'Checkerboard' },\n            { value: 'minecraft:fixed', label: 'Fixed' },\n            { value: 'minecraft:multi_noise', label: 'Multi noise' },\n            { value: 'minecraft:the_end', label: 'The end' },\n            { value: 'minecraft:vanilla_layered', label: 'Vanilla layered' }\n        ];\n    }, []);\n\n    const handleChange = useCallback(function(settings) {\n        onChange(({ ...source, ...settings }));\n    }, [onChange, source]);\n    const handleSeedChange = useCallback(function(seed) {\n        onChange(({ ...source, seed }));\n    }, [onChange, source]);\n    const handleTypeChange = useCallback(function(option) {\n        onChange(({ seed: source.seed, type: option.value }));\n    }, [onChange, source.seed]);\n    const handleFixedSourceChange = useCallback(function(biome) {\n        onChange(({ ...source, biome }));\n    }, [onChange, source]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === source.type);\n    }, [options, source.type]);\n\n    return <fieldset>\n        <legend>Biome source</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"biome-source-type\">Type</label><Select inputId=\"biome-source-type\" options={options} value={selected} onChange={handleTypeChange} />\n        </div>\n        <SeedField value={source.seed} onChange={handleSeedChange} />\n        <hr />\n        {source.type === 'minecraft:checkerboard' && <CheckerboardBiomeSource source={source} onChange={handleChange} />}\n        {source.type === 'minecraft:fixed' && <FixedBiomeSource biome={source.biome} onChange={handleFixedSourceChange} />}\n        {source.type === 'minecraft:multi_noise' && <MultiNoiseBiomeSource source={source} onChange={handleChange} />}\n        {source.type === 'minecraft:vanilla_layered' && <VanillaLayeredBiomeSource source={source} onChange={handleChange} />}\n    </fieldset>\n});\n\nconst CheckerboardBiomeSource = React.memo(function({source, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const handleBiomesChange = useCallback(function(selection) {\n        onChange({ ...source, biomes: selection === null ? [] : selection.map(o => o.value) });\n    }, [onChange, source]);\n    const handleScaleChange = useCallback(function(scale) {\n        onChange({ ...source, scale });\n    }, [onChange, source]);\n\n    const biomes = source.biomes || (options.length > 0 ? [options[0].value] : []);\n    useEffect(() => {\n        if (!Array.isArray(source.biomes)) {\n            onChange({ biomes, scale: source.scale || 2 });\n        }\n    }, [biomes, source.biomes, source.scale, onChange]);\n\n    return <div className=\"form-group\">\n        <div className=\"form-group\">\n            <label htmlFor=\"biomes\">Biomes</label><Select options={options} isMulti isClearable={false} value={options.filter(o => biomes.includes(o.value))} onChange={handleBiomesChange} id=\"biomes\" />\n        </div>\n        <div className=\"form-group\">\n            <NumberInput id=\"scale\" value={source.scale} onChange={handleScaleChange} max={62} required={false} defaultValue={2}>Scale (squares of 2<sup>scale</sup> chunks)</NumberInput>\n        </div>\n        {biomes.length < 1 && <p className=\"alert--warning\">Warning: a dimension must contain at least one biome!</p>}\n    </div>;\n});\n\nexport const FixedBiomeSource = React.memo(function({biome = 'minecraft:plains', inline = false, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const handleBiomesChange = useCallback(function(option) {\n        onChange(option.value);\n    }, [onChange]);\n\n    return <div className={inline ? 'form-row flex-grow' : 'form-group'}>\n        <label htmlFor=\"fixed-biome\">Biome{inline && ' :'}&nbsp;</label><div className={inline ? 'flex-grow' : undefined}><Select options={options} value={options.find(o => o.value === biome)} onChange={handleBiomesChange} /></div>\n    </div>;\n});\n\nconst MultiNoiseBiomeSource = React.memo(function({source = MULTI_NOISE_BIOME_SOURCE, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const [biomes, handleAdd, handleChange, handleRemove] = useCrudPreset(biomes => onChange({ ...source, biomes }), source.biomes, { biome: 'minecraft:plains', parameters: {\n        altitude: 0,\n        weirdness: 0,\n        offset: 0,\n        temperature: 0.8,\n        humidity: 0.4\n    } });\n\n    const [advanced, toggleAdvanced] = useToggle();\n    const handleNoiseChange = useCallback(function(type, noise) {\n        onChange(({ ...source, [type]: noise }));\n    }, [source, onChange]);\n\n    const vanilla = useContext(DataContext).vanilla.biomes;\n    const custom = useContext(DataContext).custom.biomes;\n    const namespace = useContext(DataContext).namespace;\n    useEffect(function() {\n        for (const noise of NOISES_NAMES) {\n            if (typeof source[noise] === 'undefined') {\n                onChange({ ...MULTI_NOISE_BIOME_SOURCE, ...source, biomes });\n                return;\n            }\n        }\n    }, [biomes, onChange, source]);\n\n    const values = [];\n    biomes.forEach((entry, i) => {\n        const key = i;\n        values.push(<BiomeSelection namespace={namespace} vanilla={vanilla} custom={custom} biomesOptions={options} entry={entry} key={key} onChange={handleChange}><Button cat=\"danger\" onClick={e => handleRemove(e, i)}>Delete</Button></BiomeSelection>);\n    });\n    return <>\n        <div className=\"flex-container\" style={{ alignItems: 'baseline' }}>\n            <h4>\n                Biomes list\n                <Button onClick={handleAdd} cat=\"primary mls\">Add biome</Button>\n                <Button onClick={toggleAdvanced} cat=\"secondary\">Advanced</Button>\n            </h4>\n        </div>\n        {advanced && <div className=\"grid-2-small-1 has-gutter mbm\">\n            {NOISES_NAMES\n                .map(noise => <PerlinNoiseParameters\n                    key={noise}\n                    noise={source[noise] || MULTI_NOISE_BIOME_SOURCE[noise]}\n                    onChange={(n) => handleNoiseChange(noise, n)}>{capitalize(noise.replace('_', ' '))}</PerlinNoiseParameters>)}\n        </div>}\n        {values}\n        {hasDuplicatedObjects(biomes.map(biome => biome.parameters)) && <p className=\"alert--warning\">Warning: every biome must have a unique combination of parameters!</p>}\n        <MultiNoiseRepresentation source={source} />\n    </>;\n});\n\nconst VanillaLayeredBiomeSource = React.memo(function({source, onChange}) {\n    const handleLegacyBiomeToggle = useCallback(function(e) {\n        onChange({ ...source, legacy_biome_init_layer: e.target.checked });\n    }, [onChange, source]);\n    const handleLargeBiomesToggle = useCallback(function(e) {\n        onChange({ ...source, large_biomes: e.target.checked });\n    }, [onChange, source]);\n\n    return <div className=\"form-row\">\n        <ConfInput checked={source.legacy_biome_init_layer || false} onChange={handleLegacyBiomeToggle}>Legacy biome init layer</ConfInput>\n        <ConfInput checked={source.large_biomes || false} onChange={handleLargeBiomesToggle}>Large biomes</ConfInput>\n    </div>;\n});\n\nconst PerlinNoiseParameters = React.memo(function({children, noise = { firstOctave: -7, amplitudes: [1, 1] }, onChange}) {\n\n    const handleFirstOctaveChange = useCallback(function(firstOctave) {\n        onChange({ ...noise, firstOctave });\n    }, [noise, onChange]);\n    const handleAmplitudesChange = useCallback(function(amplitudes) {\n        onChange({ ...noise, amplitudes });\n    }, [noise, onChange]);\n\n    return <fieldset style={{ margin: 0 }}>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"firstOctave\" value={noise.firstOctave} onChange={handleFirstOctaveChange} min={-1000}>First octave</NumberInput>\n            <NumberList numbers={noise.amplitudes} onChange={handleAmplitudesChange}>Amplitudes</NumberList>\n        </div>\n    </fieldset>;\n});\n\nconst BiomeSelection = React.memo(function({namespace, vanilla, custom, biomesOptions, entry, onChange, children}) {\n    const handleBiomeChange = useCallback(function(option) {\n        const biome = option.value;\n        const data = (vanilla.find(b => 'minecraft:' + b.name === biome) || custom.find(b => namespace + ':' + b.key === biome) || { rainfall: 0, temperature: 0 });\n        const parameters = {\n            altitude: entry.parameters.altitude || 0,\n            weirdness: entry.parameters.weirdness || 0,\n            offset: entry.parameters.offset || 0,\n            temperature: data.temperature || 0.8,\n            humidity: data.rainfall || 0.4\n        };\n        onChange({ biome, parameters }, entry);\n    }, [entry, custom, namespace, onChange, vanilla]);\n\n    const handleParameterChange = useCallback(function(value) {\n        onChange({ biome: entry.biome, parameters: { ...entry.parameters, ...value } }, entry);\n    }, [entry, onChange]);\n\n    const selected = useMemo(function() {\n        return biomesOptions.find(o => o.value === entry.biome);\n    }, [biomesOptions, entry.biome]);\n    return <div className=\"form-group\">\n        <Select options={biomesOptions} value={selected} onChange={handleBiomeChange} />\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"altitude\" value={entry.parameters.altitude} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Altitude</NumberInput>\n            <NumberInput id=\"weirdness\" value={entry.parameters.weirdness} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Weirdness</NumberInput>\n            <NumberInput id=\"offset\" value={entry.parameters.offset} upChange={handleParameterChange} step=\"0.1\" max=\"1\">Offset</NumberInput>\n            <NumberInput id=\"temperature\" value={entry.parameters.temperature} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Temperature</NumberInput>\n            <NumberInput id=\"humidity\" value={entry.parameters.humidity} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Humidity</NumberInput>\n            {children}\n        </div>\n    </div>\n});\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { NumberInput } from '../../ui/Input';\nimport { useToggle } from '../../hooks/ui';\nimport { CRUD, useCrudState } from '../../hooks/form';\nimport Select from '../../ui/Select';\nimport { STRUCTURES } from './NoiseDefaults';\nimport { Button } from '../../ui/Button';\n\nexport const Structures = React.memo(function ({ data, onChange }) {\n\n    const handleStrongholdChange = useCallback(function(stronghold) {\n        if (stronghold === false) {\n            onChange({ structures: data.structures });\n        } else {\n            onChange({ structures: data.structures, stronghold });\n        }\n    }, [data.structures, onChange]);\n    const handleStructuresChange = useCallback(function(structures) {\n        onChange({ ...data, structures });\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Structures</legend>\n        <Stronghold data={data.stronghold} onChange={handleStrongholdChange} />\n        <StructuresList data={data.structures} onChange={handleStructuresChange} />\n    </fieldset>\n});\n\nconst Stronghold = React.memo(function ({ data, onChange }) {\n\n    const [enabled, toggle] = useToggle(typeof data === 'object');\n    const [stronghold, setStronghold] = useState(data || { distance: 32, spread: 3, count: 128 });\n\n    const handleChange = useCallback(function(value) {\n        setStronghold(stronghold => ({ ...stronghold, ...value }));\n    }, [setStronghold]);\n\n    useEffect(function() {\n        if ((data !== stronghold && enabled)\n            || (enabled && typeof data === 'undefined')\n            || (!enabled && typeof data === 'object')) {\n                onChange(enabled ? stronghold : false);\n        }\n    }, [data, enabled, onChange, stronghold]);\n\n    return <div>\n        <div className=\"toggle-label\">Stronghold<Button cat=\"secondary\" onClick={toggle}>{enabled ? 'Disable' : 'Enable'}</Button></div>\n        {enabled && <div className=\"form-group form-row\">\n            <NumberInput id=\"distance\" defaultValue={stronghold.distance} upChange={handleChange} max=\"1023\">Distance</NumberInput>\n            <NumberInput id=\"spread\" defaultValue={stronghold.spread} upChange={handleChange} max=\"1023\">Spread</NumberInput>\n            <NumberInput id=\"count\" defaultValue={stronghold.count} upChange={handleChange} min=\"1\" max=\"4095\">Count</NumberInput>\n        </div>}\n    </div>\n});\n\nconst StructuresList = React.memo(function({ data, onChange }) {\n    const [visibility, toggle] = useToggle();\n    const [structures, dispatch] = useCrudState(Object.entries(data).map(([type, d]) => ({ ...d, type })));\n\n    const [previous, setPrevious] = useState(data);\n    if (data !== previous) {\n        dispatch({ type: CRUD.REPLACE, payload: Object.entries(data).map(([type, d]) => ({ ...d, type })) });\n        setPrevious(data);\n    }\n\n    const handleAdd = useCallback(function(e) {\n        e.preventDefault();\n        dispatch({ type: CRUD.ADD, payload: {\n            type: 'minecraft:village',\n            spacing: 32,\n            separation: 8,\n            salt: 10387312\n        }, unshift: true });\n        if (!visibility) {\n            toggle();\n        }\n    }, [dispatch, toggle, visibility]);\n    const handleChange = useCallback(function(original, structure) {\n        dispatch({ type: CRUD.UPDATE, target: original, payload: structure });\n    }, [dispatch]);\n    const handleRemove = useCallback(function(structure) {\n        dispatch({ type: CRUD.REMOVE, payload: structure });\n    }, [dispatch]);\n\n    useEffect(function() {\n        if (previous !== data) {\n            return;\n        }\n\n        const obj = {};\n        for (const structure of structures) {\n            obj[structure.type] = {\n                spacing: structure.spacing,\n                separation: structure.separation,\n                salt: structure.salt\n            };\n        }\n        if (JSON.stringify(obj) !== JSON.stringify(data)) {\n            onChange(obj);\n        }\n    }, [data, onChange, previous, structures]);\n\n    return <div>\n        <div className=\"toggle-label\">\n            Structures\n            <div className=\"btn-group\">\n                <Button onClick={handleAdd}>Add structure</Button>\n                {structures.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{visibility ? 'Less...' : 'More...'}</Button>}\n            </div>\n        </div>\n        {visibility && structures.map((def, i) => \n            <Structure data={def} key={i} onChange={handleChange} onDelete={handleRemove} />\n        )}\n    </div>\n});\n\nconst Structure = React.memo(function ({ data, onChange, onDelete }) {\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange(data, { ...data, type: option.value });\n    }, [data,  onChange]);\n    const handleSpacingChange = useCallback(function(value) {\n        const name = Object.keys(value)[0];\n        value = value[name];\n        if ((name === 'spacing' && value > data.separation)\n            || (name === 'separation' && value < data.spacing)) {\n            onChange(data, {...data, [name]: value});\n        } \n    }, [data,  onChange]);\n    const handleSaltChange = useCallback(function(salt) {\n        onChange(data, { ...data, salt });\n    }, [data,  onChange]);\n    const handleDelete = useCallback(function (e) {\n        e.preventDefault();\n        onDelete(data);\n    }, [data, onDelete]);\n\n    return <div>\n        <div className=\"form-group\">\n            <label>Type</label> : <Select options={STRUCTURES} value={STRUCTURES.find(s => s.value === data.type)} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"spacing\" value={data.spacing} min={data.separation + 1} upChange={handleSpacingChange} max=\"4096\">Spacing</NumberInput>\n            <NumberInput id=\"separation\" value={data.separation} upChange={handleSpacingChange} max={Math.min(data.spacing - 1, 4096)}>Separation</NumberInput>\n            <NumberInput id=\"salt\" value={data.salt} onChange={handleSaltChange} max={0x7FFFFFFF} style={{ width: '150px' }}>Salt</NumberInput>\n            <div className=\"form-inline\"><Button cat=\"danger\" onClick={handleDelete}>Delete</Button></div>\n        </div>\n        <hr /> \n    </div>\n});\n","import React, { useCallback } from 'react';\nimport { FixedBiomeSource } from './BiomeSource';\nimport { useCrudPreset, useJsonEffect } from '../../hooks/form';\nimport { NumberInput, ConfInput } from '../../ui/Input';\nimport { Button } from '../../ui/Button';\nimport { Structures } from '../noise/Structures';\nimport { BlockSelect } from '../state/BlockPredicate';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nexport const FlatChunkSettings = React.memo(function ({ settings, onChange }) {\n\n    settings = useJsonEffect(settings || {\n        structures: {\n            structures: []\n        },\n        layers: [\n            { block: 'minecraft:bedrock', height: 1 },\n            { block: 'minecraft:sandstone', height: 70 }\n        ],\n        biome: 'minecraft:plains'\n    }, settings, onChange);\n\n    const handleBiomeChange = useCallback(function (biome) {\n        onChange({ ...settings, biome });\n    }, [settings, onChange]);\n    const handleLayersChange = useCallback(function (layers) {\n        onChange({ ...settings, layers });\n    }, [settings, onChange]);\n    const handleStructuresChange = useCallback(function (structures) {\n        onChange({ ...settings, structures });\n    }, [settings, onChange]);\n    const handleLakesToggle = useCallback(function (e) {\n        onChange({ ...settings, lakes: e.target.checked });\n    }, [settings, onChange]);\n\n    return <div className=\"form-group\">\n        <div className=\"form-group form-row\">\n            <FixedBiomeSource biome={settings.biome} inline={true} onChange={handleBiomeChange} />\n            <ConfInput className=\"mls\" checked={settings.lakes || false} onChange={handleLakesToggle}>Lakes</ConfInput>\n        </div>\n        <GeneratorLayers config={settings.layers} onChange={handleLayersChange} />\n        <Structures data={settings.structures} onChange={handleStructuresChange} />\n    </div>\n});\n\nconst GeneratorLayers = React.memo(function ({ config, onChange }) {\n    const [layers, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, config, { block: 'minecraft:grass_block', height: 1 });\n\n    const shouldCancelStart = useCallback(function (e) {\n        return !e.target.parentNode.classList.contains('sortable-item');\n    }, []);\n\n    const handleReversedSort = useCallback(function ({ oldIndex, newIndex }) {\n        handleChange({ oldIndex: layers.length - 1 - oldIndex, newIndex: layers.length - 1 - newIndex });\n    }, [layers, handleChange]);\n\n    return <fieldset>\n        <legend>Layers <Button onClick={handleAdd}>Add layer</Button></legend>\n        <SortableLayersList layers={layers} onChange={handleChange} onRemove={handleRemove} onSortEnd={handleReversedSort} shouldCancelStart={shouldCancelStart} />\n    </fieldset>\n});\n\nconst SortableLayersList = SortableContainer(React.memo(function ({ layers, onChange, onRemove }) {\n    let key = 0;\n    return <ol className=\"sortable-container\">\n        {layers.map((layer, index) => {\n            key += layer.height + 1;\n            return <Layer i={index} index={layers.length - 1 - index} key={key} layer={layer} onChange={onChange} onRemove={onRemove} />\n        }).reverse()}\n    </ol>\n}));\n\nconst Layer = SortableElement(React.memo(function ({ i, layer, onChange, onRemove }) {\n    const handleHeightChange = useCallback(function (height, layer) {\n        onChange({ ...layer, height }, layer);\n    }, [onChange]);\n    const handleBlockChange = useCallback(function (block, layer) {\n        onChange({ ...layer, block }, layer);\n    }, [onChange]);\n\n    return <div className=\"sortable-item\"><div className=\"form-group form-row\">\n        <div className=\"flex-grow\"><BlockSelect block={layer.block} onChange={option => handleBlockChange(option.value, layer)} /></div>\n        <NumberInput id=\"height\" className=\"mls\" value={layer.height} max={256} onChange={height => handleHeightChange(height, layer)}>Height</NumberInput>\n        <Button cat=\"danger mlm\" onClick={e => onRemove(e, i)}>Remove</Button>\n    </div></div>\n}));\n","import React, { useCallback, useState } from 'react';\nimport { BlockState } from '../state/BlockState';\nimport { Button } from '../../ui/Button';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { ConfInput, NumberInput } from '../../ui/Input';\nimport Select from '../../ui/Select';\nimport { useValueChange } from '../../hooks/form';\nimport { OVERWORLD_NOISE } from './NoiseDefaults';\nimport { Structures } from './Structures';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { INT_MIN_VALUE } from '../../utils/math';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport const NoiseGenerator = React.memo(function({onChange, settings = 'minecraft:overworld'}) {\n    const options = useKeyedListOptions('noises').map(option => {\n        option.resource = option.value;\n        return option;\n    });\n\n    const handleChange = useCallback(function(option) {\n        onChange(option.resource);\n    }, [onChange]);\n\n    if (typeof settings === 'object') {\n        options.push({ value: 'inline', label: 'inline', resource: settings });\n    }\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"settings\">Noise settings</label><Select options={options} value={options.find(o => o.resource === settings)} onChange={handleChange} inputId=\"settings\" />\n    </div>;\n});\n\nexport const NoiseSettings = React.memo(function ({ data = OVERWORLD_NOISE, onSave }) {\n\n    const [state, setState] = useState(data);\n\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        const formData = Object.fromEntries(new FormData(e.target));\n        onSave({ ...state, ...formData });\n    }, [onSave, state]);\n\n    const handleBlockChange = useCallback(function (name, s) {\n        setState(state => ({ ...state, [name]: s }));\n    }, []);\n    const handleStructuresChange = useCallback(function (structures) {\n        setState(state => ({ ...state, structures }));\n    }, []);\n    const handleNoiseChange = useCallback(function (noise) {\n        setState(state => ({ ...state, noise: { ...state.noise, ...noise } }));\n    }, []);\n    const handleChange = useCallback(function(value) {\n        setState(state => ({ ...state, ...value }));\n    }, []);\n    const handleDisableMobGenerationChange = useCallback(function(e) {\n        const disable_mob_generation = e.target.checked;\n        setState(state => ({ ...state, disable_mob_generation }));\n    }, []);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"epic\" type=\"noises\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setState}>\n            noise\n            <JsonViewer data={state} />\n        </NamespacedKey>\n\n        <Structures data={state.structures} onChange={handleStructuresChange} />\n\n        <fieldset>\n            <legend>Defaults</legend>\n            <div className=\"form-group\">\n                <label>Block</label> : <BlockState block={state.default_block} onChange={state => handleBlockChange('default_block', state)} />\n            </div>\n            <div className=\"form-group\">\n                <label>Fluid</label> : <BlockState block={state.default_fluid} onChange={state => handleBlockChange('default_fluid', state)} />\n            </div>\n        </fieldset>\n\n        <fieldset>\n            <legend>Main</legend>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"bedrock_roof_position\" value={state.bedrock_roof_position} min={-20} max={276} upChange={handleChange}>Bedrock roof position</NumberInput>\n                <NumberInput id=\"bedrock_floor_position\" value={state.bedrock_floor_position} min={-20} max={276} upChange={handleChange}>Bedrock floor position</NumberInput>\n                <NumberInput id=\"sea_level\" value={state.sea_level} max={255} upChange={handleChange}>Sea level</NumberInput>\n                <ConfInput id=\"disable_mob_generation\" checked={state.disable_mob_generation} onChange={handleDisableMobGenerationChange}>Disable mob generation</ConfInput>\n            </div>\n        </fieldset>\n\n        {Object.keys(state.structures.structures).includes('minecraft:nether_fossil') && (state.noise.height - 2 - state.sea_level) < 0 &&\n            <p className=\"alert--warning\">The game may crash when trying to generate nether fossils, because (height - 2 - sea_level) is negative (actually: {state.noise.height - 2 - state.sea_level}).</p>\n        }\n        <NoiseConfig data={state.noise} onChange={handleNoiseChange} />\n\n        <Button type=\"submit\">Save</Button>\n    </form>;\n});\n\nconst NoiseConfig = React.memo(function ({ data, onChange }) {\n\n    const handleChange = useValueChange(onChange, data);\n    const handleSamplingChange = useCallback(function (sampling) {\n        onChange({ ...data, sampling: { ...data.sampling, ...sampling } });\n    }, [data, onChange]);\n    const handleTopSlideChange = useCallback(function (top_slide) {\n        onChange({ ...data, top_slide: { ...data.top_slide, ...top_slide } });\n    }, [data, onChange]);\n    const handleBottomSlideChange = useCallback(function (bottom_slide) {\n        onChange({ ...data, bottom_slide: { ...data.bottom_slide, ...bottom_slide } });\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Noise config (advanced)</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"height\" value={data.height} upChange={onChange} max={256}>Height</NumberInput>\n            <NumberInput id=\"size_horizontal\" value={data.size_horizontal} upChange={onChange} min={1} max={4}>Size horizontal</NumberInput>\n            <NumberInput id=\"size_vertical\" value={data.size_vertical} upChange={onChange} min={1} max={4}>Size vertical</NumberInput>\n            <NumberInput id=\"density_factor\" value={data.density_factor} upChange={onChange} step={0.01}>Density factor</NumberInput>\n            <NumberInput id=\"density_offset\" value={data.density_offset} upChange={onChange} min={INT_MIN_VALUE} step={0.01}>Density offset</NumberInput>\n        </div>\n        <div className=\"form-group form-row\">\n            <ConfInput id=\"simplex_surface_noise\" checked={data.simplex_surface_noise} onChange={handleChange}>Simplex surface noise</ConfInput>\n            <ConfInput id=\"random_density_offset\" checked={data.random_density_offset || false} onChange={handleChange}>Random density offset</ConfInput>\n            <ConfInput id=\"island_noise_override\" checked={data.island_noise_override || false} onChange={handleChange}>Island noise override</ConfInput>\n            <ConfInput id=\"amplified\" checked={data.amplified || false} onChange={handleChange}>Amplified</ConfInput>\n        </div>\n\n        <NoiseSamplingConfig data={data.sampling} onChange={handleSamplingChange}>Sampling</NoiseSamplingConfig>\n        <SlideConfig data={data.top_slide} onChange={handleTopSlideChange}>Top slide</SlideConfig>\n        <SlideConfig data={data.bottom_slide} onChange={handleBottomSlideChange}>Bottom slide</SlideConfig>\n    </fieldset>\n});\n\nconst NoiseSamplingConfig = React.memo(function ({ children, data, onChange }) {\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"xz_scale\" value={data.xz_scale} min={0.001} max={1000} step={0.1} upChange={onChange}>XY scale</NumberInput>\n            <NumberInput id=\"y_scale\" value={data.y_scale} min={0.001} max={1000} step={0.1} upChange={onChange}>Y scale</NumberInput>\n            <NumberInput id=\"xz_factor\" value={data.xz_factor} min={0.001} max={1000} step={0.1} upChange={onChange}>XZ factor</NumberInput>\n            <NumberInput id=\"y_factor\" value={data.y_factor} min={0.001} max={1000} step={0.1} upChange={onChange}>Y factor</NumberInput>\n        </div>\n    </fieldset>\n});\n\nconst SlideConfig = React.memo(function ({ children, data, onChange }) {\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"target\" value={data.target} upChange={onChange} min={INT_MIN_VALUE}>Target</NumberInput>\n            <NumberInput id=\"size\" value={data.size} upChange={onChange} max={256}>Size</NumberInput>\n            <NumberInput id=\"offset\" value={data.offset} upChange={onChange} min={INT_MIN_VALUE}>Offset</NumberInput>\n        </div>\n    </fieldset>\n});\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { BiomeSource } from './BiomeSource';\nimport { hashCode } from './../../utils/hash';\nimport Select from '../../ui/Select';\nimport { ConfInput } from '../../ui/Input';\nimport { CHUNK_GENERATOR_TYPES, DIMENSION } from './DimensionDefaults';\nimport { FlatChunkSettings } from './FlatChunkSettings';\nimport { NoiseGenerator } from '../noise/NoiseSettings';\n\nexport function DimensionGenerator({generator, onChange}) {\n\n    const [previousGenerator, setPreviousGenerator] = useState({ type: null });\n\n    const handleChunkGeneratorChange = useCallback(function(option) {\n        if (option.value === previousGenerator.type) {\n            onChange(previousGenerator);\n        } else if (option.value === 'minecraft:noise') {\n            onChange(DIMENSION.generator);\n        } else {\n            onChange({ type: option.value });\n        }\n        setPreviousGenerator(generator);\n    }, [generator, previousGenerator, onChange]);\n\n    const handleSeedChange = useCallback(function(seed) {\n        onChange({ ...generator, seed });\n    }, [generator, onChange]);\n    const handleSettingsChange = useCallback(function(settings) {\n        onChange({ ...generator, settings });\n    }, [generator, onChange]);\n    const handleBiomeSourceChange = useCallback(function(biome_source) {\n        onChange({ ...generator, biome_source });\n    }, [generator, onChange]);\n\n    return <fieldset>\n        <legend style={{ fontWeight: 'normal', width: '28ch', fontSize: '1.05rem' }}><Select options={CHUNK_GENERATOR_TYPES} value={CHUNK_GENERATOR_TYPES.find(o => generator.type === o.value)} onChange={handleChunkGeneratorChange} /></legend>\n        <div className=\"form-group\">\n            {generator.type === 'minecraft:noise' && <>\n                <SeedField value={generator.seed} onChange={handleSeedChange} />\n                <NoiseGenerator settings={generator.settings} onChange={handleSettingsChange} />\n                <BiomeSource source={generator.biome_source} onChange={handleBiomeSourceChange} />\n            </>}\n            {generator.type === 'minecraft:flat' &&\n                <FlatChunkSettings settings={generator.settings} onChange={handleSettingsChange} />\n            }\n        </div>\n    </fieldset>;\n}\n\nexport const SeedField = React.memo(function({onChange, value}) {\n    const [text, setText] = useState(value || 286956243);\n\n    const handleChange = useCallback(function(e) {\n        const value = e.target.value;\n        setText(value);\n        onChange(isNaN(value) ? hashCode(value) : parseInt(value));\n    }, [onChange]);\n\n    useEffect(() => {\n        if (typeof value !== 'number') {\n            onChange(286956243);\n        }\n    }, [onChange, value]);\n\n    return <div className=\"form-group\">\n        <ConfInput type=\"text\" id=\"seed\" value={text} onChange={handleChange}>Seed</ConfInput>\n    </div>\n});\n","import React, { useCallback, useState } from 'react';\nimport { DimensionType } from './DimensionType';\nimport { DimensionGenerator } from './DimensionGenerator';\nimport { Button } from '../../ui/Button';\nimport { DIMENSION } from './DimensionDefaults';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { JsonViewer } from '../../ui/JsonViewer';\n\nexport function Dimension({data = DIMENSION, onSave}) {\n\n    const [state, setState] = useState(data);\n\n    const handleTypeChange = useCallback(function(type) {\n        setState(state => ({ ...state, type }));\n    }, []);\n    const handleGeneratorChange = useCallback(function(generator) {\n        setState(state => ({ ...state, generator }));\n    }, []);\n\n    const handleVanillaSelect = function(dimension) {\n        if (state.generator.type === 'minecraft:noise') {\n            dimension.generator.seed = state.generator.seed;\n            dimension.generator.biome_source.seed = state.generator.biome_source.seed;\n        } else {\n            dimension.generator.seed = 286956243;\n            dimension.generator.biome_source.seed = 286956243;\n        }\n        setState(dimension);\n    };\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        onSave({\n            ...state,\n            ...Object.fromEntries(new FormData(e.target))\n        });\n    }, [onSave, state])\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"blue_dimension\" type=\"dimensions\" value={data.key} onSelectLoad={handleVanillaSelect}>\n            dimension\n            <JsonViewer data={state} />\n        </NamespacedKey>\n        <DimensionType type={state.type} onChange={handleTypeChange} />\n        <DimensionGenerator generator={state.generator} onChange={handleGeneratorChange} />\n        <Button type=\"submit\">Save</Button>\n    </form>\n}","export const TREE_DECORATORS_OPTIONS = [\n    { value: 'alter_ground', label: 'Alter ground' },\n    { value: 'beehive', label: 'Beehive', default: { probability: 0.02 } },\n    { value: 'cocoa', label: 'Cocoa beans', default: { probability: 0.2 } },\n    { value: 'leave_vine', label: 'Leave vine' },\n    { value: 'trunk_vine', label: 'Trunk vine' }\n].map(o => {\n    o.value = 'minecraft:' + o.value;\n    return o;\n});\n\nexport const BLOCK_PILE_FEATURE_CONFIG = {\n    state_provider: {\n        state: {\n            Properties: {\n                axis: \"y\"\n            },\n            Name: \"minecraft:hay_block\"\n        },\n        type: \"minecraft:rotated_block_provider\"\n    }\n};\n\nexport const HUGE_FUNGUS_FEATURE_CONFIG = {\n    hat_state: {\n        Name: \"minecraft:nether_wart_block\"\n    },\n    decor_state: {\n        Name: \"minecraft:shroomlight\"\n    },\n    planted: false,\n    valid_base_block: {\n        Name: \"minecraft:crimson_nylium\"\n    },\n    stem_state: {\n        Properties: {\n            axis: \"y\"\n        },\n        Name: \"minecraft:crimson_stem\"\n    }\n};\n\nexport const ORE_FEATURE_CONFIG = {\n    target: {\n        tag: \"minecraft:base_stone_overworld\",\n        predicate_type: \"minecraft:tag_match\"\n    },\n    state: {\n        Name: \"minecraft:gold_ore\"\n    },\n    size: 30\n};\n\nexport const SPRING_FEATURE_CONFIG = {\n    rock_count: 4,\n    hole_count: 1,\n    valid_blocks: [\n        \"minecraft:stone\",\n        \"minecraft:granite\",\n        \"minecraft:diorite\",\n        \"minecraft:andesite\"\n    ],\n    state: {\n        Properties: {\n            falling: \"true\"\n        },\n        Name: \"minecraft:water\"\n    },\n    requires_block_below: true\n};\n\nexport const TREE_FEATURE_CONFIG = {\n    heightmap: \"OCEAN_FLOOR\",\n    minimum_size: {\n        limit: 1,\n        lower_size: 0,\n        upper_size: 1,\n        type: \"minecraft:two_layers_feature_size\"\n    },\n    decorators: [],\n    trunk_provider: {\n        state: {\n            Properties: {\n                axis: \"y\"\n            },\n            Name: \"minecraft:birch_log\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    leaves_provider: {\n        state: {\n            Properties: {\n                persistent: \"false\",\n                distance: \"7\"\n            },\n            Name: \"minecraft:birch_leaves\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    foliage_placer: {\n        radius: 2,\n        offset: 0,\n        height: 3,\n        type: \"minecraft:blob_foliage_placer\"\n    },\n    trunk_placer: {\n        base_height: 5,\n        height_rand_a: 2,\n        height_rand_b: 0,\n        type: \"minecraft:straight_trunk_placer\"\n    }\n};\n\nexport const RANDOM_PATCH_FEATURE_CONFIG = {\n    can_replace: false,\n    project: true,\n    need_water: false,\n    xspread: 7,\n    yspread: 3,\n    zspread: 7,\n    whitelist: [\n        {\n            Properties: {\n                snowy: \"false\"\n            },\n            Name: \"minecraft:grass_block\"\n        }\n    ],\n    blacklist: [],\n    tries: 64,\n    state_provider: {\n        state: {\n            Name: \"minecraft:pumpkin\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    block_placer: {\n        type: \"minecraft:simple_block_placer\"\n    }\n};\n","import { TREE_FEATURE_CONFIG, RANDOM_PATCH_FEATURE_CONFIG, HUGE_FUNGUS_FEATURE_CONFIG, BLOCK_PILE_FEATURE_CONFIG, SPRING_FEATURE_CONFIG, ORE_FEATURE_CONFIG } from \"./config/FeatureConfigDefaults\";\n\nexport const DECORATED_BAMBOO_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {\n                                probability: 0.2\n                            },\n                            type: \"minecraft:bamboo\"\n                        },\n                        decorator: {\n                            config: {},\n                            type: \"minecraft:heightmap_world_surface\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                noise_to_count_ratio: 160,\n                noise_factor: 80.0,\n                noise_offset: 0.3\n            },\n            type: \"minecraft:count_noise_biased\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_BLOCK_PILE_CONFIG = {\n    config: {\n        feature: {\n            type: \"minecraft:decorated\",\n            config: {\n                decorator: {\n                    type: \"minecraft:count_multilayer\",\n                    config: {\n                        \"count\": 2\n                    }\n                },\n                feature: {\n                    config: BLOCK_PILE_FEATURE_CONFIG,\n                    type: \"minecraft:block_pile\"\n                }\n            }\n        },\n        decorator: {\n            type: \"minecraft:chance\",\n            config: {\n                chance: 12\n            }\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_CHORUS_PLANT_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:chorus_plant\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: {\n                    base: 0,\n                    spread: 4\n                }\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_DELTA_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                contents: {\n                    Properties: {\n                        level: \"0\"\n                    },\n                    Name: \"minecraft:lava\"\n                },\n                rim: {\n                    Name: \"minecraft:magma_block\"\n                },\n                size: {\n                    base: 3,\n                    spread: 4\n                },\n                rim_size: {\n                    base: 0,\n                    spread: 2\n                }\n            },\n            type: \"minecraft:delta_feature\"\n        },\n        decorator: {\n            config: {\n                count: 40\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_DESERT_WELL_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:desert_well\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 1000\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_DISK_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:sand\"\n                        },\n                        radius: {\n                            base: 2,\n                            spread: 4\n                        },\n                        half_height: 2,\n                        targets: [\n                            {\n                                Name: \"minecraft:dirt\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:grass_block\"\n                            }\n                        ]\n                    },\n                    type: \"minecraft:disk\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:top_solid_heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 3\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_FOREST_ROCK_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:mossy_cobblestone\"\n                        }\n                    },\n                    type: \"minecraft:forest_rock\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: {\n                    base: 0,\n                    spread: 2\n                }\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\n\nexport const DECORATED_FOSSIL_CONFIG = {\n    config: {\n        feature: {\n            config: {},\n            type: \"minecraft:fossil\"\n        },\n        decorator: {\n            config: {\n                chance: 64\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_GLOWSTONE_BLOB_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:glowstone_blob\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_HUGE_FUNGUS_CONFIG = {\n    config: {\n        feature: {\n            config: HUGE_FUNGUS_FEATURE_CONFIG,\n            type: \"minecraft:huge_fungus\"\n        },\n        decorator: {\n            config: {\n                count: 8\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ICEBERG_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:packed_ice\"\n                        }\n                    },\n                    type: \"minecraft:iceberg\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:iceberg\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 16\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ICE_PATCH_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:packed_ice\"\n                        },\n                        radius: {\n                            base: 2,\n                            spread: 1\n                        },\n                        half_height: 1,\n                        targets: [\n                            {\n                                Name: \"minecraft:dirt\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:grass_block\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:podzol\"\n                            },\n                            {\n                                Name: \"minecraft:coarse_dirt\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:mycelium\"\n                            },\n                            {\n                                Name: \"minecraft:snow_block\"\n                            },\n                            {\n                                Name: \"minecraft:ice\"\n                            }\n                        ]\n                    },\n                    type: \"minecraft:ice_patch\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 2\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ICE_SPIKE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:ice_spike\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 3\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_LAKE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                state: {\n                    Properties: {\n                        level: \"0\"\n                    },\n                    Name: \"minecraft:water\"\n                }\n            },\n            type: \"minecraft:lake\"\n        },\n        decorator: {\n            config: {\n                chance: 4\n            },\n            type: \"minecraft:water_lake\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_NETHERRACK_REPLACE_BLOBS_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {\n                                target: {\n                                    Name: \"minecraft:netherrack\"\n                                },\n                                state: {\n                                    Properties: {\n                                        axis: \"y\"\n                                    },\n                                    Name: \"minecraft:basalt\"\n                                },\n                                radius: {\n                                    base: 3,\n                                    spread: 4\n                                }\n                            },\n                            type: \"minecraft:netherrack_replace_blobs\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 75\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ORE_FEATURE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: ORE_FEATURE_CONFIG,\n                            type: \"minecraft:ore\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 32\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 2\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_RANDOM_PATCH_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: RANDOM_PATCH_FEATURE_CONFIG,\n                    type: \"minecraft:random_patch\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap_spread_double\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 32\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SEAGRASS_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        probability: 0.3\n                    },\n                    type: \"minecraft:seagrass\"\n                },\n                decorator: {\n                    config: {\n                        count: 48\n                    },\n                    type: \"minecraft:count\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                outer: {\n                    config: {},\n                    type: \"minecraft:square\"\n                },\n                inner: {\n                    config: {},\n                    type: \"minecraft:top_solid_heightmap\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SIMPLE_BLOCK_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                to_place: {\n                    Name: \"minecraft:seagrass\"\n                },\n                place_on: [\n                    {\n                        Name: \"minecraft:stone\"\n                    }\n                ],\n                place_in: [\n                    {\n                        Properties: {\n                            level: \"0\"\n                        },\n                        Name: \"minecraft:water\"\n                    }\n                ],\n                place_under: [\n                    {\n                        Properties: {\n                            level: \"0\"\n                        },\n                        Name: \"minecraft:water\"\n                    }\n                ]\n            },\n            type: \"minecraft:simple_block\"\n        },\n        decorator: {\n            config: {\n                step: \"liquid\",\n                probability: 0.1\n            },\n            type: \"minecraft:carving_mask\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SPRING_FEATURE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: SPRING_FEATURE_CONFIG,\n                            type: \"minecraft:spring_feature\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 8,\n                                top_offset: 8,\n                                maximum: 256\n                            },\n                            type: \"minecraft:range_biased\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 50\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_TREE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: TREE_FEATURE_CONFIG,\n                    type: \"minecraft:tree\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10,\n                extra_chance: 0.1,\n                extra_count: 1\n            },\n            type: \"minecraft:count_extra\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_VOID_START_PLATFORM_CONFIG = {\n    config: {},\n    type: \"minecraft:void_start_platform\"\n};\n","import React, { useCallback, useMemo } from \"react\";\nimport Select from \"../../ui/Select\";\nimport { Button } from '../../ui/Button';\nimport { NumberInput } from '../../ui/Input';\nimport { useEffect } from \"react\";\nimport { useCrudPreset, useBlocksOptions } from \"../../hooks/form\";\nimport { BlockState } from \"./BlockState\";\n\nexport const BlockStateProvider = React.memo(function({block = { type: 'minecraft:simple_state_provider' }, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:forest_flower_provider', label: 'Forest flower provider' },\n            { value: 'minecraft:plain_flower_provider', label: 'Plain flower provider' },\n            { value: 'minecraft:simple_state_provider', label: 'Simple state provider' },\n            { value: 'minecraft:rotated_block_provider', label: 'Rotated block provider' },\n            { value: 'minecraft:weighted_state_provider', label: 'Weighted state provider' }\n        ];\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        const similarities = ['minecraft:simple_state_provider', 'minecraft:rotated_block_provider'];\n        if (similarities.includes(block.type) && similarities.includes(option.value)) {\n            onChange({ ...block, type: option.value }, block);\n        } else {\n            onChange({ type: option.value }, block);\n        }\n    }, [block, onChange]);\n\n    const handleSimpleStateChange = useCallback(function(state) {\n        onChange({ ...block, state }, block);\n    }, [block, onChange]);\n\n    const handleWeighestStateChange = useCallback(function(entries) {\n        onChange({ ...block, entries }, block);\n    }, [block, onChange]);\n\n    const blocks = useBlocksOptions(false);\n    const filteredBlocks = useMemo(function () {\n        const filtered = block.type === 'minecraft:rotated_block_provider' ?\n            blocks.filter(b => b.states.some(state => state.name === 'axis')) : blocks;\n        return filtered.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n    }, [blocks, block.type]);\n\n    return <div>\n        <label>Provider type</label>\n        <Select options={options} value={options.find(o => o.value === block.type)} onChange={handleTypeChange} />\n        {(block.type === 'minecraft:simple_state_provider' || block.type === 'minecraft:rotated_block_provider') && <BlockState block={block.state} options={filteredBlocks} onChange={handleSimpleStateChange} />}\n        {block.type === 'minecraft:weighted_state_provider' && <WeightedStateProvider entries={block.entries} onChange={handleWeighestStateChange} />}\n    </div>\n});\n\n\nconst WeightedStateProvider = React.memo(function({entries = [], onChange}) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, entries, function(blocks) {\n        // Get the first non taken block name\n        return { data: { Name: (options.find(o => !blocks.some(b => b.data.Name === o.value)) || { value: 'minecraft:stone' }).value } };\n    });\n\n    const handleStateChange = useCallback(function(state, i) {\n        handleChange({ ...blocks[i], data: state }, blocks[i]);\n    }, [blocks, handleChange]);\n    const handleWeightChange = useCallback(function(weight, i) {\n        if (weight === 1) {\n            handleChange({ data: blocks[i].data }, blocks[i]);\n        } else {\n            handleChange({ weight, data: blocks[i].data }, blocks[i]);\n        }\n    }, [blocks, handleChange]);\n\n    useEffect(() => {\n        if (blocks !== entries) {\n            onChange(blocks);\n        }\n    }, [blocks, entries, onChange]);\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block.data.Name || !blocks.some(d => d.data.Name === o.value));\n            return <BlockState block={block.data} options={filteredOptions} key={JSON.stringify(block)} onChange={state => handleStateChange(state, i)}>\n                <NumberInput id=\"weight\" value={block.weight || 1} min=\"1\" onChange={weight => handleWeightChange(weight, i)} className=\"mlm\">Weight</NumberInput>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, i)}>Remove</Button>\n            </BlockState>\n        })}\n        <Button onClick={handleAdd}>Add block</Button>\n    </div>;\n});","export const DECORATORS_OPTIONS = [\n    { value: 'carving_mask', label: 'Carving mask' },\n    { value: 'chance', label: 'Chance' },\n    { value: 'count', label: 'Count' },\n    { value: 'count_extra', label: 'Count extra' },\n    { value: 'count_multilayer', label: 'Count multi layer' },\n    { value: 'count_noise', label: 'Count noise' },\n    { value: 'count_noise_biased', label: 'Count noise biased' },\n    { value: 'decorated', label: 'Decorated' },\n    { value: 'fire', label: 'Fire' },\n    { value: 'heightmap_world_surface', label: 'Heightmap world surface' },\n    { value: 'iceberg', label: 'Iceberg' },\n    { value: 'lava_lake', label: 'Lava lake' },\n    { value: 'range', label: 'Range' },\n    { value: 'range_biased', label: 'Range biased' },\n    { value: 'range_very_biased', label: 'Range very biased' },\n    { value: 'square', label: 'Square' },\n    { value: 'water_lake', label: 'Water lake' }\n].map(o => {\n    o.value = 'minecraft:' + o.value;\n    return o;\n});\n\nexport const CARVERS_OPTIONS = [\n    { value: 'air', label: 'Air' },\n    { value: 'liquid', label: 'Liquid' }\n];\n\nexport const DECORATOR_CARVING_MASK_DEFAULTS = {\n    step: \"liquid\",\n    probability: 0.1\n};\n\nexport const DECORATOR_EXTRA_COUNT_DEFAULTS = {\n    count: 10,\n    extra_chance: 0.1,\n    extra_count: 1\n};\n\nexport const DECORATOR_DECORATED_DEFAULTS = {\n    outer: {\n        config: {},\n        type: \"minecraft:square\"\n    },\n    inner: {\n        config: {},\n        type: \"minecraft:heightmap\"\n    }\n};\n\nexport const DECORATOR_RANGE_DEFAULTS = {\n    bottom_offset: 4,\n    top_offset: 0,\n    maximum: 64\n};\n","import React, { useCallback } from 'react';\nimport { NumberInput } from '../../ui/Input';\n\nexport const UniformInt = React.memo(function ({ children, id, minBase = 0, maxBase = 4, maxSpread = 4, upChange, value, defaultValue = 4 }) {\n    const handleChange = useCallback(function (val) {\n        upChange({ [id]: { ...value, ...val } })\n    }, [id, upChange, value]);\n\n    if (typeof value === 'number' || typeof value === 'undefined') {\n        return <NumberInput id={id} value={value} defaultValue={defaultValue} max={maxBase} upChange={upChange}>{children}</NumberInput>\n    }\n\n    if (typeof value !== 'object') {\n        value = { base: 4, spread: 1 };\n    }\n    return <>\n        <NumberInput id=\"base\" value={value.base} upChange={handleChange} min={minBase} max={maxBase}>{children} base</NumberInput>\n        <NumberInput id=\"spread\" value={value.spread} upChange={handleChange} max={maxSpread}>{children} spread</NumberInput>\n    </>\n});\n","import React, { useCallback, useState, useMemo, useEffect } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { useCrudPreset, useJsonEffect } from '../../../hooks/form';\nimport { Button } from '../../../ui/Button';\nimport Select from '../../../ui/Select';\nimport { DECORATORS_OPTIONS, DECORATOR_EXTRA_COUNT_DEFAULTS, DECORATOR_DECORATED_DEFAULTS, DECORATOR_RANGE_DEFAULTS, DECORATOR_CARVING_MASK_DEFAULTS, CARVERS_OPTIONS } from './DecoratorDefaults';\nimport { NumberInput } from '../../../ui/Input';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport const DecoratorsList = React.memo(function({data, onChange}) {\n    const [decorators, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, data, function(decorators) {\n        // Get the first non taken decorator\n        return { type: (DECORATORS_OPTIONS.filter(o => !decorators.some(d => d.type === o.value))[0] || { value: 'minecraft:count' }).value };\n    });\n\n    const shouldCancelStart = useCallback(function(e) {\n        return !e.target.parentNode.classList.contains('sortable-item');\n    }, []);\n    \n    return <fieldset>\n        <legend>Decorators wrappers {DECORATORS_OPTIONS.length > decorators.length && <Button onClick={handleAdd}>Add decorator</Button>}</legend>\n        <SortableDecoratorsList decorators={decorators} handleChange={handleChange} handleRemove={handleRemove}\n            onSortEnd={handleChange} shouldCancelStart={shouldCancelStart} />\n    </fieldset>\n});\n\nconst SortableDecoratorsList = SortableContainer(function({decorators, handleChange, handleRemove}) {\n    return <ol className=\"sortable-container\">\n        {decorators.map((decorator, index) => {\n            const options = DECORATORS_OPTIONS.filter(o => decorator.type === o.value || !decorators.some(d => d.type === o.value));\n            return <Decorator key={decorator.type} data={decorator} index={index} onChange={handleChange} options={options}>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, index)}>Remove</Button>\n            </Decorator>\n        })}\n    </ol>\n});\n\nconst Decorator = React.memo(SortableElement(function({children, data = { type: 'minecraft:count' }, onChange, options}) {\n    const [decorator, setDecorator] = useState(data);\n\n    const handleSelectChange = useCallback(function(option) {\n        setDecorator({ type: option.value });\n    }, []);\n    const handleConfigChange = useCallback(function(config) {\n        setDecorator(decorator => ({ type: decorator.type, config: { ...decorator.config, ...config }}));\n    }, []);\n    useJsonEffect(decorator, data, onChange);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === decorator.type);\n    }, [decorator.type, options]);\n    return <li className=\"sortable-item\">\n        <div className=\"form-group form-row\">\n            <div style={{ flexGrow: 1 }}><Select options={options} value={selected} onChange={handleSelectChange} /></div>\n            {children}\n        </div>\n        <div className=\"form-group form-row\">\n            {decorator.type === 'minecraft:carving_mask' && <CarvingMaskDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:chance' || decorator.type === 'minecraft:lava_lake' || decorator.type === 'minecraft:water_lake') && <ChanceDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:count' || decorator.type === 'minecraft:fire' || decorator.type === 'minecraft:count_multilayer') && <CountDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {decorator.type === 'minecraft:count_extra' && <ExtraCountDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {decorator.type === 'minecraft:count_noise' && <NoiseCountDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {decorator.type === 'minecraft:count_noise_biased' && <NoiseBiasedCountDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:decorated' || decorator.type === 'minecraft:square') && <DecoratedDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:range' || decorator.type === 'minecraft:range_biased' || decorator.type === 'minecraft:range_very_biased') && <RangeDecorator config={decorator.config} onChange={handleConfigChange} />}\n        </div>\n    </li>;\n}));\n\nconst CarvingMaskDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || DECORATOR_CARVING_MASK_DEFAULTS, config, onChange);\n\n    const handleStepChange = useCallback(function (option) {\n        onChange({ probability: config.probability, step: option.value });\n    }, [config.probability, onChange]);\n\n    return <>\n        <div className=\"inbl\"><Select options={CARVERS_OPTIONS} value={CARVERS_OPTIONS.find(o => o.value === config.step)} onChange={handleStepChange} /></div>\n        <NumberInput id=\"probability\" value={config.probability} upChange={onChange} step=\"0.05\">Probability</NumberInput>\n    </>\n});\n\nconst ChanceDecorator = React.memo(function({config = {}, onChange}) {\n    return <NumberInput id=\"chance\" value={config.chance} defaultValue={32} upChange={onChange}>Chance</NumberInput>\n});\n\nconst CountDecorator = React.memo(function({config = {}, onChange}) {\n    return <UniformInt id=\"count\" value={config.count} minBase={-10} maxBase={128} maxSpread={128} defaultValue={25} upChange={onChange}>Count</UniformInt>\n});\n\nconst ExtraCountDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || DECORATOR_EXTRA_COUNT_DEFAULTS, config, onChange);\n\n    return <>\n        <NumberInput id=\"count\" value={config.count} upChange={onChange}>Count</NumberInput>\n        <NumberInput id=\"extra_chance\" value={config.extra_chance} upChange={onChange} step=\"0.05\">Extra chance</NumberInput>\n        <NumberInput id=\"extra_count\" value={config.extra_count} upChange={onChange}>Extra count</NumberInput>\n    </>\n});\n\nconst NoiseCountDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || {\n        noise_level: -0.8,\n        below_noise: 15,\n        above_noise: 4\n    }, config, onChange);\n\n    return <>\n        <NumberInput id=\"noise_level\" value={config.noise_level} upChange={onChange}>Noise level</NumberInput>\n        <NumberInput id=\"below_noise\" value={config.below_noise} upChange={onChange}>Below noise</NumberInput>\n        <NumberInput id=\"above_noise\" value={config.above_noise} upChange={onChange}>Above noise</NumberInput>\n    </>\n});\n\nconst NoiseBiasedCountDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || {\n        noise_to_count_ratio: 160,\n        noise_factor: 80.0,\n        noise_offset: 0.3\n    }, config, onChange);\n\n    return <>\n        <NumberInput id=\"noise_to_count_ratio\" value={config.noise_to_count_ratio} upChange={onChange}>Noise to count ratio</NumberInput>\n        <NumberInput id=\"noise_factor\" value={config.noise_factor} upChange={onChange} step=\"0.05\">Noise factor</NumberInput>\n        <NumberInput id=\"noise_offset\" value={config.noise_offset} upChange={onChange} step=\"0.05\">Noise factor</NumberInput>\n    </>\n});\n\nconst DecoratedDecorator = React.memo(function({config, onChange}) {\n    useEffect(() => {\n        if (typeof config === 'undefined') {\n            onChange(DECORATOR_DECORATED_DEFAULTS);\n        }\n    }, [config, onChange]);\n    return <div></div>;\n});\n\nconst RangeDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || DECORATOR_RANGE_DEFAULTS, config, onChange);\n\n    return <>\n        <NumberInput id=\"bottom_offset\" value={config.bottom_offset} upChange={onChange}>Bottom offset</NumberInput>\n        <NumberInput id=\"top_offset\" value={config.top_offset} upChange={onChange}>Top offset</NumberInput>\n        <NumberInput id=\"maximum\" value={config.maximum} upChange={onChange}>Y maximum</NumberInput>\n    </>\n});","import React, { useCallback } from 'react';\nimport { BlockState, BlocksList } from '../../state/BlockState';\nimport { NumberInput } from '../../../ui/Input';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function DiskFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const handleStateChange = useCallback(function (state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleTargetsChange = useCallback(function (targets) {\n        onChange({ ...configuration, targets });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <BlockState block={configuration.state} onChange={handleStateChange} />\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"radius\" value={configuration.radius} upChange={handleChange}>Radius</UniformInt>\n            <NumberInput id=\"half_height\" value={configuration.half_height} upChange={handleChange}>Half height</NumberInput>\n        </div>\n        <fieldset>\n            <legend>Targets</legend>\n            <BlocksList list={configuration.targets} onChange={handleTargetsChange} />\n        </fieldset>\n    </fieldset>\n}\n","import React from 'react';\nimport { NumberInput } from '../../../ui/Input';\n\nexport function ProbabilityFeature({ configuration, onChange }) {\n\n    return <fieldset>\n        <legend>Config</legend>\n        <div className=\"form-group\">\n            <NumberInput id=\"probability\" value={configuration.probability} max={1} step={0.01} upChange={onChange}>Probability</NumberInput>\n        </div>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\n\nexport function SingleStateFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (state) {\n        onChange({ state });\n    }, [onChange]);\n\n    return <fieldset>\n        <legend>Block state</legend>\n        <BlockState block={configuration.state} onChange={handleChange} />\n    </fieldset>\n}\n","import React, { useCallback, useMemo } from 'react';\nimport { useCrudPreset } from '../../../hooks/form';\nimport { TREE_DECORATORS_OPTIONS } from './FeatureConfigDefaults';\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\nimport { Button } from '../../../ui/Button';\nimport { NumberInput } from '../../../ui/Input';\nimport Select from '../../../ui/Select';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function TreeFeature({configuration, onChange}) {\n\n    const handleTrunkProviderChange = useCallback(function(trunk_provider) {\n        onChange({ ...configuration, trunk_provider });\n    }, [configuration, onChange]);\n    const handleLeavesProviderChange = useCallback(function(leaves_provider) {\n        onChange({ ...configuration, leaves_provider });\n    }, [configuration, onChange]);\n    const handleFoliagePlacerChange = useCallback(function(foliage_placer) {\n        onChange({ ...configuration, foliage_placer });\n    }, [configuration, onChange]);\n    const handleTrunkPlacerChange = useCallback(function(trunk_placer) {\n        onChange({ ...configuration, trunk_placer: { ...configuration.trunk_placer, ...trunk_placer } });\n    }, [configuration, onChange]);\n    const handleDecoratorsChange = useCallback(function(decorators) {\n        onChange({ ...configuration, decorators });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>Trunk provider</legend>\n            <BlockStateProvider block={configuration.trunk_provider} onChange={handleTrunkProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Leaves provider</legend>\n            <BlockStateProvider block={configuration.leaves_provider} onChange={handleLeavesProviderChange} />\n        </fieldset>\n        <FoliagePlacer placer={configuration.foliage_placer} onChange={handleFoliagePlacerChange} />\n        <TrunkPlacer placer={configuration.trunk_placer} onChange={handleTrunkPlacerChange} />\n        <TreeDecorators data={configuration.decorators} onChange={handleDecoratorsChange}></TreeDecorators>\n    </div>;\n}\n\nconst FoliagePlacer = React.memo(function({placer, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'acacia_foliage_placer', label: 'Acacia foliage placer' },\n            { value: 'blob_foliage_placer', label: 'Blob foliage placer' },\n            { value: 'bush_foliage_placer', label: 'Bush foliage placer' },\n            { value: 'dark_oak_foliage_placer', label: 'Dark oak foliage placer' },\n            { value: 'fancy_foliage_placer', label: 'Fancy foliage placer' },\n            { value: 'jungle_foliage_placer', label: 'Jungle foliage placer' },\n            { value: 'mega_pine_foliage_placer', label: 'Mega pine foliage placer' },\n            { value: 'pine_foliage_placer', label: 'Pine foliage placer' },\n            { value: 'spruce_foliage_placer', label: 'Spruce foliage placer' }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        const type = option.value;\n        if (type === 'minecraft:acacia_foliage_placer' || type === 'minecraft:mega_pine_foliage_placer') {\n            delete placer.height;\n        } else if (type !== 'minecraft:acacia_foliage_placer') {\n            delete placer.crown_height;\n        }\n        onChange({ ...placer, type });\n    }, [onChange, placer]);\n    const handleChange = useCallback(function(value) {\n        onChange({ ...placer, ...value })\n    }, [onChange, placer]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === placer.type) || options[0];\n    }, [options, placer.type]);\n\n    return <fieldset>\n        <legend>Foliage placer</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"foliage_placer_type\">Type</label>\n            <Select options={options} name=\"foliage_placer_type\" value={selected} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"radius\" value={placer.radius} maxBase={8} maxSpread={8} upChange={handleChange}>Radius</UniformInt>\n            <UniformInt id=\"offset\" value={placer.offset} maxBase={8} maxSpread={8} upChange={handleChange}>Offset</UniformInt>\n            {(placer.type === 'minecraft:blob_foliage_placer' ||\n                placer.type === 'minecraft:bush_foliage_placer' ||\n                placer.type === 'minecraft:fancy_foliage_placer' ||\n                placer.type === 'minecraft:jungle_foliage_placer'\n            ) && <NumberInput id=\"height\" value={placer.height} upChange={handleChange} max={16} defaultValue={3}>Height</NumberInput>}\n            \n            {placer.type === 'minecraft:mega_pine_foliage_placer' && <UniformInt id=\"crown_height\" value={placer.crown_height} maxBase={16} maxSpread={8} upChange={handleChange}>Crown height</UniformInt>}\n            {placer.type === 'minecraft:pine_foliage_placer' && <UniformInt id=\"height\" value={placer.height} maxBase={16} maxSpread={8} upChange={handleChange}>Height</UniformInt>}\n            {placer.type === 'minecraft:spruce_foliage_placer' && <UniformInt id=\"trunk_height\" value={placer.trunk_height} maxBase={16} maxSpread={8} upChange={handleChange}>Trunk height</UniformInt>}\n        </div>\n    </fieldset>\n});\n\nconst TrunkPlacer = React.memo(function({placer, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'straight_trunk_placer', label: 'Straight trunk placer' },\n            { value: 'forking_trunk_placer', label: 'Forking trunk placer' },\n            { value: 'giant_trunk_placer', label: 'Giant trunk placer' },\n            { value: 'mega_jungle_trunk_placer', label: 'Mega jungle trunk placer' },\n            { value: 'dark_oak_trunk_placer', label: 'Dark oak trunk placer' },\n            { value: 'fancy_trunk_placer', label: 'Fancy trunk placer' }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ type: option.value });\n    }, [onChange]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === placer.type) || options[0];\n    }, [placer.type, options]);\n\n    return <fieldset>\n        <legend>Trunk placer</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"foliage_placer_type\">Type</label>\n            <Select options={options} name=\"foliage_placer_type\" defaultValue={selected} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"base_height\" value={placer.base_height} upChange={onChange} max=\"32\">Base height</NumberInput>\n            <NumberInput id=\"height_rand_a\" value={placer.height_rand_a} upChange={onChange} max=\"24\">First height rand</NumberInput>\n            <NumberInput id=\"height_rand_b\" value={placer.height_rand_b} upChange={onChange} max=\"24\">Second height rand</NumberInput>\n        </div>\n    </fieldset>\n});\n\nconst TreeDecorators = React.memo(function({data, onChange}) {\n    const [decorators, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, data, function(decorators) {\n        // Get the first non taken decorator\n        return { type: (TREE_DECORATORS_OPTIONS.filter(o => !decorators.some(d => d.type === o.value))[0] || { value: 'minecraft:alter_ground' }).value };\n    });\n    \n    return <fieldset>\n        <legend>Tree decorators {decorators.length < 5 && <Button onClick={handleAdd}>Add decorator</Button>}</legend>\n        {decorators.map((decorator, i) => {\n            const options = TREE_DECORATORS_OPTIONS.filter(o => o.value === decorator.type || !decorators.some(d => d.type === o.value));\n            return <TreeDecorator data={decorator} key={decorator.type} onChange={handleChange} options={options}>\n                <Button cat=\"danger mlm\" onClick={e => handleRemove(e, i)}>Remove</Button>\n            </TreeDecorator>\n        })}\n    </fieldset>\n});\n\nconst TreeDecorator = React.memo(function({children, data, options, onChange}) {\n    const handleSelectChange = useCallback(function(option) {\n        onChange({ type: option.value, ...option.default }, data);\n    }, [data, onChange]);\n    const handleAlterGroundChange = useCallback(function(provider) {\n        onChange({ type: data.type, provider }, data);\n    }, [data, onChange]);\n    const handleProbabilityChange = useCallback(function(probability) {\n        onChange({ type: data.type, probability }, data);\n    }, [data, onChange]);\n\n    const CustomTag = ['minecraft:leave_vine', 'minecraft:trunk_vine'].indexOf(data.type) < 0 ? 'fieldset' : 'div';\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === data.type);\n    }, [data.type, options]);\n    return <CustomTag>\n        <legend style={{ fontWeight: 'normal', fontSize: 'inherit' }}>\n            <div style={{ width: '200px', display: 'inline-block' }}><Select options={options} value={selected} onChange={handleSelectChange} /></div>\n            {children}\n        </legend>\n        <div className=\"form-group\">\n            {data.type === 'minecraft:alter_ground' && <BlockStateProvider block={data.provider} onChange={handleAlterGroundChange} />}\n            {(data.type === 'minecraft:beehive' || data.type === 'minecraft:cocoa') && <NumberInput id=\"probability\" value={data.probability} onChange={handleProbabilityChange} max=\"1\" step=\"0.05\" defaultValue=\"0.05\">Probability</NumberInput>}\n        </div>\n    </CustomTag>\n});","import { DECORATED_BAMBOO_CONFIG, DECORATED_BLOCK_PILE_CONFIG, DECORATED_CHORUS_PLANT_CONFIG, DECORATED_DELTA_CONFIG, DECORATED_DESERT_WELL_CONFIG, DECORATED_DISK_CONFIG, DECORATED_FOREST_ROCK_CONFIG, DECORATED_FOSSIL_CONFIG, DECORATED_GLOWSTONE_BLOB_CONFIG, DECORATED_HUGE_FUNGUS_CONFIG, DECORATED_ICEBERG_CONFIG, DECORATED_ICE_PATCH_CONFIG, DECORATED_ICE_SPIKE_CONFIG, DECORATED_LAKE_CONFIG, DECORATED_NETHERRACK_REPLACE_BLOBS_CONFIG, DECORATED_ORE_FEATURE_CONFIG, DECORATED_RANDOM_PATCH_CONFIG, DECORATED_SEAGRASS_CONFIG, DECORATED_SPRING_FEATURE_CONFIG, DECORATED_TREE_CONFIG, DECORATED_VOID_START_PLATFORM_CONFIG, DECORATED_SIMPLE_BLOCK_CONFIG } from './DecoratedFeatureDefaults';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { buildDecorated, capitalize, findDecorators } from '../../utils/data';\nimport { BlockPileFeature } from './config/BlockPileFeature';\nimport { Button } from '../../ui/Button';\nimport { DecoratorsList } from './decorator/Decorator';\nimport { DeltaFeature } from './config/DeltaFeature';\nimport { DiskFeature } from './config/DiskFeature';\nimport { HugeFungusFeature } from './config/HugeFungusFeature';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { NetherrackReplaceBlobsFeature } from './config/NetherrackReplaceBlobsFeature';\nimport { OreFeature } from './config/OreFeature';\nimport { ProbabilityFeature } from './config/ProbabilityFeature';\nimport { RandomPatchFeature } from './config/RandomPatchFeature';\nimport Select from '../../ui/Select';\nimport { SimpleBlockFeature } from './config/SimpleBlockFeature';\nimport { SingleStateFeature } from './config/SingleStateFeature';\nimport { SpringFeature } from './config/SpringFeature';\nimport { TreeFeature } from './config/TreeFeature';\n\nconst FEATURES = [\n    { type: 'bamboo', default: DECORATED_BAMBOO_CONFIG, config: ProbabilityFeature },\n    { type: 'block_pile', default: DECORATED_BLOCK_PILE_CONFIG, config: BlockPileFeature },\n    { type: 'chorus_plant', default: DECORATED_CHORUS_PLANT_CONFIG },\n    { type: 'delta_feature', default: DECORATED_DELTA_CONFIG, config: DeltaFeature },\n    { type: 'desert_well', default: DECORATED_DESERT_WELL_CONFIG },\n    { type: 'disk', default: DECORATED_DISK_CONFIG, config: DiskFeature },\n    { type: 'forest_rock', default: DECORATED_FOREST_ROCK_CONFIG, config: SingleStateFeature },\n    { type: 'fossil', default: DECORATED_FOSSIL_CONFIG },\n    { type: 'glowstone_blob', default: DECORATED_GLOWSTONE_BLOB_CONFIG },\n    { type: 'huge_fungus', default: DECORATED_HUGE_FUNGUS_CONFIG, config: HugeFungusFeature },\n    { type: 'iceberg', default: DECORATED_ICEBERG_CONFIG, config: SingleStateFeature },\n    { type: 'ice_patch', default: DECORATED_ICE_PATCH_CONFIG, config: DiskFeature },\n    { type: 'ice_spike', default: DECORATED_ICE_SPIKE_CONFIG },\n    { type: 'lake', default: DECORATED_LAKE_CONFIG, config: SingleStateFeature },\n    { type: 'netherrack_replace_blobs', default: DECORATED_NETHERRACK_REPLACE_BLOBS_CONFIG, config: NetherrackReplaceBlobsFeature },\n    { type: 'ore', default: DECORATED_ORE_FEATURE_CONFIG, config: OreFeature },\n    { type: 'simple_block', default: DECORATED_SIMPLE_BLOCK_CONFIG, config: SimpleBlockFeature },\n    { type: 'seagrass', default: DECORATED_SEAGRASS_CONFIG, config: ProbabilityFeature },\n    { type: 'spring_feature', default: DECORATED_SPRING_FEATURE_CONFIG, config: SpringFeature },\n    { type: 'random_patch', default: DECORATED_RANDOM_PATCH_CONFIG, config: RandomPatchFeature },\n    { type: 'tree', default: DECORATED_TREE_CONFIG, config: TreeFeature },\n    { type: 'void_start_platform', default: DECORATED_VOID_START_PLATFORM_CONFIG }\n].map(feature => {\n    feature.type = 'minecraft:' + feature.type;\n    return feature;\n});\n\nconst OPTIONS = FEATURES\n    .map(feature => ({ value: feature.type, label: capitalize(feature.type.substr(10).replace(/_/g, ' ')) }));\n\nexport function RawConfiguredFeature({ data = DECORATED_TREE_CONFIG, onSave }) {\n\n    const [decorators_, feature_] = useMemo(() => findDecorators(data), [data]);\n\n    const [feature, setFeature] = useState(feature_);\n    const [decorators, setDecorators] = useState(decorators_);\n\n    const handleSelectChange = useCallback(function (option) {\n        const [decorators, feature] = findDecorators(FEATURES.find(feature => option.value === feature.type).default);\n        setFeature(feature);\n        setDecorators(decorators);\n    }, []);\n\n    const handleFeatureChange = useCallback(function (config) {\n        setFeature(feature => ({ ...feature, config }));\n    }, []);\n\n    const handleDecoratorsChange = useCallback(function (decorators) {\n        setDecorators(decorators);\n    }, []);\n\n    const handleVanillaSelect = useCallback(function (configured_feature) {\n        const [decorators, feature] = findDecorators(configured_feature);\n        setFeature(feature);\n        setDecorators(decorators);\n    }, []);\n\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        const decorated = buildDecorated(feature, decorators, new FormData(e.target).get('key'));\n        onSave(decorated);\n    }, [decorators, feature, onSave]);\n\n    const FeatureConfig = (FEATURES.find(f => feature.type === f.type) || { config: 'p' }).config || (() => <p className=\"text-muted\">No config options</p>);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"concrete_tree\" type=\"features\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={handleVanillaSelect}>\n            configured feature\n            <JsonViewer data={() => buildDecorated(feature, decorators, data.key || 'feature')} />\n        </NamespacedKey>\n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={OPTIONS} value={OPTIONS.find(o => o.value === feature.type)} onChange={handleSelectChange} inputId=\"type\" />\n        </div>\n        <hr />\n        <FeatureConfig configuration={feature.config} onChange={handleFeatureChange}>Currently not supported (<code>{feature.type}</code>).</FeatureConfig>\n        <DecoratorsList data={decorators} key={feature.type} onChange={handleDecoratorsChange} />\n        <Button type=\"submit\">Save</Button>\n    </form>\n}\n","import React, { useCallback } from 'react';\nimport { BLOCK_PILE_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\n\nexport function BlockPileFeature({ configuration = BLOCK_PILE_FEATURE_CONFIG, onChange }) {\n\n    const handleChange = useCallback(function (state_provider) {\n        onChange({ state_provider });\n    }, [onChange]);\n\n    return <fieldset>\n        <legend>Block state provider</legend>\n        <BlockStateProvider block={configuration.state_provider} onChange={handleChange} />\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function DeltaFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const handleContentsChange = useCallback(function (contents) {\n        onChange({ ...configuration, contents });\n    }, [configuration, onChange]);\n    const handleRimChange = useCallback(function (rim) {\n        onChange({ ...configuration, rim });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <BlockState block={configuration.contents} onChange={handleContentsChange} />\n        <BlockState block={configuration.rim} onChange={handleRimChange} />\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"size\" value={configuration.size} maxBase={8} maxSpread={8} upChange={handleChange}>Size</UniformInt>\n            <UniformInt id=\"rim_size\" value={configuration.rim_size} maxBase={8} maxSpread={8} upChange={handleChange}>Rim size</UniformInt>\n        </div>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { ConfInput } from '../../../ui/Input';\nimport { HUGE_FUNGUS_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport { useJsonEffect } from '../../../hooks/form';\n\nexport function HugeFungusFeature({ configuration = HUGE_FUNGUS_FEATURE_CONFIG, onChange }) {\n\n    const handleDecorStateChange = useCallback(function (decor_state) {\n        onChange({ ...configuration, decor_state });\n    }, [configuration, onChange]);\n    const handleHatStateChange = useCallback(function (hat_state) {\n        onChange({ ...configuration, hat_state });\n    }, [configuration, onChange]);\n    const handlePlantedChange = useCallback(function (e) {\n        const planted = e.target.checked;\n        onChange({ ...configuration, planted });\n    }, [configuration, onChange]);\n    const handleStemStateChange = useCallback(function (stem_state) {\n        onChange({ ...configuration, stem_state });\n    }, [configuration, onChange]);\n    const handleValidBaseBlockChange = useCallback(function (valid_base_block) {\n        onChange({ ...configuration, valid_base_block });\n    }, [configuration, onChange]);\n    useJsonEffect(configuration || HUGE_FUNGUS_FEATURE_CONFIG, configuration, onChange);\n\n    return <div>\n        <fieldset>\n            <legend>Composition</legend>\n            <label htmlFor=\"stem_state\">Stem</label>\n            <BlockState block={configuration.stem_state} className=\"\" inputId=\"stem_state\" onChange={handleStemStateChange} />\n            <label htmlFor=\"hat_state\">Hat</label>\n            <BlockState block={configuration.hat_state} className=\"\" inputId=\"hat_state\" onChange={handleHatStateChange} />\n            <label htmlFor=\"decor_state\">Decor</label>\n            <BlockState block={configuration.decor_state} className=\"\" inputId=\"decor_state\" onChange={handleDecorStateChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Configuration</legend>\n            <label htmlFor=\"valid_base_block\">Valid base block</label>\n            <BlockState block={configuration.valid_base_block} className=\"\" inputId=\"valid_base_block\" onChange={handleValidBaseBlockChange} />\n            <ConfInput id=\"planted\" checked={configuration.planted} onChange={handlePlantedChange}>Planted</ConfInput>\n        </fieldset>\n    </div>;\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { INT_MAX_VALUE } from '../../../utils/math';\nimport { NumberInput } from '../../../ui/Input';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function NetherrackReplaceBlobsFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const handleStateChange = useCallback(function (state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleTargetChange = useCallback(function (target) {\n        onChange({ ...configuration, target });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <BlockState block={configuration.state} onChange={handleStateChange} />\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"radius\" value={configuration.radius} maxBase={INT_MAX_VALUE} maxSpread={INT_MAX_VALUE} upChange={handleChange}>Radius</UniformInt>\n            <NumberInput id=\"half_height\" value={configuration.half_height} upChange={handleChange}>Half height</NumberInput>\n        </div>\n        <fieldset>\n            <legend>Target</legend>\n            <BlockState block={configuration.target} onChange={handleTargetChange} />\n        </fieldset>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockPredicate } from '../../state/BlockPredicate';\nimport { BlockState } from '../../state/BlockState';\nimport { NumberInput } from '../../../ui/Input';\n\nexport function OreFeature({configuration, onChange}) {\n    const handlePredicateChange = useCallback(function(target) {\n        onChange({ ...configuration, target });\n    }, [configuration, onChange]);\n    const handleBlockChange = useCallback(function(state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>Target</legend>\n            <BlockPredicate target={configuration.target} onChange={handlePredicateChange} />\n        </fieldset>\n        <fieldset>\n            <legend>State</legend>\n            <BlockState block={configuration.state} onChange={handleBlockChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <NumberInput id=\"size\" value={configuration.size} upChange={handleValueChange}>Size</NumberInput>\n        </fieldset>\n    </div>;\n}","import React, { useCallback } from 'react';\nimport { BlocksList, BlockState } from '../../state/BlockState';\n\nexport function SimpleBlockFeature({ configuration, onChange }) {\n\n    const handleToPlaceChange = useCallback(function (to_place) {\n        onChange({ ...configuration, to_place });\n    }, [configuration, onChange]);\n    const handlePlaceOnChange = useCallback(function (place_on) {\n        onChange({ ...configuration, place_on });\n    }, [configuration, onChange]);\n    const handlePlaceInChange = useCallback(function (place_in) {\n        onChange({ ...configuration, place_in });\n    }, [configuration, onChange]);\n    const handlePlaceUnderChange = useCallback(function (place_under) {\n        onChange({ ...configuration, place_under });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>To place</legend>\n            <BlockState block={configuration.to_place} className=\"\" inputId=\"to_place\" onChange={handleToPlaceChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Placement</legend>\n            <fieldset>\n                <legend>Place on</legend>\n                <BlocksList list={configuration.place_on} className=\"\" inputId=\"place_on\" onChange={handlePlaceOnChange} />\n            </fieldset>\n            <fieldset>\n                <legend>Place in</legend>\n                <BlocksList list={configuration.place_in} className=\"\" inputId=\"place_in\" onChange={handlePlaceInChange} />\n            </fieldset>\n            <fieldset>\n                <legend>Place under</legend>\n                <BlocksList list={configuration.place_under} className=\"\" inputId=\"place_under\" onChange={handlePlaceUnderChange} />\n            </fieldset>\n        </fieldset>\n    </div>\n}\n","import React, { useCallback, useMemo } from 'react';\nimport { ConfInput, NumberInput } from '../../../ui/Input';\nimport { useBlocksOptions } from '../../../hooks/form';\nimport { BlockSelect } from '../../state/BlockPredicate';\nimport { BlocksNamesList } from '../../state/BlockState';\nimport { HUGE_FUNGUS_FEATURE_CONFIG } from './FeatureConfigDefaults';\n\nexport function SpringFeature({ configuration = HUGE_FUNGUS_FEATURE_CONFIG, onChange }) {\n\n    const handlRequiresBlockBelowChange = useCallback(function (e) {\n        const requires_block_below = e.target.checked;\n        onChange(({ ...configuration, requires_block_below }));\n    }, [configuration, onChange]);\n    const handleStateChange = useCallback(function (option) {\n        onChange({ ...configuration, state: { Name: option.value, Properties: { falling: 'true' } } });\n    }, [configuration, onChange]);\n    const handleValidBlocksChange = useCallback(function (valid_blocks) {\n        onChange({ ...configuration, valid_blocks });\n    }, [configuration, onChange]);\n    const handleValueChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n\n    const blocks = useBlocksOptions(false);\n    const filteredBlocks = useMemo(function () {\n        return blocks.filter(b => b.name === 'lava' || b.name === 'water')\n            .map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n    }, [blocks]);\n\n    return <div>\n        <fieldset>\n            <legend>Fluid</legend>\n            <div className=\"form-group\"><BlockSelect block={configuration.state.Name} onChange={handleStateChange} options={filteredBlocks} /></div>\n        </fieldset>\n        <fieldset>\n            <legend>Valid blocks</legend>\n            <BlocksNamesList list={configuration.valid_blocks} onChange={handleValidBlocksChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Configuration</legend>\n            <div className=\"form-row\">\n                <NumberInput id=\"rock_count\" value={configuration.rock_count} upChange={handleValueChange}>Rock count</NumberInput>\n                <NumberInput id=\"hole_count\" value={configuration.hole_count} upChange={handleValueChange}>Hole count</NumberInput>\n                <ConfInput id=\"requires_block_below\" checked={configuration.requires_block_below} onChange={handlRequiresBlockBelowChange}>Requires block below</ConfInput>\n            </div>\n        </fieldset>\n    </div>\n}\n","import React, { useCallback } from 'react';\nimport { ConfInput, NumberInput } from '../../../ui/Input';\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\nimport { BlocksList } from '../../state/BlockState';\nimport { RANDOM_PATCH_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport { useJsonEffect } from '../../../hooks/form';\n\nexport function RandomPatchFeature({ configuration, onChange }) {\n\n    const config = useJsonEffect(configuration || RANDOM_PATCH_FEATURE_CONFIG, configuration, onChange);\n    const handleStateProviderChange = useCallback(function (state_provider) {\n        onChange({ ...config, state_provider });\n    }, [config, onChange]);\n    const handleWhitelistChange = useCallback(function (whitelist) {\n        onChange({ ...config, whitelist });\n    }, [config, onChange]);\n    const handleBlacklistChange = useCallback(function (blacklist) {\n        onChange({ ...config, blacklist });\n    }, [config, onChange]);\n    const handleValueChange = useCallback(function (value) {\n        onChange({ ...config, ...value });\n    }, [config, onChange]);\n    const handleCheckboxChange = useCallback(function (e) {\n        onChange({ ...config, [e.target.dataset.name]: e.target.checked });\n    }, [config, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>State provider</legend>\n            <BlockStateProvider block={config.state_provider} onChange={handleStateProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Whitelist</legend>\n            <BlocksList list={config.whitelist} onChange={handleWhitelistChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Blacklist</legend>\n            <BlocksList list={config.blacklist} onChange={handleBlacklistChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"xspread\" value={config.xspread} upChange={handleValueChange}>X spread</NumberInput>\n                <NumberInput id=\"yspread\" value={config.yspread} upChange={handleValueChange}>Y spread</NumberInput>\n                <NumberInput id=\"zspread\" value={config.zspread} upChange={handleValueChange}>Z spread</NumberInput>\n                <NumberInput id=\"tries\" value={config.tries} upChange={handleValueChange}>Tries</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"need_water\" checked={config.need_water} onChange={handleCheckboxChange}>Need water</ConfInput>\n                <ConfInput id=\"project\" checked={config.project} onChange={handleCheckboxChange}>Project</ConfInput>\n                <ConfInput id=\"can_replace\" checked={config.can_replace} onChange={handleCheckboxChange}>Can replace</ConfInput>\n            </div>\n        </fieldset>\n    </div>;\n}","import JSZip from \"jszip\";\nimport { saveAs } from \"file-saver\";\nimport { dataUpper } from \"./data\";\nimport { PATHS } from \"../context/Paths\";\n\nconst DIMENSIONS_PATH = /^data\\/([a-z0-9_.-]+)\\/(dimension|dimension_type)\\/([a-z0-9/._-]+).json$/;\nconst WORLDGEN_PATH = /^data\\/([a-z0-9_.-]+)\\/worldgen\\/(biome|configured_carver|configured_feature|configured_surface_builder|noise_settings)\\/([a-z0-9/._-]+).json$/;\n\nconst LEGACY_DIMENSIONS_PATH = /^data\\/minecraft\\/(dimension|dimension_type)\\/([a-z0-9_.-]+)\\/([a-z0-9/._-]+).json$/;\nconst LEGACY_WORLDGEN_PATH = /^data\\/minecraft\\/worldgen\\/(biome|configured_carver|configured_feature|configured_surface_builder|noise_settings)\\/([a-z0-9_.-]+)\\/([a-z0-9/._-]+).json$/;\n\n/**\n * Build zip in blob.\n * \n * @param {object} custom \n */\nexport function buildZip(custom) {\n    const zip = new JSZip();\n\n    let modified;\n    if (custom.dimensions.length > 0) {\n        modified = 'dimension';\n    } else if (custom.biomes.length > 0) {\n        modified = 'biome';\n    } else {\n        modified = (Object.entries(custom).find(([type, elements]) => typeof elements !== 'function' && elements.length > 0) || [''])[0];\n    }\n    \n    zip.file('pack.mcmeta', JSON.stringify({\n        pack: {\n            pack_format: 6,\n            description: 'Custom ' + modified\n        }\n    }, null, 4));\n    Object.entries(PATHS).forEach(([type, path]) => writeFile(zip, path, custom[type]));\n    zip.generateAsync({ type: 'blob' })\n        .then(function(content) {\n            saveAs(content, 'generated_datapack.zip');\n        });\n}\n\n/**\n * @param {File} file\n * @returns {Promise<[string, { biomes: object[], dimensions: object[], features: object[], surfaces: object[] }]>}\n */\nexport function readZip(file) {\n    return new Promise((resolve, reject) => {\n        if (!['application/zip', 'application/octet-stream', 'application/x-zip-compressed', 'multipart/x-zip'].includes(file.type)) {\n             reject(new Error(`File is not a .zip. Got: ${file.type}`));\n        }\n\n        JSZip.loadAsync(file).then((zip) => {\n            extractDatapack(zip)\n                .then(resolve)\n                .catch(reject);\n        }).catch(reject);\n    });\n}\n\n/**\n * @param {JSZip} zip \n * @returns {Promise<string, object>}\n */\nasync function extractDatapack(zip) {\n    let namespace = 'minecraft';\n    const data = {\n        biomes: [],\n        carvers: [],\n        dimensions: [],\n        dimension_types: [],\n        features: [],\n        noises: [],\n        surfaces: []\n    };\n\n    const pack = zip.file('pack.mcmeta');\n    if (pack === null) {\n        throw new Error('Invalid datapack: no pack.mcmeta');\n    }\n    let legacy = false;\n    try {\n        const mcmeta = JSON.parse(await pack.async('text'));\n        legacy = mcmeta.pack.pack_format < 6;\n    } catch (e) {\n        throw new Error(`Error reading pack.mcmeta file: ${e.message}`);\n    }\n    \n\n    return new Promise((resolve, reject) => {\n        const promises = [];\n        zip.forEach(function(path, entry) {\n            if (entry.dir) {\n                return;\n            }\n            const paths = legacy ? [LEGACY_DIMENSIONS_PATH, LEGACY_WORLDGEN_PATH] : [DIMENSIONS_PATH, WORLDGEN_PATH];\n            const regex = paths.find(path => entry.name.match(path)) || WORLDGEN_PATH;\n            promises.push(parseFile(legacy, regex, entry.name, zip.file(entry.name).async('text')));\n        });\n\n        Promise.all(promises).then(function(values) {\n            values.forEach(function(value) {\n                if (value === null) {\n                    return;\n                }\n\n                if (value.namespace !== 'minecraft') {\n                    namespace = value.namespace;\n                }\n                data[value.type].push(value.data);\n            });\n            resolve([namespace, data]);\n        }).catch(e => reject(e));\n    });\n}\n\nfunction getFolderType(folder) {\n    switch (folder) {\n        case 'configured_carver':\n            return 'carvers';\n        case 'configured_feature':\n            return 'features';\n        case 'configured_surface_builder':\n            return 'surfaces';\n        case 'noise_settings':\n            return 'noises';\n        default:\n            return folder + 's';\n    }\n}\n\n/**\n * Parse json file when it will be ready.\n * \n * @param {boolean} legacy\n * @param {RegExp} pathRegex \n * @param {string} filename \n * @param {Promise<string>} contentPromise \n * @returns {Promise<{namespace: string, data: object, type: string}>}\n */\nasync function parseFile(legacy, pathRegex, filename, contentPromise) {\n    const d = pathRegex.exec(filename);\n    if (d === null) {\n        return new Promise((success) => success(null)); // Skip file\n    }\n\n    return new Promise((resolve, reject) => {\n        contentPromise.then(content => {\n            const obj = JSON.parse(content);\n            const namespace = d[legacy ? 2 : 1];\n            const type = getFolderType(d[legacy ? 1 : 2]);\n            obj.key = namespace + ':' + d[3];\n            const data = dataUpper(type, obj);\n            resolve({ namespace, data, type });\n        }).catch(e => {\n            if (e.name !== 'SyntaxError') {\n                console.error(e);\n            }\n            reject(new Error(`Cannot read ${filename}:\\n${e.message}`));\n        });\n    });\n}\n\nfunction writeFile(zip, path, elements) {\n    if (elements.length < 1) {\n        return;\n    }\n\n    for (const el of elements) {\n        const w = {...el};\n        delete w.key;\n        delete w.index;\n\n        const [namespace, filename] = el.key.split(':');\n        zip.folder(path.replace('%namespace%', namespace))\n            .file(filename + '.json', JSON.stringify(w, null, 2));\n    }\n}\n","import React, { useCallback, useState } from 'react';\nimport { BlockState } from '../state/BlockState';\nimport { Button } from '../../ui/Button';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport Select from '../../ui/Select';\nimport { SURFACE_BUILDER, SURFACE_TYPES_OPTIONS } from './SurfaceBuilderDefaults';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport function SurfaceBuilder({data = SURFACE_BUILDER, onSave}) {\n    const [state, setState] = useState(data);\n\n    const handleTypeChange = useCallback(function(option) {\n        setState(state => ({ ...state, type: option.value }));\n    }, []);\n    const handleTopMaterialChange = useCallback(function(top_material) {\n        setState(state => ({ ...state, config: { ...state.config, top_material } }));\n    }, []);\n    const handleUnderMaterialChange = useCallback(function(under_material) {\n        setState(state => ({ ...state, config: { ...state.config, under_material } }));\n    }, []);\n    const handleUnderwaterMaterialChange = useCallback(function(underwater_material) {\n        setState(state => ({ ...state, config: { ...state.config, underwater_material } }));\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        onSave({\n            ...state,\n            key: formData.get('key')\n        });\n    }, [onSave, state]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"blackstone\" type=\"surfaces\" value={state.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setState}>\n            surface builder\n            <JsonViewer data={state} />\n        </NamespacedKey>\n        \n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={SURFACE_TYPES_OPTIONS} value={SURFACE_TYPES_OPTIONS.find(o => o.value === state.type)} onChange={handleTypeChange} inputId=\"type\" />\n            <p className=\"help2\"><small className=\"text-muted\">The builder type defines the shape of the surface. For example, the <em>swamp</em> type will create puddles while the <em>badlands</em> types will create small rocky peaks; the <em>nether</em> types will add a mix of nether blocks and expose more of the underneath material.</small></p>\n        </div>\n        \n        <label htmlFor=\"top_material\">Top material</label>\n        <BlockState block={state.config.top_material} className=\"\" inputId=\"top_material\" onChange={handleTopMaterialChange} />\n        <label htmlFor=\"under_material\">Under material</label>\n        <BlockState block={state.config.under_material} className=\"\" inputId=\"under_material\" onChange={handleUnderMaterialChange} />\n        <label htmlFor=\"underwater_material\">Underwater material</label>\n        <BlockState block={state.config.underwater_material} className=\"\" inputId=\"underwater_material\" onChange={handleUnderwaterMaterialChange} />\n\n        <Button type=\"submit\">Save</Button>\n    </form>;\n}","import React, { useContext, useEffect } from 'react';\nimport { Biome } from './biome/Biome';\nimport { Button } from './../ui/Button';\nimport { MenuItem, NavBar } from './../ui/Menu';\nimport { Dimension } from './dimension/Dimension';\nimport { DimensionTypeForm } from './dimension/DimensionType';\nimport { DataContext } from './../context/DataContext';\nimport { RawConfiguredFeature } from './feature/ConfiguredFeature';\nimport { capitalize } from '../utils/data';\nimport { buildZip } from '../utils/zip';\nimport { SurfaceBuilder } from './surface/SurfaceBuilder';\nimport { NoiseSettings } from './noise/NoiseSettings';\nimport { displayNamespacedKey } from '../utils/data';\nimport { useMenu } from '../hooks/ui';\nimport { ConfiguredCarverForm } from './carver/ConfiguredCarver';\nimport Masonry from 'masonry-layout';\n\nexport function Datapack() {\n    const context = useContext(DataContext);\n    const custom = context.custom;\n    const namespace = context.namespace;\n    const [page, index, setMenu] = useMenu();\n\n    const handleSave = function (type, data) {\n        const method = 'update' + function () {\n            switch (type) {\n                case 'surface':\n                    return 'SurfacesBuilders';\n                case 'dimension_type':\n                    return 'DimensionTypes';\n                default:\n                    return capitalize(type) + 's';\n            }\n        }();\n        custom[method](data, custom[type + 's'][index]);\n        setMenu(null);\n    }\n    const handleGenerateClick = function(e) {\n        e.preventDefault();\n        buildZip(custom);\n    }\n    window.scrollTo(0, 0);\n\n    const mayGenerate = Object.values(custom).some(content => {\n        if (Array.isArray(content)) {\n            return content.length;\n        }\n        return false;\n    });\n\n    return <div>\n        <NavBar>\n            <nav className=\"tabs\"><ul>\n                <MenuItem onClick={e => setMenu(e, 'main')} active={page === 'main'}>Main</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'biome')} active={page === 'biome'}>Biome</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'surface')} active={page === 'surface'}>Surface builder</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'feature')} active={page === 'feature'}>Feature</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'dimension')} active={page === 'dimension'}>Dimension</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'noise')} active={page === 'noise'}>Noise</MenuItem>\n            </ul></nav>\n        </NavBar>\n        <div className=\"content\">\n            {page === 'biome' && <Biome onSave={biome => handleSave('biome', biome)} data={custom.biomes[index]} />}\n            {page === 'carver' && <ConfiguredCarverForm onSave={carver => handleSave('carver', carver)} data={custom.carvers[index]} />}\n            {page === 'surface' && <SurfaceBuilder onSave={surface => handleSave('surface', surface)} data={custom.surfaces[index]} />}\n            {page === 'feature' && <RawConfiguredFeature onSave={feature => handleSave('feature', feature)} data={custom.features[index]} />}\n            {page === 'noise' && <NoiseSettings onSave={noise => handleSave('noise', noise)} data={custom.noises[index]} />}\n            {page === 'dimension' && <Dimension onSave={dimension => handleSave('dimension', dimension)} data={custom.dimensions[index]} />}\n            {page === 'dimension_type' && <DimensionTypeForm onSave={dimension => handleSave('dimension_type', dimension)} data={custom.dimension_types[index]} />}\n            {page === 'main' && <>\n                <h2>Datapack {namespace} <Button type=\"submit\" onClick={handleGenerateClick} disabled={!mayGenerate}>Generate</Button></h2>\n                <Main custom={custom} namespace={namespace} onSave={handleSave} setPage={setMenu} />\n            </>}\n        </div>\n    </div>\n}\n\nfunction Main({custom, namespace, onSave, setPage}) {\n\n    useEffect(() => {\n        new Masonry( '.stats', {\n        itemSelector: '.card',\n        gutter: 15\n      });\n    }, []);\n\n    return <div className=\"stats\">\n        <StatsTitle type=\"feature\" namespace={namespace} onClick={setPage} onDelete={onSave}>configured feature</StatsTitle>\n        <StatsTitle type=\"biome\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom biome</StatsTitle>\n        <StatsTitle type=\"surface\" namespace={namespace} onClick={setPage} onDelete={onSave}>configured surface builder</StatsTitle>\n        \n        <StatsTitle type=\"dimension\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom dimension</StatsTitle>\n        <StatsTitle type=\"noise\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom noise</StatsTitle>\n        <StatsTitle type=\"dimension_type\" namespace={namespace} onClick={setPage} onDelete={onSave} invisible={true}>custom dimension type</StatsTitle>\n        \n        <StatsTitle type=\"carver\" namespace={namespace} onClick={setPage} onDelete={onSave} invisible={true}>custom carver</StatsTitle>\n        <div>\n        </div>\n    </div>\n}\n\nfunction StatsTitle({ children, type, invisible = false, namespace, onClick, onDelete }) {\n    const data = useContext(DataContext).custom[type + 's'];\n    if (invisible && data.length < 1) {\n        return <></>\n    }\n\n    const handleRemove = function (e, data) {\n        e.preventDefault();\n        if (window.confirm('Do you really want to remove this resource?')) {\n            delete data.key;\n            onDelete(type, data);\n        }\n    };\n\n    return <div className=\"card\">\n        <h5><strong>{data.length}</strong> {children}{data.length > 1 && 's'}</h5>\n        <ul>\n            {data.map((d, i) => {\n                const name = displayNamespacedKey(d.key, namespace);\n                return <li key={i}><a href=\"#remove\" onClick={e => handleRemove(e, d)}><i className=\"delete\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/></svg></i></a><a href=\"#edit\" onClick={e => onClick(e, type, i)}>{name}</a></li>\n            })}\n        </ul>\n    </div>\n}","import React, { useState } from 'react';\nimport { Button } from '../ui/Button';\nimport { readZip } from '../utils/zip';\nimport { NavBar } from '../ui/Menu';\n\nexport function DatapackForm({onCreate}) {\n\n    const [error, setError] = useState(null);\n\n    const handleCreate = function(e) {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const namespace = data.get('namespace');\n        onCreate([namespace, undefined]);\n    };\n\n    const handleFile = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const file = (e.dataTransfer || e.target).files[0];\n        readZip(file)\n            .then(onCreate)\n            .catch(error => {\n                console.error(error);\n                setError(error.message);\n            });\n    };\n    const handleDrag = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n    window.scrollTo(0, 0);\n\n    return <div className=\"first-screen\" onDragStart={handleDrag} onDragEnter={handleDrag} onDragOver={handleDrag} onDrop={handleFile}>\n        <NavBar>\n            <h2>Dimension datapack generator</h2>\n        </NavBar>\n        <form className=\"content\" onSubmit={handleCreate}>\n            <div className=\"form-control\">\n                <div className=\"mbm\">\n                    <h3>What's this?</h3>\n                    <p className=\"mbm\" style={{ fontSize: '0.95rem' }}>\n                        This online generator under development allows you to create world generation datapacks for Minecraft 1.16.2. You'll be able to create your own biomes or edit existing ones, custom trees, change the amplitude of the terrain, mix generated blocks and more in the following menus. To continue, choose your datapack identifier.\n                    </p>\n                    <hr />\n                </div>\n                <label htmlFor=\"namespace\">Default namespace</label><br />\n                <input type=\"text\" name=\"namespace\" id=\"namespace\" required pattern=\"[a-z0-9._-]+\" autoCapitalize=\"none\" spellCheck=\"false\" autoComplete=\"off\" aria-describedby=\"namespaceHelp\" />\n                <p className=\"help2\"><small id=\"namespaceHelp\" className=\"form-text text-muted\">This differentiates the datapack from the vanilla functions. Namespaces and identifiers may only contain letters, numbers and <code>._-</code> characters. This namespace is not final, you can edit the vanilla dimensions in the following menus.</small></p>\n                <div className=\"actions\">\n                    <Button type=\"submit\">Create</Button>\n                    <input type=\"file\" name=\"load-existing-zip\" id=\"load-existing-zip\" accept=\".zip\" onChange={handleFile} tabIndex=\"0\" /><label htmlFor=\"load-existing-zip\" className=\"btn--info\">Use existing datapack</label>\n                </div>\n                <div className=\"mtm\">\n                    {error !== null && <div className=\"alert--danger\">{error}</div>}\n                    <p className=\"alert--warning\">\n                        This generator is currently built for 1.16.2. As it is a beta, you might expect a few bugs.\n                    </p>\n                </div>\n            </div>\n        </form>\n    </div>\n}\n","import React, { useState } from 'react';\nimport './styles/App.scss';\nimport { Datapack } from './components/Datapack';\nimport { DataContextProvider } from './context/DataContext';\nimport { DatapackForm } from './components/DatapackForm';\n\nfunction App() {\n    const [data, setData] = useState(null);\n\n    return <>\n        {data !== null ?\n            <DataContextProvider namespace={data[0]} initial={data[1]}>\n                <Datapack />\n            </DataContextProvider>\n            :\n            <DatapackForm onCreate={setData} />\n        }\n    </>\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nwindow.addEventListener('load', () => {\n    document.body.classList.remove('preload');\n});\n\nReactDOM.render(\n    <App />\n,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}