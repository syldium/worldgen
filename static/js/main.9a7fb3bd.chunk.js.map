{"version":3,"sources":["components/biome/BiomeDefaults.js","utils/fetch.js","components/feature/FeatureDefaults.js","components/surface/SurfaceBuilderDefaults.js","components/noise/NoiseDefaults.js","components/dimension/DimensionDefaults.js","context/DataContext.jsx","utils/data.js","hooks/context.js","hooks/form.js","components/biome/BiomeStarts.jsx","ui/Button.jsx","hooks/ui.js","components/NamespacedKey.jsx","utils/color.js","ui/Input.jsx","components/biome/BiomeSpawners.jsx","components/biome/Features.jsx","components/state/BlockState.jsx","components/biome/BiomeEffects.jsx","components/biome/Biome.jsx","ui/Menu.jsx","components/dimension/DimensionType.jsx","ui/NumberList.jsx","components/dimension/BiomeSource.jsx","components/dimension/DimensionGenerator.jsx","utils/hash.js","components/dimension/Dimension.jsx","components/state/BlockStateProvider.jsx","components/feature/TreeFeature.jsx","components/feature/Decorator.jsx","components/feature/RandomPatchFeature.jsx","components/state/BlockPredicate.jsx","components/feature/OreFeature.jsx","components/feature/ConfiguredFeature.jsx","utils/zip.js","components/surface/SurfaceBuilder.jsx","components/noise/Structures.jsx","components/noise/NoiseSettings.jsx","components/Datapack.jsx","components/DatapackForm.jsx","App.js","serviceWorker.js","index.js"],"names":["EFFECTS","mood_sound","sound","tick_delay","block_search_extent","offset","sky_color","fog_color","water_color","water_fog_color","FEATURES","STARTS","SPAWNERS_DEFAULTS","ambient","type","weight","minCount","maxCount","creature","misc","monster","water_ambient","water_creature","PARTICLES","map","particle","value","label","PARTICLE_DEFAULTS","options","probability","jsonFetch","url","a","fetch","headers","Accept","response","json","responseData","ok","VANILLA_FEATURES","TAGS_OPTIONS","tag","DECORATORS_OPTIONS","o","TREE_DECORATORS_OPTIONS","default","ORE_FEATURE_CONFIG","target","predicate_type","state","Name","size","DECORATED_ORE_FEATURE_CONFIG","config","feature","decorator","bottom_offset","top_offset","maximum","count","TREE_FEATURE_CONFIG","heightmap","minimum_size","limit","lower_size","upper_size","decorators","trunk_provider","Properties","axis","leaves_provider","persistent","distance","foliage_placer","radius","height","trunk_placer","base_height","height_rand_a","height_rand_b","RANDOM_PATCH_FEATURE_CONFIG","can_replace","project","need_water","xspread","yspread","zspread","whitelist","snowy","blacklist","tries","state_provider","block_placer","DECORATED_RANDOM_PATCH_CONFIG","outer","inner","chance","DECORATED_TREE_CONFIG","extra_chance","extra_count","DECORATOR_EXTRA_COUNT_DEFAULTS","DECORATOR_DECORATED_DEFAULTS","DECORATOR_RANGE_DEFAULTS","VANILLA_SURFACE_BUILDERS","option","SURFACE_TYPES_OPTIONS","SURFACE_BUILDER","top_material","under_material","underwater_material","VANILLA_NOISES","STRUCTURES","OVERWORLD_NOISE","bedrock_roof_position","bedrock_floor_position","sea_level","disable_mob_generation","structures","stronghold","spread","spacing","separation","salt","noise","sampling","xz_scale","y_scale","xz_factor","y_factor","top_slide","bottom_slide","size_horizontal","size_vertical","density_factor","density_offset","simplex_surface_noise","random_density_offset","island_noise_override","amplified","default_block","default_fluid","level","DIMENSION","generator","seed","biome_source","biome","settings","VANILLA_DIMENSION_TYPES","NOISES_NAMES","MULTI_NOISE_BIOME_SOURCE","temperature_noise","firstOctave","amplitudes","humidity_noise","altitude_noise","weirdness_noise","biomes","DataContext","React","createContext","vanilla","blocks","dimensions","dimension_types","entities","features","noises","surfaces","custom","updateBiomes","updateDimensions","dimension","updateDimensionTypes","dimension_type","updateFeatures","updateNoises","updateSurfacesBuilders","surface_builder","namespace","DataContextProvider","children","initial","useState","setBiomes","setBlocks","setEntities","useData","customBiomes","useEffect","then","entity","name","displayName","Provider","filter","includes","objectsEqual","b","Object","keys","length","every","p","displayNamespacedKey","key","defaultNamespace","startsWith","split","findDecorators","f","find","obj","unshift","hasOwnProperty","buildDecorated","decorated","current","forEach","i","dataUpper","group","data","effects","refitKeys","build","destKey","source","some","n","setData","updateData","object","stored","existing","findIndex","index","push","useKeyedListOptions","category","includeCustom","empty","context","useContext","useMemo","keyed","struct","crudReducer","action","ADD","payload","UPDATE","arrayMove","Error","element","REMOVE","useCrud","useReducer","useCrudPreset","dispatch","add","useCallback","e","preventDefault","CRUD","update","previous","oldIndex","newIndex","remove","useBlocksOptions","mapped","block","useValueChange","changeCallback","isNaN","parseFloat","dataset","id","checked","useJsonEffect","props","onChange","JSON","stringify","useKeyedOptionsState","multiple","Array","isArray","selection","setSelection","setSelectionFromOptions","selected","BiomeStarts","starts","handleChange","selectedOptions","className","htmlFor","isMulti","defaultValue","Button","loading","cat","buttonProps","useToggle","status","setState","toggle","NamespacedKey","example","expectBreakage","mayReplaceVanilla","hidden","useRef","setKey","replace","handleKeyChange","toLowerCase","handleReplaceTargetChange","handleKeyDown","form","dispatchEvent","Event","cancelable","handleToggle","inputValue","hiddenInputValue","style","width","Math","max","apply","dummyOnChange","console","log","required","pattern","placeholder","autoCapitalize","spellCheck","autoComplete","onKeyPress","ref","tabIndex","opacity","position","onClick","hexColorToInteger","color","parseInt","ConfInput","memo","attr","defaultChecked","min","step","uId","random","toString","substr","data-name","NumberInput","upChange","padStart","parse","BiomeSpawners","spawners","groupSpawners","SpawnGroup","visibility","text","s","insert","handleRemove","handleAdd","spawner","SpawnDefinition","onDelete","handleTypeChange","handleValueChange","handleCountChange","handleDelete","selectedOption","GenFeatures","levels","setLevels","handleLevelChange","priority","list","elements","GenFeaturesLevel","BlockState","states","properties","actual","values","getStateValue","handlePropertiesChange","flexGrow","BlockStateProperties","BlocksList","handleStateChange","filteredOptions","d","handlePropertyChange","handleCheckboxChange","selects","possible","num_values","BiomeEffects","colors","setColors","blockColor","toggleBlockColor","toggleParticle","handleColorChange","handleParticleChange","next","foliage_color","grass_color","ParticleEffect","handleBlockChange","handleScaleChange","scale","handleProbabilityChange","flexShrink","op","DustColor","r","g","undefined","Biome","onSave","handleStartsChange","handleEffectsChange","handleFeaturesChange","handleSpawnersChange","handleSubmit","formData","fromEntries","FormData","spawn_costs","carvers","air","onSubmit","BiomeCategory","BiomePrecipitation","precipitation","SurfaceBuilder","downfall","depth","temperature","MenuItem","active","href","DimensionType","NumberList","numbers","val","pos","number","BiomeSource","setSource","handleSeedChange","handleCheckerboardSourceChange","handleFixedSourceChange","handleMultiSourceChange","SeedField","CheckerboardBiomeSource","FixedBiomeSource","MultiNoiseBiomeSource","setNumber","useNumber","setScale","isClearable","setBiome","advanced","toggleAdvanced","handleNoiseChange","handleAddClick","parameters","altitude","weirdness","humidity","handleDeleteClick","entry","BiomeSelection","biomesOptions","alignItems","PerlinNoiseParameters","str","toUpperCase","objects","hasDuplicatedObjects","handleFirstOctaveChange","handleAmplitudesChange","handleBiomeChange","rainfall","handleParameterChange","DimensionGenerator","handleSettingsChange","handleBiomeSourceChange","Settings","setText","hash","imul","charCodeAt","hashCode","Dimension","handleGeneratorChange","get","BlockStateProvider","provider","setProvider","similarities","handleSimpleStateChange","handleWeighestStateChange","entries","filteredBlocks","WeightedStateProvider","handleWeightChange","TreeFeatureConfig","configuration","setConfig","handleTrunkProviderChange","handleLeavesProviderChange","handleFoliagePlacerChange","handleTrunkPlacerChange","handleDecoratorsChange","FoliagePlacer","placer","TrunkPlacer","TreeDecorators","TreeDecorator","setDecorator","handleSelectChange","handleAlterGroundChange","CustomTag","indexOf","fontWeight","fontSize","display","DecoratorsList","shouldCancelStart","parentNode","classList","contains","SortableDecoratorsList","onSortEnd","SortableContainer","Decorator","SortableElement","handleConfigChange","ChanceDecorator","CountDecorator","ExtraCountDecorator","DecoratedDecorator","RangeDecorator","RandomPatchFeature","handleStateProviderChange","handleWhitelistChange","handleBlacklistChange","BlockPredicate","predicate","setPredicate","handleBlockStateChange","block_state","handleTagChange","content","BlockSelect","RandomBlockMatch","t","OreFeatureConfig","handlePredicateChange","RawConfiguredFeature","decorators_","feature_","setFeature","setDecorators","handleFeatureChange","DIMENSIONS_PATH","WORLDGEN_PATH","LEGACY_PATH_DETECTION","LEGACY_DIMENSIONS_PATH","LEGACY_WORLDGEN_PATH","readZip","file","Promise","resolve","reject","JSZip","loadAsync","zip","mcmeta","promises","path","dir","legacy","match","regex","parseFile","async","all","catch","extractDatapack","getFolderType","folder","pathRegex","filename","contentPromise","exec","success","error","message","writeFile","el","w","handleTopMaterialChange","handleUnderMaterialChange","handleUnderwaterMaterialChange","Structures","handleStrongholdChange","handleStructuresChange","Stronghold","StructuresList","enabled","setStronghold","original","structure","def","Structure","handleSpacingChange","handleSaltChange","NoiseSettings","NoiseConfig","handleSamplingChange","handleTopSlideChange","handleBottomSlideChange","NoiseSamplingConfig","SlideConfig","Datapack","page","menu","setMenu","handleStatsClick","handleAddBiomeClick","handleAddDimensionClick","handleAddFeatureClick","handleAddNoiseClick","handleAddSurfaceBuilderClick","onBiomeSave","onDimensionSave","onFeatureSave","onNoiseSave","onSurfaceBuilderSave","editBiome","editDimension","editFeature","editNoise","editSurface","Stats","mayGenerate","StatsTitle","pack","pack_format","description","generateAsync","saveAs","buildZip","DatapackForm","onCreate","setError","handleFile","stopPropagation","dataTransfer","files","handleDrag","onDragStart","onDragEnter","onDragOver","onDrop","aria-describedby","accept","App","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yQAAaA,EAAU,CACnBC,WAAY,CACRC,MAAO,yBACPC,WAAY,IACZC,oBAAqB,EACrBC,OAAQ,GAEZC,UAAW,QACXC,UAAW,SACXC,YAAa,QACbC,gBAAiB,QAGRC,EAAW,CACpB,GACA,CACI,uBACA,uBAEJ,GACA,CACI,0BAEJ,GACA,GACA,CACI,qBACA,uBACA,wBACA,wBACA,yBACA,qBACA,qBACA,qBACA,yBACA,wBACA,sBACA,sBACA,sBACA,yBAEJ,GACA,CACI,+BACA,6BACA,mCACA,8BACA,kCACA,gCACA,6BACA,0BACA,yBACA,yBAEJ,CACI,+BAIKC,EAAS,CAClB,2BACA,6BACA,sBACA,uBACA,2BAsGSC,EAAoB,CAC7BC,QApGqB,CACrB,CACIC,KAAM,gBACNC,OAAQ,GACRC,SAAU,EACVC,SAAU,IAgGdC,SA5FsB,CACtB,CACIJ,KAAM,kBACNC,OAAQ,GACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,gBACNC,OAAQ,GACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,oBACNC,OAAQ,GACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,gBACNC,OAAQ,EACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,kBACNC,OAAQ,EACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,mBACNC,OAAQ,EACRC,SAAU,EACVC,SAAU,IA0DdE,KAAM,GACNC,QAvDqB,CACrB,CACIN,KAAM,mBACNC,OAAQ,IACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,mBACNC,OAAQ,GACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,4BACNC,OAAQ,EACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,qBACNC,OAAQ,IACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,oBACNC,OAAQ,IACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,kBACNC,OAAQ,IACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,qBACNC,OAAQ,GACRC,SAAU,EACVC,SAAU,GAEd,CACIH,KAAM,kBACNC,OAAQ,EACRC,SAAU,EACVC,SAAU,IASdI,cAAe,GACfC,eAAgB,IAGPC,EAAY,CACrB,wBACA,iBACA,MACA,UACA,QACA,SACA,mBACA,aACA,sBACA,wBACA,QACA,YACA,gBACA,OACA,eACA,mBACA,UACA,gBACA,iBACA,gBACA,yBACA,iBACA,OACA,SACA,iBACA,UACA,gBACA,UACA,gBACA,YACA,oBACA,eACA,gBACA,eACA,iBACA,wBACA,gBACA,WACA,UACA,QACA,QACA,iBACA,QACA,iBACA,OACA,aACA,gBACA,gBACA,eACA,wBACA,cACA,OACA,WACA,WACA,OACA,OACA,SACA,OACA,iBACA,QACA,SACA,OACA,kBACA,OACA,SACA,YACA,eACA,mBACA,aACA,eACA,YACA,SACFC,KAAI,SAAAC,GAAQ,MAAK,CAAEC,MAAO,aAAeD,EAAUE,MAAOF,MAE/CG,EAAoB,CAC7BC,QAAS,CACLf,KAAM,2BAEVgB,YAAa,M,uCC1PV,SAAeC,EAAtB,oC,4CAAO,WAAyBC,EAAKH,GAA9B,iBAAAI,EAAA,sEACoBC,MAAMF,EAAD,aACxBG,QAAS,CACLC,OAAQ,mBACR,eAAgB,qBAEjBP,IANJ,cACGQ,EADH,gBASwBA,EAASC,OATjC,UASGC,EATH,QAUCF,EAASG,GAVV,yCAWQD,GAXR,aAaGA,EAbH,4C,sBCJA,IAAME,EAAmB,CAC5B,OACA,YACA,cACA,sBACA,eACA,aACA,uBACA,QACA,uBACA,uBACA,eACA,mBACA,kBACA,YACA,4BACA,2BACA,iBACA,iBACA,gBACA,gBACA,gBACA,qBACA,kBACA,iBACA,gBACA,iBACA,gBACA,qBACA,aACA,YACA,YACA,cACA,kBACA,iBACA,eACA,YACA,YACA,WACA,eACA,SACA,QACA,aACA,YACA,YACA,cACA,YACA,mBACA,cACA,sBACA,eACA,cACA,SACA,qBACA,cACA,eACA,gBACA,uBACA,cACA,eACA,WACA,aACA,YACA,WACA,eACA,aACA,kBACA,uBACA,qBACA,sBACA,kBACA,gBACA,oBACA,mBACA,oBACA,qBACA,uBACA,sBACA,qBACA,oBACA,sBACA,qBACA,kBACA,oBACA,2BACA,cACA,qBACA,wBACA,mBACA,mBACA,qBACA,mBACA,eACA,sBACA,yBACA,yBACA,0BACA,4BACA,mBACA,wBACA,sBACA,wBACA,sBACA,uBACA,qBACA,uBACA,qBACA,uBACA,qBACA,YACA,gBACA,kBACA,oBACA,kBACA,oBACA,oBACA,iBACA,WACA,aACA,cACA,cACA,eACA,WACA,WACA,iBACA,WACA,eACA,cACA,YACA,eACA,cACA,mBACA,mBACA,gBACA,wBACA,eACA,uBACA,sBACA,oBACA,MACA,WACA,QACA,SACA,SACA,OACA,cACA,YACA,sBACA,mBACA,cACA,YACA,aACA,cACA,eACA,eACA,cACA,iBACA,gBACA,eACA,eACA,yBACA,kCACA,2BACA,+BACA,6BACA,wBACA,sBACA,mBACA,0BACA,gBACA,aACA,sBACA,iBACA,cACA,cACA,mBACA,oBACA,qBACA,cACA,eACA,oBACA,6BAGSC,EAAe,CACxB,cACA,QACA,sBACA,UACA,oBACA,uBACA,qBACA,OACA,WACA,gBACA,aACA,UACA,YACA,UACA,YACA,SACA,eACA,eACA,gBACA,QACA,gBACA,QACA,gBACA,oBACA,cACA,SACA,OACA,UACA,cACA,YACA,qBACA,oBACA,MACA,cACA,iBACA,oBACA,uBACA,cACA,SACA,OACA,iBACA,4BACA,qBACA,WACA,oBACA,SACA,UACA,kBACA,8BACA,QACA,OACA,WACA,gBACA,QACA,QACA,gBACA,wBACA,oBACA,cACA,SACA,iBACA,eACA,wBACA,sBACA,eACA,YACA,uBACA,yBACA,cACA,QACA,cACA,qBACA,aACA,eACA,cACA,gBACA,4BACA,iBACA,eACA,gBACA,yBACA,eACA,gBACA,mBACA,QACFlB,KAAI,SAAAmB,GAAG,MAAK,CAAEjB,MAAO,aAAeiB,EAAKhB,MAAOgB,MAErCC,EAAqB,CAC9B,CAAElB,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,QAASC,MAAO,SACzB,CAAED,MAAO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","file":"static/js/main.9a7fb3bd.chunk.js","sourcesContent":["export const EFFECTS = {\n    mood_sound: {\n        sound: \"minecraft:ambient.cave\",\n        tick_delay: 6000,\n        block_search_extent: 8,\n        offset: 2.0\n    },\n    sky_color: 7907327,\n    fog_color: 12638463,\n    water_color: 4159204,\n    water_fog_color: 329011\n}\n\nexport const FEATURES = [\n    [],\n    [\n        \"minecraft:lake_water\",\n        \"minecraft:lake_lava\"\n    ],\n    [],\n    [\n        \"minecraft:monster_room\"\n    ],\n    [],\n    [],\n    [\n        \"minecraft:ore_dirt\",\n        \"minecraft:ore_gravel\",\n        \"minecraft:ore_granite\",\n        \"minecraft:ore_diorite\",\n        \"minecraft:ore_andesite\",\n        \"minecraft:ore_coal\",\n        \"minecraft:ore_iron\",\n        \"minecraft:ore_gold\",\n        \"minecraft:ore_redstone\",\n        \"minecraft:ore_diamond\",\n        \"minecraft:ore_lapis\",\n        \"minecraft:disk_sand\",\n        \"minecraft:disk_clay\",\n        \"minecraft:disk_gravel\"\n    ],\n    [],\n    [\n        \"minecraft:patch_tall_grass_2\",\n        \"minecraft:plain_vegetation\",\n        \"minecraft:flower_plain_decorated\",\n        \"minecraft:patch_grass_plain\",\n        \"minecraft:brown_mushroom_normal\",\n        \"minecraft:red_mushroom_normal\",\n        \"minecraft:patch_sugar_cane\",\n        \"minecraft:patch_pumpkin\",\n        \"minecraft:spring_water\",\n        \"minecraft:spring_lava\"\n    ],\n    [\n        \"minecraft:freeze_top_layer\"\n    ]\n]\n\nexport const STARTS = [\n    \"minecraft:village_plains\",\n    \"minecraft:pillager_outpost\",\n    \"minecraft:mineshaft\",\n    \"minecraft:stronghold\",\n    \"minecraft:ruined_portal\"\n]\n\nconst SPAWNERS_AMBIENT = [\n    {\n        type: \"minecraft:bat\",\n        weight: 10,\n        minCount: 8,\n        maxCount: 8\n    }\n];\n\nconst SPAWNERS_CREATURE = [\n    {\n        type: \"minecraft:sheep\",\n        weight: 12,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:pig\",\n        weight: 10,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:chicken\",\n        weight: 10,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:cow\",\n        weight: 8,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:horse\",\n        weight: 5,\n        minCount: 2,\n        maxCount: 6\n    },\n    {\n        type: \"minecraft:donkey\",\n        weight: 1,\n        minCount: 1,\n        maxCount: 3\n    }\n];\n\nconst SPAWNERS_MONSTER = [\n    {\n        type: \"minecraft:spider\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:zombie\",\n        weight: 95,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:zombie_villager\",\n        weight: 5,\n        minCount: 1,\n        maxCount: 1\n    },\n    {\n        type: \"minecraft:skeleton\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:creeper\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:slime\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:enderman\",\n        weight: 10,\n        minCount: 1,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:witch\",\n        weight: 5,\n        minCount: 1,\n        maxCount: 1\n    },\n];\n\nexport const SPAWNERS_DEFAULTS = {\n    ambient: SPAWNERS_AMBIENT,\n    creature: SPAWNERS_CREATURE,\n    misc: [],\n    monster: SPAWNERS_MONSTER,\n    water_ambient: [],\n    water_creature: []\n};\n\nexport const PARTICLES = [\n    'ambient_entity_effect',\n    'angry_villager',\n    'ash',\n    'barrier',\n    'block',\n    'bubble',\n    'bubble_column_up',\n    'bubble_pop',\n    'campfire_cosy_smoke',\n    'campfire_signal_smoke',\n    'cloud',\n    'composter',\n    'crimson_spore',\n    'crit',\n    'current_down',\n    'damage_indicator',\n    'dolphin',\n    'dragon_breath',\n    'dripping_honey',\n    'dripping_lava',\n    'dripping_obsidian_tear',\n    'dripping_water',\n    'dust',\n    'effect',\n    'elder_guardian',\n    'enchant',\n    'enchanted_hit',\n    'end_rod',\n    'entity_effect',\n    'explosion',\n    'explosion_emitter',\n    'falling_dust',\n    'falling_honey',\n    'falling_lava',\n    'falling_nectar',\n    'falling_obsidian_tear',\n    'falling_water',\n    'firework',\n    'fishing',\n    'flame',\n    'flash',\n    'happy_villager',\n    'heart',\n    'instant_effect',\n    'item',\n    'item_slime',\n    'item_snowball',\n    'landing_honey',\n    'landing_lava',\n    'landing_obsidian_tear',\n    'large_smoke',\n    'lava',\n    'mycelium',\n    'nautilus',\n    'note',\n    'poof',\n    'portal',\n    'rain',\n    'reverse_portal',\n    'smoke',\n    'sneeze',\n    'soul',\n    'soul_fire_flame',\n    'spit',\n    'splash',\n    'squid_ink',\n    'sweep_attack',\n    'totem_of_undying',\n    'underwater',\n    'warped_spore',\n    'white_ash',\n    'witch'\n].map(particle => ({ value: 'minecraft:' + particle, label: particle }));\n\nexport const PARTICLE_DEFAULTS = {\n    options: {\n        type: \"minecraft:crimson_spore\"\n    },\n    probability: 0.015\n}\n","/**\n * @param {string} url\n * @param {object} options\n */\nexport async function jsonFetch(url, options) {\n    const response = await fetch(url, {\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        ...options\n    });\n\n    const responseData = await response.json();\n    if (response.ok) {\n        return responseData;\n    }\n    throw responseData;\n}","export const VANILLA_FEATURES = [\n    \"nope\",\n    \"end_spike\",\n    \"end_gateway\",\n    \"end_gateway_delayed\",\n    \"chorus_plant\",\n    \"end_island\",\n    \"end_island_decorated\",\n    \"delta\",\n    \"small_basalt_columns\",\n    \"large_basalt_columns\",\n    \"basalt_blobs\",\n    \"blackstone_blobs\",\n    \"glowstone_extra\",\n    \"glowstone\",\n    \"crimson_forest_vegetation\",\n    \"warped_forest_vegetation\",\n    \"nether_sprouts\",\n    \"twisting_vines\",\n    \"weeping_vines\",\n    \"basalt_pillar\",\n    \"seagrass_cold\",\n    \"seagrass_deep_cold\",\n    \"seagrass_normal\",\n    \"seagrass_river\",\n    \"seagrass_deep\",\n    \"seagrass_swamp\",\n    \"seagrass_warm\",\n    \"seagrass_deep_warm\",\n    \"sea_pickle\",\n    \"ice_spike\",\n    \"ice_patch\",\n    \"forest_rock\",\n    \"seagrass_simple\",\n    \"iceberg_packed\",\n    \"iceberg_blue\",\n    \"kelp_cold\",\n    \"kelp_warm\",\n    \"blue_ice\",\n    \"bamboo_light\",\n    \"bamboo\",\n    \"vines\",\n    \"lake_water\",\n    \"lake_lava\",\n    \"disk_clay\",\n    \"disk_gravel\",\n    \"disk_sand\",\n    \"freeze_top_layer\",\n    \"bonus_chest\",\n    \"void_start_platform\",\n    \"monster_room\",\n    \"desert_well\",\n    \"fossil\",\n    \"spring_lava_double\",\n    \"spring_lava\",\n    \"spring_delta\",\n    \"spring_closed\",\n    \"spring_closed_double\",\n    \"spring_open\",\n    \"spring_water\",\n    \"pile_hay\",\n    \"pile_melon\",\n    \"pile_snow\",\n    \"pile_ice\",\n    \"pile_pumpkin\",\n    \"patch_fire\",\n    \"patch_soul_fire\",\n    \"patch_brown_mushroom\",\n    \"patch_red_mushroom\",\n    \"patch_crimson_roots\",\n    \"patch_sunflower\",\n    \"patch_pumpkin\",\n    \"patch_taiga_grass\",\n    \"patch_berry_bush\",\n    \"patch_grass_plain\",\n    \"patch_grass_forest\",\n    \"patch_grass_badlands\",\n    \"patch_grass_savanna\",\n    \"patch_grass_normal\",\n    \"patch_grass_taiga\",\n    \"patch_grass_taiga_2\",\n    \"patch_grass_jungle\",\n    \"patch_dead_bush\",\n    \"patch_dead_bush_2\",\n    \"patch_dead_bush_badlands\",\n    \"patch_melon\",\n    \"patch_berry_sparse\",\n    \"patch_berry_decorated\",\n    \"patch_waterlilly\",\n    \"patch_tall_grass\",\n    \"patch_tall_grass_2\",\n    \"patch_large_fern\",\n    \"patch_cactus\",\n    \"patch_cactus_desert\",\n    \"patch_cactus_decorated\",\n    \"patch_sugar_cane_swamp\",\n    \"patch_sugar_cane_desert\",\n    \"patch_sugar_cane_badlands\",\n    \"patch_sugar_cane\",\n    \"brown_mushroom_nether\",\n    \"red_mushroom_nether\",\n    \"brown_mushroom_normal\",\n    \"red_mushroom_normal\",\n    \"brown_mushroom_taiga\",\n    \"red_mushroom_taiga\",\n    \"brown_mushroom_giant\",\n    \"red_mushroom_giant\",\n    \"brown_mushroom_swamp\",\n    \"red_mushroom_swamp\",\n    \"ore_magma\",\n    \"ore_soul_sand\",\n    \"ore_gold_deltas\",\n    \"ore_quartz_deltas\",\n    \"ore_gold_nether\",\n    \"ore_quartz_nether\",\n    \"ore_gravel_nether\",\n    \"ore_blackstone\",\n    \"ore_dirt\",\n    \"ore_gravel\",\n    \"ore_granite\",\n    \"ore_diorite\",\n    \"ore_andesite\",\n    \"ore_coal\",\n    \"ore_iron\",\n    \"ore_gold_extra\",\n    \"ore_gold\",\n    \"ore_redstone\",\n    \"ore_diamond\",\n    \"ore_lapis\",\n    \"ore_infested\",\n    \"ore_emerald\",\n    \"ore_debris_large\",\n    \"ore_debris_small\",\n    \"crimson_fungi\",\n    \"crimson_fungi_planted\",\n    \"warped_fungi\",\n    \"warped_fungi_planted\",\n    \"huge_brown_mushroom\",\n    \"huge_red_mushroom\",\n    \"oak\",\n    \"dark_oak\",\n    \"birch\",\n    \"acacia\",\n    \"spruce\",\n    \"pine\",\n    \"jungle_tree\",\n    \"fancy_oak\",\n    \"jungle_tree_no_vine\",\n    \"mega_jungle_tree\",\n    \"mega_spruce\",\n    \"mega_pine\",\n    \"swamp_tree\",\n    \"jungle_bush\",\n    \"oak_badlands\",\n    \"spruce_snovy\",\n    \"flower_warm\",\n    \"flower_default\",\n    \"flower_forest\",\n    \"flower_swamp\",\n    \"flower_plain\",\n    \"flower_plain_decorated\",\n    \"forest_flower_vegetation_common\",\n    \"forest_flower_vegetation\",\n    \"dark_forest_vegetation_brown\",\n    \"dark_forest_vegetation_red\",\n    \"warm_ocean_vegetation\",\n    \"forest_flower_trees\",\n    \"taiga_vegetation\",\n    \"trees_shattered_savanna\",\n    \"trees_savanna\",\n    \"birch_tall\",\n    \"trees_mountain_edge\",\n    \"trees_mountain\",\n    \"trees_water\",\n    \"birch_other\",\n    \"plain_vegetation\",\n    \"trees_jungle_edge\",\n    \"trees_giant_spruce\",\n    \"trees_giant\",\n    \"trees_jungle\",\n    \"bamboo_vegetation\",\n    \"mushroom_field_vegetation\"\n];\n\nexport const TAGS_OPTIONS = [\n    'acacia_logs',\n    'anvil',\n    'bamboo_plantable_on',\n    'banners',\n    'base_stone_nether',\n    'base_stone_overworld',\n    'beacon_base_blocks',\n    'beds',\n    'beehives',\n    'bee_growables',\n    'birch_logs',\n    'buttons',\n    'campfires',\n    'carpets',\n    'climbable',\n    'corals',\n    'coral_blocks',\n    'coral_plants',\n    'crimson_stems',\n    'crops',\n    'dark_oak_logs',\n    'doors',\n    'dragon_immune',\n    'enderman_holdable',\n    'fence_gates',\n    'fences',\n    'fire',\n    'flowers',\n    'flower_pots',\n    'gold_ores',\n    'guarded_by_piglins',\n    'hoglin_repellents',\n    'ice',\n    'impermeable',\n    'infiniburn_end',\n    'infiniburn_nether',\n    'infiniburn_overworld',\n    'jungle_logs',\n    'leaves',\n    'logs',\n    'logs_that_burn',\n    'mushroom_grow_block',\n    'non_flammable_wood',\n    'oak_logs',\n    'piglin_repellents',\n    'planks',\n    'portals',\n    'pressure_plates',\n    'prevent_mob_spawning_inside',\n    'rails',\n    'sand',\n    'saplings',\n    'shulker_boxes',\n    'signs',\n    'slabs',\n    'small_flowers',\n    'soul_fire_base_blocks',\n    'soul_speed_blocks',\n    'spruce_logs',\n    'stairs',\n    'standing_signs',\n    'stone_bricks',\n    'stone_pressure_plates',\n    'strider_warm_blocks',\n    'tall_flowers',\n    'trapdoors',\n    'underwater_bonemeals',\n    'unstable_bottom_center',\n    'valid_spawn',\n    'walls',\n    'wall_corals',\n    'wall_post_override',\n    'wall_signs',\n    'warped_stems',\n    'wart_blocks',\n    'wither_immune',\n    'wither_summon_base_blocks',\n    'wooden_buttons',\n    'wooden_doors',\n    'wooden_fences',\n    'wooden_pressure_plates',\n    'wooden_slabs',\n    'wooden_stairs',\n    'wooden_trapdoors',\n    'wool'\n].map(tag => ({ value: 'minecraft:' + tag, label: tag }));\n\nexport const DECORATORS_OPTIONS = [\n    { value: 'chance', label: 'Chance' },\n    { value: 'count', label: 'Count' },\n    { value: 'count_extra', label: 'Count extra' },\n    { value: 'count_multilayer', label: 'Count multi layer' },\n    { value: 'decorated', label: 'Decorated' },\n    { value: 'fire', label: 'Fire' },\n    { value: 'range', label: 'Range' },\n    { value: 'range_very_biased', label: 'Range very biased' },\n    { value: 'square', label: 'Square' }\n].map(o => {\n    o.value = 'minecraft:' + o.value;\n    return o;\n});\n\nexport const TREE_DECORATORS_OPTIONS = [\n    { value: 'alter_ground', label: 'Alter ground' },\n    { value: 'beehive', label: 'Beehive', default: { probability: 0.02 } },\n    { value: 'cocoa', label: 'Cocoa beans', default: { probability: 0.2 } },\n    { value: 'leave_vine', label: 'Leave vine' },\n    { value: 'trunk_vine', label: 'Trunk vine' }\n].map(o => {\n    o.value = 'minecraft:' + o.value;\n    return o;\n});\n\nexport const ORE_FEATURE_CONFIG = {\n    target: {\n        tag: \"minecraft:base_stone_overworld\",\n        predicate_type: \"minecraft:tag_match\"\n    },\n    state: {\n        Name: \"minecraft:gold_ore\"\n    },\n    size: 30\n};\n\nexport const DECORATED_ORE_FEATURE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: ORE_FEATURE_CONFIG,\n                            type: \"minecraft:ore\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 32\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 2\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const TREE_FEATURE_CONFIG = {\n    heightmap: \"OCEAN_FLOOR\",\n    minimum_size: {\n        limit: 1,\n        lower_size: 0,\n        upper_size: 1,\n        type: \"minecraft:two_layers_feature_size\"\n    },\n    decorators: [],\n    trunk_provider: {\n        state: {\n            Properties: {\n                axis: \"y\"\n            },\n            Name: \"minecraft:birch_log\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    leaves_provider: {\n        state: {\n            Properties: {\n                persistent: \"false\",\n                distance: \"7\"\n            },\n            Name: \"minecraft:birch_leaves\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    foliage_placer: {\n        radius: 2,\n        offset: 0,\n        height: 3,\n        type: \"minecraft:blob_foliage_placer\"\n    },\n    trunk_placer: {\n        base_height: 5,\n        height_rand_a: 2,\n        height_rand_b: 0,\n        type: \"minecraft:straight_trunk_placer\"\n    }\n};\n\nexport const RANDOM_PATCH_FEATURE_CONFIG = {\n    can_replace: false,\n    project: true,\n    need_water: false,\n    xspread: 7,\n    yspread: 3,\n    zspread: 7,\n    whitelist: [\n        {\n            Properties: {\n                snowy: \"false\"\n            },\n            Name: \"minecraft:grass_block\"\n        }\n    ],\n    blacklist: [],\n    tries: 64,\n    state_provider: {\n        state: {\n            Name: \"minecraft:pumpkin\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    block_placer: {\n        type: \"minecraft:simple_block_placer\"\n    }\n}\n\nexport const DECORATED_RANDOM_PATCH_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: RANDOM_PATCH_FEATURE_CONFIG,\n                    type: \"minecraft:random_patch\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap_spread_double\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 32\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_TREE_CONFIG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: TREE_FEATURE_CONFIG,\n                    type: \"minecraft:tree\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10,\n                extra_chance: 0.1,\n                extra_count: 1\n            },\n            type: \"minecraft:count_extra\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATOR_EXTRA_COUNT_DEFAULTS = {\n    count: 10,\n    extra_chance: 0.1,\n    extra_count: 1\n}\n\nexport const DECORATOR_DECORATED_DEFAULTS = {\n    outer: {\n        config: {},\n        type: \"minecraft:square\"\n    },\n    inner: {\n        config: {},\n        type: \"minecraft:heightmap\"\n    }\n}\n\nexport const DECORATOR_RANGE_DEFAULTS = {\n    bottom_offset: 4,\n    top_offset: 0,\n    maximum: 64\n}\n","export const VANILLA_SURFACE_BUILDERS = [\n    { value: 'badlands', label: 'Badlands' },\n    { value: 'basalt_deltas', label: 'Basalt Deltas' },\n    { value: 'crimson_forest', label: 'Crimson forest' },\n    { value: 'deset', label: 'Desert' },\n    { value: 'end', label: 'End' },\n    { value: 'eroded_badlands', label: 'Eroded Badlands' },\n    { value: 'frozen_ocean', label: 'Frozen ocean' },\n    { value: 'full_sand', label: 'Full sand' },\n    { value: 'giant_tree_taiga', label: 'Giant tree taiga' },\n    { value: 'grass', label: 'Grass' },\n    { value: 'gravelly_mountain', label: 'Gravelly mountain' },\n    { value: 'ice_spikes', label: 'Ice spikes' },\n    { value: 'mountain', label: 'Mountain' },\n    { value: 'mycelium', label: 'Mycelium' },\n    { value: 'nether', label: 'Nether' },\n    { value: 'nope', label: 'Nope' },\n    { value: 'ocean_sand', label: 'Ocean sand' },\n    { value: 'shattered_savanna', label: 'Shattered savanna' },\n    { value: 'soul_sand_valley', label: 'Soul sand valley' },\n    { value: 'stone', label: 'Stone' },\n    { value: 'swamp', label: 'Swamp' },\n    { value: 'warped_forest', label: 'Warped forest' },\n    { value: 'wooded_badlands', label: 'Wooded badlands' },\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n\nexport const SURFACE_TYPES_OPTIONS = [\n    { value: 'default', label: 'Default' },\n    { value: 'mountain', label: 'Mountain' },\n    { value: 'shattered_savanna', label: 'Shattered savanna' },\n    { value: 'gravelly_mountain', label: 'Gravelly mountain' },\n    { value: 'giant_tree_taiga', label: 'Giant tree taiga' },\n    { value: 'swamp', label: 'Swamp' },\n    { value: 'badlands', label: 'Badlands' },\n    { value: 'wooded_badlands', label: 'Wooded badlands' },\n    { value: 'eroded_badlands', label: 'Eroded badlands' },\n    { value: 'frozen_ocean', label: 'Frozen ocean' },\n    { value: 'nether', label: 'Nether' },\n    { value: 'nether_forest', label: 'Nether forest' },\n    { value: 'soul_sand_valley', label: 'Soul sand valley' },\n    { value: 'basalt_deltas', label: 'Basalt deltas' },\n    { value: 'nope', label: 'Nope' }\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n\nexport const SURFACE_BUILDER = {\n    config: {\n        top_material: {\n            Properties: {\n                snowy: \"false\"\n            },\n            Name: \"minecraft:grass_block\"\n        },\n        under_material: {\n            Name: \"minecraft:dirt\"\n        },\n        underwater_material: {\n            Name: \"minecraft:gravel\"\n        }\n    },\n    type: \"minecraft:default\"\n}","export const VANILLA_NOISES = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:nether', label: 'Nether' },\n    { value: 'minecraft:end', label: 'End' },\n    { value: 'minecraft:amplified', label: 'Amplified' },\n    { value: 'minecraft:caves', label: 'Caves' },\n    { value: 'minecraft:floating_islands', label: 'Floating islands' }\n];\n\nexport const STRUCTURES = [\n    \"ocean_ruin\",\n    \"bastion_remnant\",\n    \"fortress\",\n    \"nether_fossil\",\n    \"igloo\",\n    \"shipwreck\",\n    \"swamp_hut\",\n    \"jungle_pyramid\",\n    \"village\",\n    \"ruined_portal\",\n    \"endcity\",\n    \"buried_treasure\",\n    \"mansion\",\n    \"monument\",\n    \"stronghold\",\n    \"pillager_outpost\",\n    \"desert_pyramid\",\n    \"mineshaft\"\n].map(tag => ({ value: 'minecraft:' + tag, label: tag }));;\n\nexport const OVERWORLD_NOISE = {\n    bedrock_roof_position: -10,\n    bedrock_floor_position: 0,\n    sea_level: 63,\n    disable_mob_generation: false,\n    structures: {\n        stronghold: {\n            distance: 32,\n            spread: 3,\n            count: 128\n        },\n        structures: {\n            \"minecraft:ocean_ruin\": {\n                spacing: 20,\n                separation: 8,\n                salt: 14357621\n            },\n            \"minecraft:bastion_remnant\": {\n                spacing: 27,\n                separation: 4,\n                salt: 30084232\n            },\n            \"minecraft:fortress\": {\n                spacing: 27,\n                separation: 4,\n                salt: 30084232\n            },\n            \"minecraft:nether_fossil\": {\n                spacing: 2,\n                separation: 1,\n                salt: 14357921\n            },\n            \"minecraft:igloo\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357618\n            },\n            \"minecraft:shipwreck\": {\n                spacing: 24,\n                separation: 4,\n                salt: 165745295\n            },\n            \"minecraft:swamp_hut\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357620\n            },\n            \"minecraft:jungle_pyramid\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357619\n            },\n            \"minecraft:village\": {\n                spacing: 32,\n                separation: 8,\n                salt: 10387312\n            },\n            \"minecraft:ruined_portal\": {\n                spacing: 40,\n                separation: 15,\n                salt: 34222645\n            },\n            \"minecraft:endcity\": {\n                spacing: 20,\n                separation: 11,\n                salt: 10387313\n            },\n            \"minecraft:buried_treasure\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            },\n            \"minecraft:mansion\": {\n                spacing: 80,\n                separation: 20,\n                salt: 10387319\n            },\n            \"minecraft:monument\": {\n                spacing: 32,\n                separation: 5,\n                salt: 10387313\n            },\n            \"minecraft:stronghold\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            },\n            \"minecraft:pillager_outpost\": {\n                spacing: 32,\n                separation: 8,\n                salt: 165745296\n            },\n            \"minecraft:desert_pyramid\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357617\n            },\n            \"minecraft:mineshaft\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            }\n        }\n    },\n    noise: {\n        height: 256,\n        sampling: {\n            xz_scale: 1,\n            y_scale: 1,\n            xz_factor: 80.0,\n            y_factor: 160.0\n        },\n        top_slide: {\n            target: -10,\n            size: 3,\n            offset: 0\n        },\n        bottom_slide: {\n            target: -30,\n            size: 0,\n            offset: 0\n        },\n        size_horizontal: 1,\n        size_vertical: 2,\n        density_factor: 1.0,\n        density_offset: -0.47,\n        simplex_surface_noise: true,\n        random_density_offset: true,\n        island_noise_override: false,\n        amplified: false\n        \n    },\n    default_block: {\n        Name: \"minecraft:stone\"\n    },\n    default_fluid: {\n        Properties: {\n            level: \"0\"\n        },\n        Name: \"minecraft:water\"\n    }\n}\n","export const DIMENSION = {\n    generator: {\n        type: \"minecraft:noise\",\n        seed: 286956243,\n        biome_source: {\n            type: \"minecraft:fixed\",\n            seed: 286956243,\n            biome: \"minecraft:plains\"\n        },\n        settings: \"minecraft:overworld\"\n    },\n    type: \"minecraft:overworld\"\n}\n\nexport const VANILLA_DIMENSION_TYPES = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:overworld_cave', label: 'Overworld caves' },\n    { value: 'minecraft:the_nether', label: 'The Nether' },\n    { value: 'minecraft:the_end', label: 'The End' },\n]\n\nexport const NOISES_NAMES = [\n    'temperature_noise',\n    'humidity_noise',\n    'altitude_noise',\n    'weirdness_noise'\n];\n\nexport const MULTI_NOISE_BIOME_SOURCE = {\n    type: 'minecraft:multi_noise',\n    seed: 286956243,\n    temperature_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    humidity_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    altitude_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    weirdness_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    biomes: []\n};\n\nexport const OVERWORLD_DIMENSION_TYPE = {\n    has_raids: true,\n    logical_height: 256,\n    infiniburn: \"minecraft:infiniburn_overworld\",\n    ambient_light: 0.0,\n    piglin_safe: false,\n    bed_works: true,\n    respawn_anchor_works: false,\n    ultrawarm: false,\n    natural: true,\n    shrunk: false,\n    has_skylight: true,\n    has_ceiling: false\n}\n\nexport const THE_NETHER_DIMENSION_TYPE = {\n    has_raids: false,\n    logical_height: 128,\n    infiniburn: \"minecraft:infiniburn_nether\",\n    ambient_light: 0.1,\n    piglin_safe: true,\n    bed_works: false,\n    respawn_anchor_works: true,\n    ultrawarm: true,\n    natural: false,\n    shrunk: true,\n    fixed_time: 18000,\n    has_skylight: false,\n    has_ceiling: true\n}\n\nexport const THE_END_DIMENSION_TYPE = {\n    has_raids: true,\n    logical_height: 256,\n    infiniburn: \"minecraft:infiniburn_end\",\n    ambient_light: 0.0,\n    piglin_safe: false,\n    bed_works: false,\n    respawn_anchor_works: false,\n    ultrawarm: false,\n    natural: false,\n    shrunk: false,\n    fixed_time: 6000,\n    has_skylight: false,\n    has_ceiling: false\n}\n","import React, { useState, useEffect } from 'react';\nimport { jsonFetch } from '../utils/fetch';\nimport { VANILLA_FEATURES } from '../components/feature/FeatureDefaults';\nimport { useData } from '../hooks/context';\nimport { VANILLA_SURFACE_BUILDERS } from '../components/surface/SurfaceBuilderDefaults';\nimport { VANILLA_NOISES } from '../components/noise/NoiseDefaults';\nimport { VANILLA_DIMENSION_TYPES } from '../components/dimension/DimensionDefaults';\n\nexport const DataContext = React.createContext({\n    vanilla: {\n        biomes: [],\n        blocks: [],\n        dimensions: [],\n        dimension_types: [],\n        entities: [],\n        features: [],\n        noises: [],\n        surfaces: []\n    },\n    custom: {\n        biomes: [],\n        dimensions: [],\n        dimension_types: [],\n        features: [],\n        noises: [],\n        surfaces: [],\n        updateBiomes: (biome) => {},\n        updateDimensions: (dimension) => {},\n        updateDimensionTypes: (dimension_type) => {},\n        updateFeatures: (feature) => {},\n        updateNoises: (noise) => {},\n        updateSurfacesBuilders: (surface_builder) => {}\n    },\n    namespace: ''\n});\n\nexport function DataContextProvider({children, namespace, initial = {}}) {\n    const [biomes, setBiomes] = useState([]);\n    const [blocks, setBlocks] = useState([]);\n    const [entities, setEntities] = useState([]);\n\n    const [customBiomes, updateBiomes] = useData(initial.biomes);\n    const [dimensions, updateDimensions] = useData(initial.dimensions);\n    const [dimension_types, updateDimensionTypes] = useData(initial.dimension_types);\n    const [features, updateFeatures] = useData(initial.features);\n    const [noises, updateNoises] = useData(initial.noises);\n    const [surfaces, updateSurfacesBuilders] = useData(initial.surfaces);\n\n    useEffect(() => {\n        (async function () {\n            jsonFetch('https://unpkg.com/minecraft-data@2.63.0/minecraft-data/data/pc/1.16.1/biomes.json')\n                .then(biomes => setBiomes(biomes));\n            jsonFetch('https://unpkg.com/minecraft-data@2.63.0/minecraft-data/data/pc/1.16.1/blocks.json')\n                .then(blocks => setBlocks(blocks));\n            jsonFetch('https://unpkg.com/minecraft-data@2.63.0/minecraft-data/data/pc/1.16.1/entities.json')\n                .then(entities => setEntities(entities.map(entity => ({ value: 'minecraft:' + entity.name, label: entity.displayName }))));\n        })();\n    }, []);\n\n    return <DataContext.Provider value={{\n        vanilla: {\n            biomes,\n            blocks,\n            dimensions: VANILLA_DIMENSION_TYPES.filter(o => !o.value.includes('cave')),\n            dimension_types: VANILLA_DIMENSION_TYPES,\n            entities,\n            features: VANILLA_FEATURES,\n            noises: VANILLA_NOISES,\n            surfaces: VANILLA_SURFACE_BUILDERS\n        },\n        custom: { biomes: customBiomes, dimensions, dimension_types, features, noises, surfaces,\n            updateBiomes, updateDimensions, updateDimensionTypes, updateFeatures, updateNoises, updateSurfacesBuilders },\n        namespace\n    }}>{children}</DataContext.Provider>\n}","import { MULTI_NOISE_BIOME_SOURCE, NOISES_NAMES } from './../components/dimension/DimensionDefaults';\n\n/**\n * @param {object} a \n * @param {object} b \n * @returns {boolean}\n */\nexport function objectsEqual(a, b) {\n    return Object.keys(a).length === Object.keys(b).length\n        && Object.keys(a).every(p => a[p] === b[p]);\n}\n\n/**\n * @param {string} str \n * @returns {string}\n */\nexport function capitalize(str) {\n    return str[0].toUpperCase() + str.substr(1);\n}\n\n/**\n * @param {string} key \n * @param {string} [defaultNamespace]\n * @returns {string}\n */\nexport function displayNamespacedKey(key, defaultNamespace) {\n    return key.startsWith(defaultNamespace + ':') ? key.split(':')[1] : key;\n}\n\nexport function getStateValue(state, properties = {}) {\n    const actual = properties[state.name];\n    switch (state.type) {\n        case 'bool':\n            return actual === 'true' ? 'true' : 'false';\n        case 'int':\n            return actual || 0;\n        default:\n            return actual || state.values[0];\n    }\n}\n\nexport function hasDuplicatedObjects(objects) {\n    for (const a of objects) {\n        for (const b of objects) {\n            if (a !== b && objectsEqual(a, b)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n/**\n * @param {object} feature Unserialized feature\n * @returns {{type: string, config: object}[]} Decorators list\n */\nexport function findDecorators(feature) {\n    const decorators = [];\n\n    let f = null;\n    (function find(obj) {\n        for (const key of Object.keys(obj)) {\n            if (key === 'decorator') {\n                decorators.unshift(obj[key]);\n                if (f === null && !obj.feature.hasOwnProperty('decorator')) {\n                    f = obj.feature;\n                }\n            } else if (typeof obj[key] === 'object') {\n                find(obj[key]);\n            }\n        }\n    }(feature));\n\n    if (f === null) {\n        f = {};\n    }\n    return [decorators, f];\n}\n\n/**\n * @param {object} feature \n * @param {{type: string, config: object}[]} decorators \n * @param {string} name\n * @returns {object} Decorated feature\n */\nexport function buildDecorated(feature, decorators, name) {\n    if (decorators.length < 1) {\n        return feature;\n    }\n\n    const decorated = { type: 'minecraft:decorated', key: name };\n    let current = decorated;\n    decorators.forEach((decorator, i) => {\n        const f = i === (decorators.length - 1) ? feature : { type: 'minecraft:decorated' };\n        current.config = {\n            feature: f,\n            decorator\n        };\n        current = f;\n        if (i < 1) {\n            f.name = name;\n        }\n    });\n    return decorated;\n}\n\n/**\n * Rename object keys.\n * \n * @param {object} obj \n * @param {object} map \n * @returns {object}\n */\nfunction refitKeys(obj, map) {\n    const build = {};\n    for (const key in obj) {\n        const destKey = map[key] || key;\n\n        let value = obj[key];\n        if (typeof value === 'object') {\n            value = refitKeys(value, map);\n        }\n        build[destKey] = value;\n    }\n    return build;\n}\n\n/**\n * @param {string} group \n * @param {object} data \n * @returns {object}\n */\nexport function dataUpper(group, data) {\n    switch (group) {\n        case 'biomes':\n            // 20w30a: sky_color into effects\n            if (data.hasOwnProperty('sky_color')) {\n                data.effects.sky_color = data.sky_color;\n            }\n            return data;\n        case 'features':\n            // 20w30a: name -> type\n            const [decorators, feature] = findDecorators(data);\n            if (!feature.hasOwnProperty('type')) {\n                feature.type = feature.name;\n                delete feature.name;\n                return buildDecorated(\n                    feature,\n                    decorators.map(decorator => refitKeys(decorator, { name: 'type' })),\n                    data.key\n                );\n            }\n            return data;\n        case 'dimensions':\n            // 20w30a: multi_noise: firstOctave and amplitudes parameters\n            const source = data.generator.biome_source;\n            if (source.type === 'minecraft:multi_noise' && NOISES_NAMES.some(n => !source.hasOwnProperty(n))) {\n                data.generator.biome_source = { ...MULTI_NOISE_BIOME_SOURCE, ...source };\n            }\n            return data;\n        default:\n            // 20w30a: name -> type\n            if (data.hasOwnProperty('name') && !data.hasOwnProperty('type')) {\n                data.type = data.name;\n            }\n            return data;\n    }\n}\n","import { useState, useContext, useMemo } from \"react\";\nimport { DataContext } from \"../context/DataContext\";\nimport { displayNamespacedKey } from \"../utils/data\";\n\n/**\n * @param {object[]} initial\n * @returns {[object[], function(object): void]} \n */\nexport function useData(initial = []) {\n    const [data, setData] = useState(initial);\n    const updateData = function(object) {\n        setData(stored => {\n            const existing = stored.findIndex(({key}) => object.key === key);\n            if (existing > -1 && existing !== object.index) {\n                object.index = stored.length;\n                object.key = object.key + '2';\n                stored.push(object);\n                return stored;\n            }\n\n            if (typeof object.index === 'undefined') {\n                object.index = stored.length;\n                stored.push(object);\n            } else {\n                stored[object.index] = object;\n            }\n            return stored;\n        });\n    }\n    return [data, updateData];\n}\n\n/**\n * @param {('biomes'|'dimensions'|'dimension_types'|'features'|'noises'|'surfaces')} category Data category\n * @param {boolean} [includeCustom]\n * @param {boolean} [empty]\n * @returns {{ value: string, label: string }[]} Options list for react-select\n */\nexport function useKeyedListOptions(category, includeCustom = true, empty = false) {\n    const context = useContext(DataContext);\n    return useMemo(function() {\n        if (empty) {\n            return [];\n        }\n\n        const options = includeCustom ? context.custom[category]\n            .map(keyed => {\n                const name = displayNamespacedKey(keyed.key, context.namespace);\n                return { value: keyed.key, label: '(Custom) ' + name };\n            }) : [];\n\n        let struct = null;\n        context.vanilla[category].forEach(keyed => {\n            if (struct === null) {\n                struct = keyed.hasOwnProperty('displayName') ? 1 : (keyed.hasOwnProperty('label') ? 2 : 3);\n            }\n            switch(struct) {\n                case 1: // displayName\n                    options.push({ value: 'minecraft:' + keyed.name, label: keyed.displayName });\n                    return;\n                case 2: // already option\n                    options.push(keyed);\n                    return;\n                default:\n                    options.push({ value: 'minecraft:' + keyed, label: keyed });\n            }\n        });\n        return options;\n    }, [category, context.custom, context.namespace, context.vanilla, empty, includeCustom]);\n}","import { useReducer, useState, useCallback, useEffect, useContext, useMemo } from \"react\";\nimport { useKeyedListOptions } from \"./context\";\nimport { DataContext } from \"../context/DataContext\";\nimport arrayMove from \"array-move\";\n\nfunction crudReducer(state, action) {\n    switch (action.type) {\n        case ADD:\n            if (action.unshift) {\n                return [action.payload, ...state];\n            }\n            return [...state, action.payload];\n        case UPDATE:\n            if (typeof action.target === 'number' && typeof action.payload === 'number') {\n                return arrayMove(state, action.target, action.payload);\n            }\n            if (typeof action.target === 'undefined') {\n                throw new Error('Cannot update an element without its previous state.');\n            }\n            return state.map(element => element === action.target ? action.payload : element);\n        case REMOVE:\n            return state.filter(element => element !== action.payload);\n        default:\n            return state;\n    }\n}\n\nexport function useCrud(data = []) {\n    return useReducer(crudReducer, data);\n}\n\n/**\n * @param {object[]} [data] \n * @param {object|function (object[]): object} [initial] \n * @returns {[object[], function (SyntheticEvent): void, function (number|object, number|object): void, function (SyntheticEvent, number): void}\n */\nexport function useCrudPreset(data = [], initial = {}, unshift = false) {\n    const [entities, dispatch] = useCrud(data);\n\n    const add = useCallback(function(e) {\n        e.preventDefault();\n        const n = typeof initial === 'function' ? initial(entities) : { ...initial };\n        dispatch({ type: CRUD.ADD, payload: n, unshift });\n    }, [dispatch, entities, initial, unshift]);\n    const update = useCallback(function(state, previous) {\n        if (state.hasOwnProperty('oldIndex') && state.hasOwnProperty('newIndex')) {\n            dispatch({ type: CRUD.UPDATE, target: state.oldIndex, payload: state.newIndex });\n            return;\n        }\n        dispatch({ type: CRUD.UPDATE, target: previous, payload: state });\n    }, [dispatch]);\n    const remove = useCallback(function(e, index) {\n        e.preventDefault();\n        dispatch({ type: CRUD.REMOVE, payload: entities[index] });\n    }, [dispatch, entities]);\n\n    return [entities, add, update, remove];\n}\n\nexport function useBlocksOptions(mapped = true) {\n    const blocks = useContext(DataContext).vanilla.blocks;\n    return useMemo(function() {\n        return mapped ? blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName })): blocks;\n    }, [blocks, mapped]);\n}\n\n/**\n * @param {number} [initial] \n * @returns {function(SyntheticEvent|string|number): void} \n */\nexport function useNumber(initial = 0) {\n    const [n, setState] = useState(initial);\n    const setNumber = function(n) {\n        if (typeof n === 'object') {\n            n = n.target.value;\n        }\n        if (typeof n === 'string') {\n            n = isNaN(n) ? initial : parseInt(n);\n        }\n        setState(n);\n    }\n    return [n, setNumber];\n}\n\nexport function useValueChange(changeCallback, obj) {\n    return useCallback(function(e) {\n        if (e.target.type === 'checkbox') {\n            changeCallback({ ...obj, [e.target.dataset.name || e.target.id || e.target.name]: e.target.checked });\n            return;\n        }\n        const value = isNaN(e.target.value) ? e.target.value : parseFloat(e.target.value);\n        changeCallback({ ...obj, [e.target.dataset.name || e.target.id || e.target.name]: value });\n    }, [changeCallback, obj]);\n}\n\nexport function useJsonEffect(state, props, onChange) {\n    useEffect(() => {\n        if (state === props) {\n            return;\n        }\n        if (JSON.stringify(state) !== JSON.stringify(props)) {\n            onChange(state, props);\n        }\n    }, [state, props, onChange]);\n    return state;\n}\n\n/**\n * Fast way to provide a list of options for react-select\n * and store selection as string (list).\n * \n * @param {('biomes'|'dimensions'|'dimension_types'|'features'|'noises'|'surfaces')} category Data category\n * @param {string|string[]} initial Initial selection\n * @param {boolean} [multiple]\n * @returns {[{ value: string, label: string }[], string|string[], function({ value: string }): void]} Options list, currently selected list and his updater\n */\nexport function useKeyedOptionsState(category, initial, multiple) {\n    const options = useKeyedListOptions(category); // Get options\n\n    // Default value for 'multiple' argument\n    if (typeof multiple === 'undefined') {\n        multiple = Array.isArray(initial);\n    }\n\n    // Enhanced use state - usage of options for default value if needed\n    const [selection, setSelection] = useState(initial || function() {\n        if (multiple) {\n            return options.length > 0 ? [options[0].value] : [];\n        }\n        return options.length > 0 ? options[0].value : '';\n    }());\n\n    // End chain react-select change handler\n    const setSelectionFromOptions = useCallback(function(selected) {\n        if (multiple) {\n            setSelection(selected === null ? [] : selected.map(o => o.value));\n        } else {\n            setSelection(selected.value);\n        }\n    }, [multiple]);\n\n    return [options, selection, setSelectionFromOptions];\n}\n\nconst ADD = 'ADD';\nconst UPDATE = 'UPDATE';\nconst REMOVE = 'REMOVE';\nexport const CRUD = { ADD, UPDATE, REMOVE };","import React, { useCallback, useMemo } from 'react';\nimport Select from 'react-select';\nimport { STARTS } from './BiomeDefaults';\nimport { useJsonEffect } from '../../hooks/form';\n\nexport default function BiomeStarts({onChange, starts}) {\n    starts = useJsonEffect(starts || STARTS, starts, onChange);\n\n    const handleChange = useCallback(function(selectedOptions) {\n        onChange(selectedOptions === null ? [] : selectedOptions.map(option => option.value));\n    }, [onChange]);\n\n    const options = useMemo(function() {\n        return [\n            \"pillager_outpost\",\n            \"mineshaft\",\n            \"mineshaft_mesa\",\n            \"mansion\",\n            \"jungle_pyramid\",\n            \"desert_pyramid\",\n            \"igloo\",\n            \"shipwreck\",\n            \"shipwreck_beached\",\n            \"swamp_hut\",\n            \"stronghold\",\n            \"monument\",\n            \"ocean_ruin_cold\",\n            \"ocean_ruin_warm\",\n            \"fortress\",\n            \"nether_fossil\",\n            \"end_city\",\n            \"buried_treasure\",\n            \"bastion_remnant\",\n            \"village_plains\",\n            \"village_desert\",\n            \"village_savanna\",\n            \"village_snovy\",\n            \"village_taiga\",\n            \"ruined_portal\",\n            \"ruined_portal_desert\",\n            \"ruined_portal_jungle\",\n            \"ruined_portal_swamp\",\n            \"ruined_portal_mountain\",\n            \"ruined_portal_ocean\",\n            \"ruined_portal_nether\"\n        ].map(option => ({ value: 'minecraft:' + option, label: 'minecraft:' + option }));\n    }, []);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"starts\">Structures</label>\n        <Select isMulti id=\"starts\" options={options} onChange={handleChange} defaultValue={options.filter(o => starts.includes(o.value))} />\n    </div>;\n}","import React from 'react';\n\nexport function Button ({loading, cat = 'primary', ...buttonProps}) {\n    return <button className={`btn btn--${cat}`} {...buttonProps}></button>\n}\n","import { useState, useRef, useEffect } from \"react\";\n\n/**\n * @param {boolean} initial \n * @returns {[boolean, function(): void]}\n */\nexport function useToggle(initial = false) {\n    const [status, setState] = useState(initial);\n    const toggle = function (e = null) {\n        if (e !== null && (typeof e === 'boolean' || typeof e.target.checked === 'boolean')) {\n            setState(typeof e === 'boolean' ? e : e.target.checked);\n            return;\n        }\n        \n        if (e !== null && typeof e.preventDefault === 'function') {\n            e.preventDefault();\n        }\n        setState(current => !current);\n    }\n    return [status, toggle];\n}\n\n/**\n * @param {function(HTMLCanvasElement, CanvasRenderingContext2D): void} callback\n * @returns {React.MutableRefObject}\n */\nexport function useCanvas(callback) {\n    const reference = useRef(null);\n\n    useEffect(function() {\n        const canvas = reference.current;\n        const ctx = canvas.getContext('2d');\n        callback(canvas, ctx);\n    }, [callback]);\n\n    return reference;\n}","import React, { useState, useCallback, useRef, useMemo, useContext, useEffect } from 'react';\nimport { useToggle } from '../hooks/ui';\nimport Select from 'react-select';\nimport { useKeyedListOptions } from '../hooks/context';\nimport { DataContext } from '../context/DataContext';\nimport { Button } from '../ui/Button';\n\nexport function NamespacedKey({ example = 'daily_resource', type, value = '', onChange, expectBreakage = false, mayReplaceVanilla = false }) {\n    // To trigger form submit\n    const hidden = useRef(null);\n\n    // Final namespaced key\n    const [key, setKey] = useState(value);\n\n    const options = useKeyedListOptions(type, false, !mayReplaceVanilla);\n\n    const defaultNamespace = useContext(DataContext).namespace;\n    const [replace, toggle] = useToggle(options.some(o => key === o.value));\n\n    // Adjust value with default namespace if needed\n    const handleKeyChange = useCallback(function (e) {\n        const value = e.target.value.toLowerCase();\n        if (value.includes(':')) {\n            setKey(value);\n        } else {\n            setKey(defaultNamespace + ':' + value);\n        }\n    }, [defaultNamespace, setKey]);\n\n    const handleReplaceTargetChange = useCallback((selected) => setKey(selected.value), [setKey]);\n\n    // Fire onChange\n    useEffect(function() {\n        if (typeof onChange === 'function' && key !== value) {\n            onChange(key);\n        }\n    }, [key, onChange, value]);\n\n    // Allow form submit by pressing enter\n    const handleKeyDown = useCallback(function (e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            const form = hidden.current.form;\n            if (form !== null) {\n                form.dispatchEvent(new Event('submit', { cancelable: true }));\n            }\n        }\n    }, []);\n\n    // Remove the \"minecraft:\" part when changing mode\n    const handleToggle = useCallback(function (e) {\n        if (replace && key.startsWith('minecraft:')) {\n            setKey(key => defaultNamespace + ':' + key.split(':')[1]);\n        }\n        toggle(e);\n    }, [defaultNamespace, key, setKey, replace, toggle]);\n\n    // Displayed input value - trim namespace if default\n    const inputValue = useMemo(function () {\n        if (key.startsWith(defaultNamespace + ':')) {\n            return key.split(':')[1];\n        }\n        return key;\n    }, [defaultNamespace, key]);\n\n    // Hidden input value - set to empty when nothing is selected (keeps the key from text mode)\n    const hiddenInputValue = useMemo(function () {\n        if (replace && !options.some(o => o.value === key)) {\n            return '';\n        }\n        return key;\n    }, [key, options, replace]);\n\n    // Adapt select width to its content\n    const style = useMemo(function () {\n        return { width: 8 * Math.max.apply(Math, options.map(o => o.label.length)) + 60 };\n    }, [options]);\n\n    const dummyOnChange = useCallback(console.log, []);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"key\">{replace ? 'Replace' : 'Key'}</label> :\n        {replace && <div className=\"inbl mls\" id=\"key\" style={style}>\n            <Select options={options} value={options.find(o => key === o.value)} onChange={handleReplaceTargetChange} />\n        </div>}\n        {!replace && <div className=\"inbl mls\">\n            <input type=\"text\" id=\"key\" required pattern=\"^([\\w.-]+:[\\w.-]+)$|^[\\w.-]+$\" placeholder={`Example: ${example}`}\n                autoCapitalize=\"none\" spellCheck=\"false\" autoComplete=\"off\" value={inputValue}\n                onChange={handleKeyChange} onKeyPress={handleKeyDown} />\n        </div>}\n        <input type={replace ? 'text' : 'hidden'} name=\"key\" value={hiddenInputValue} onChange={dummyOnChange} ref={hidden}\n            required tabIndex=\"-1\" style={{ opacity: 0, height: 0, position: 'absolute' }} />\n        {mayReplaceVanilla && <Button cat=\"info mlm\" onClick={handleToggle}>{replace ? 'Create a new one' : 'Replace vanilla'}</Button>}\n        \n        {expectBreakage && value !== key &&\n            <p className=\"alert--warning\">Warning: changing the name of a resource may break other resources that depend on it.</p>\n        }\n        {!mayReplaceVanilla && !replace && key.startsWith('minecraft:') &&\n            <p className=\"alert--warning\">Warning: datapacks cannot currently replace vanilla {type}.</p>\n        }\n    </div>;\n}","export function hexColorToInteger(color) {\n    return parseInt(color.replace(/^#/, ''), 16);\n}\n\nexport function integerColorToHex(color) {\n    return '#' + (color & 0xFFFFFF).toString(16).padStart(6, '0');\n}","import React, { useEffect } from 'react';\nimport { hexColorToInteger, integerColorToHex } from '../utils/color';\n\nexport const ConfInput = React.memo(function ({\n    attr, type,\n    checked, defaultChecked,\n    children,\n    name, id,\n    onChange,\n    value, defaultValue,\n    min, max, step,\n    className, style\n}) {\n\n    const uId = name || Math.random().toString(36).substr(2, 5) + '-' + id;\n\n    if (type === 'checked' || typeof checked !== 'undefined' || typeof defaultChecked !== 'undefined') {\n        return <div className={className}>\n            <label htmlFor={uId}>{children}</label> : <input type={type || 'checkbox'} data-name={name || id} name={name} id={uId} className=\"checkbox\" {...{ ...attr, checked, defaultChecked, onChange, value, style }} />\n        </div>\n    }\n    return <div className={className}>\n        <label htmlFor={uId}>{children}</label> : <input type={type || (isNaN(typeof value === 'undefined' ? defaultValue : value) ? 'text' : 'number')} data-name={name || id} name={name} id={uId} {...{ ...attr, onChange, value, defaultValue, min, max, step, style }} />\n    </div>\n});\n\nexport const NumberInput = React.memo(function ({\n    className, style, children, defaultValue = 0,\n    id, name, onChange, upChange,\n    required = true, value,\n    type, step, min = 0, max\n}) {\n\n    const handleChange = function(e) {\n        const value = e.target.value;\n\n        if (type === 'color') {\n            if (typeof upChange === 'function') {\n                upChange({ [id || name]: hexColorToInteger(value) });\n            } else if (typeof onChange === 'function') {\n                onChange(hexColorToInteger(value));\n            }\n            return;\n        }\n\n        const parse = typeof step === 'undefined' ? parseInt : parseFloat;\n        if (value !== '' && !isNaN(value)) {\n            if (typeof upChange === 'function') {\n                upChange({ [id || name]: parse(value) });\n            } else if (typeof onChange === 'function') {\n                onChange(parse(value));\n            }\n        }\n    };\n    \n    if (required && typeof value !== 'number' && defaultValue !== 0) {\n        useEffect(() => {\n            if (typeof upChange === 'function') {\n                upChange({ [id || name]: parseFloat(defaultValue) });\n            } else if (typeof onChange === 'function') {\n                onChange(parseFloat(defaultValue));\n            }\n        }, [defaultValue, id, name, onChange, upChange]);\n    }\n    value = type === 'color' ? integerColorToHex(value) : (typeof value === 'number' ? value : defaultValue);\n    return <ConfInput id={id} name={name} className={className}\n        step={step} min={min} max={max} type={type} style={style}\n        value={value} onChange={handleChange} required={required}>\n            {children}\n    </ConfInput>\n})","import React, { useContext, useEffect, useMemo, useCallback } from 'react';\nimport Select from 'react-select';\nimport { useCrudPreset, useJsonEffect } from \"../../hooks/form\";\nimport { useToggle } from '../../hooks/ui';\nimport { Button } from '../../ui/Button';\nimport { DataContext } from '../../context/DataContext';\nimport { SPAWNERS_DEFAULTS } from './BiomeDefaults';\nimport { NumberInput } from '../../ui/Input';\n\nexport function BiomeSpawners({onChange, data}) {\n\n    const spawners = useJsonEffect(data || SPAWNERS_DEFAULTS, data, onChange);\n    const entities = useContext(DataContext).vanilla.entities;\n\n    const handleChange = useCallback(function(group, groupSpawners) {\n        onChange({ ...spawners, [group]: groupSpawners });\n    }, [spawners, onChange]);\n\n    return <div>\n        <SpawnGroup group=\"ambient\" data={spawners.ambient} onChange={handleChange} entities={entities}>Ambient</SpawnGroup>\n        <SpawnGroup group=\"creature\" data={spawners.creature} onChange={handleChange} entities={entities}>Creature</SpawnGroup>\n        <SpawnGroup group=\"misc\" data={spawners.misc} onChange={handleChange} entities={entities}>Miscellaneous</SpawnGroup>\n        <SpawnGroup group=\"monster\" data={spawners.monster} onChange={handleChange} entities={entities}>Monster</SpawnGroup>\n        <SpawnGroup group=\"water_ambient\" data={spawners.water_ambient} onChange={handleChange} entities={entities}>Water ambient</SpawnGroup>\n        <SpawnGroup group=\"water_creature\" data={spawners.water_creature} onChange={handleChange} entities={entities}>Water creature</SpawnGroup>\n    </div>;\n}\n\nfunction SpawnGroup({children, entities, data = [], group, onChange}) {\n    const [visibility, toggle] = useToggle();\n    const text = visibility ? 'Less...' : 'More...';\n\n    const [spawners, insert, handleChange, handleRemove] = useCrudPreset(data, function(spawners) {\n        // Get the first non taken entity\n        return { type: (entities.filter(o => !spawners.some(s => s.type === o.value))[0] || { value: 'minecraft:cow' }).value, minCount: 1, maxCount: 1, weight: 1 };\n    }, true);\n\n    const handleAdd = useCallback(function(e) {\n        insert(e);\n        if (!visibility) {\n            toggle();\n        }\n    }, [insert, toggle, visibility]);\n\n    useEffect(function() {\n        if (spawners !== group) {\n            onChange(group, spawners);\n        }\n    }, [group, onChange, spawners]);\n\n    if (visibility) {\n        return <div>\n            <div className=\"toggle-label\">\n                {children}\n                <div className=\"btn-group\">\n                    {entities.length > spawners.length && <Button onClick={handleAdd}>Add</Button>}\n                    {spawners.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{text}</Button>} \n                </div>\n            </div>\n            {spawners.map((spawner, index) => {\n                const options = entities.filter(o => spawner.type === o.value || !spawners.some(s => s.type === o.value));\n                return <SpawnDefinition data={spawner} key={spawner.type} onChange={handleChange} onDelete={handleRemove} index={index} options={options} />;\n            })}\n        </div>;\n    }\n    \n    return <div className=\"toggle-label\">\n        {children}\n        <div className=\"btn-group\">\n            {spawners.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{text}</Button>}\n            {(spawners.length < 1) && <Button onClick={handleAdd}>Add</Button>}\n        </div>\n    </div>;\n}\n\nconst SpawnDefinition = React.memo(function({data, index, options, onChange, onDelete}) {\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ ...data, type: option.value }, data);\n    }, [data, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...data, ...value }, data);\n    }, [data, onChange]);\n    const handleCountChange = function(count) {\n        const name = Object.keys(count)[0];\n        const value = count[name];\n        if ((name === 'minCount' && value <= data.maxCount)\n            || (name === 'maxCount' && value >= data.minCount)) {\n                onChange({ ...data, [name]: value }, data);\n        } \n    };\n    const handleDelete = useCallback(function(e) {\n        onDelete(e, index);\n    }, [index, onDelete]);\n\n    const selectedOption = useMemo(function() {\n        return options.find(o => o.value === data.type);\n    }, [data.type, options]);\n\n    return <div>\n        <div className=\"form-group\">\n            <label>Mob type</label> : <Select options={options} value={selectedOption} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"weight\" value={data.weight} upChange={handleValueChange}>Weight</NumberInput>\n            <NumberInput id=\"minCount\" value={data.minCount} upChange={handleCountChange}>Min count</NumberInput>\n            <NumberInput id=\"maxCount\" value={data.maxCount} upChange={handleCountChange}>Max count</NumberInput>\n            <div className=\"form-inline\"><Button cat=\"danger\" onClick={handleDelete}>Delete</Button></div>\n        </div>\n        <hr /> \n    </div>\n});\n","import React, { useCallback, useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport { FEATURES } from './BiomeDefaults';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport default function GenFeatures({ onChange, features = FEATURES }) {\n\n    const [levels, setLevels] = useState(features);\n\n    const handleLevelChange = useCallback(function(priority, list) {\n        setLevels(levels => {\n            levels[priority] = list;\n            return levels;\n        })\n        onChange(levels);\n    }, [levels, onChange]);\n\n    useEffect(function() {\n        onChange(levels);\n    }, [levels, onChange]);\n\n    const elements = [];\n    levels.forEach((level, i) => {\n        elements.push(<li key={i}><GenFeaturesLevel value={level} onChange={handleLevelChange} priority={i} /></li>);\n    });\n    return <div className=\"form-group\">\n        <label>Features</label>\n        <p className=\"help\"><small className=\"text-muted\">Each generation feature is associated with a priority. The higher the priority, the later the feature will be applied.</small></p>\n        <ol>{elements}</ol>\n    </div>;\n}\n\nfunction GenFeaturesLevel({ onChange, priority, value }) {\n    const options = useKeyedListOptions('features');\n\n    const handleChange = useCallback(function(selectedOptions) {\n        onChange(priority, selectedOptions === null ? [] : selectedOptions.map(option => option.value));\n    }, [onChange, priority]);\n\n    return <Select isMulti options={options} onChange={handleChange} defaultValue={options.filter(o => value.includes(o.value))} />;\n}","import React, { useCallback, useContext, useMemo } from \"react\";\nimport Select from \"react-select\";\nimport { DataContext } from \"../../context/DataContext\";\nimport { Button } from '../../ui/Button';\nimport { getStateValue } from \"../../utils/data\";\nimport { useEffect } from \"react\";\nimport { useCrudPreset, useBlocksOptions } from \"../../hooks/form\";\nimport { ConfInput, NumberInput } from \"../../ui/Input\";\n\nexport const BlockState = React.memo(function ({ block = {}, children, name, onChange, options }) {\n    const context = useContext(DataContext);\n\n    const handleTypeChange = useCallback(function (option) {\n        const Name = option.value;\n        const Properties = {};\n        (context.vanilla.blocks.find(b => 'minecraft:' + b.name === Name) || { states: [] }).states.forEach(state => {\n            Properties[state.name] = getStateValue(state);\n        })\n        delete block.Properties;\n        if (Object.keys(Properties).length > 0) {\n            onChange({ ...block, Name, Properties });\n        } else {\n            onChange({ ...block, Name });\n        }\n    }, [block, context.vanilla.blocks, onChange]);\n    const handlePropertiesChange = useCallback(function (properties) {\n        onChange({ ...block, Properties: { ...block.Properties, ...properties } });\n    }, [block, onChange]);\n\n    const blocks = useMemo(function () {\n        if (typeof options === 'undefined') {\n            return context.vanilla.blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n        }\n        return options;\n    }, [context.vanilla.blocks, options]);\n\n    const selected = useMemo(function () {\n        return blocks.find(o => o.value === block.Name);\n    }, [blocks, block.Name]);\n\n    return <div className=\"form-group\">\n        <div className=\"form-row\">\n            <div style={{ flexGrow: 1 }}><Select options={blocks} value={selected} name={name} onChange={handleTypeChange} /></div>\n            {children}\n        </div>\n        <BlockStateProperties block={block.Name} properties={block.Properties} onChange={handlePropertiesChange} />\n    </div>;\n});\n\nexport const BlocksList = React.memo(function ({ list, onChange }) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(list, function (blocks) {\n        // Get the first non taken block name\n        return { Name: (options.find(o => !blocks.some(b => b.Name === o.value)) || { value: 'minecraft:stone' }).value };\n    });\n\n    const handleStateChange = useCallback(function (state, i) {\n        handleChange(state, blocks[i]);\n    }, [blocks, handleChange]);\n\n    useEffect(() => {\n        if (blocks !== list) {\n            onChange(blocks);\n        }\n    }, [blocks, list, onChange]);\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block.Name || !blocks.some(d => d.Name === o.value));\n            return <BlockState block={block} options={filteredOptions} key={block.Name} onChange={state => handleStateChange(state, i)}>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, i)}>Remove</Button>\n            </BlockState>\n        })}\n        <Button onClick={handleAdd}>Add block</Button>\n    </div>;\n});\n\nfunction BlockStateProperties({ block, children, onChange, properties = {} }) {\n    const states = (useContext(DataContext).vanilla.blocks.find(b => 'minecraft:' + b.name === block) || { states: [] }).states;\n\n    const handlePropertyChange = useCallback(function (option) {\n        onChange({ ...properties, [option.name]: option.value });\n    }, [onChange, properties]);\n    const handleCheckboxChange = useCallback(function (e) {\n        const value = e.target.checked.toString();\n        onChange({ ...properties, [e.target.dataset.name]: value });\n    }, [onChange, properties]);\n\n    const selects = [];\n    states.forEach(possible => {\n        switch (possible.type) {\n            case 'bool':\n                selects.push(\n                    <ConfInput key={possible.name} id={possible.name}\n                        checked={properties[possible.name] === 'true'}\n                        onChange={handleCheckboxChange}>\n                            {possible.name}\n                    </ConfInput>\n                );\n                break;\n            case 'int':\n                selects.push(\n                    <NumberInput key={possible.name} id={possible.name}\n                        value={properties[possible.name] || 0} upChange={onChange}\n                        min=\"0\" max={possible.num_values - 1}>\n                            {possible.name}\n                    </NumberInput>\n                );\n                break;\n            default:\n                const options = possible.values.map(value => ({ value, name: possible.name, label: value }));\n                const defaultValue = options.find(o => o.value === properties[possible.name]) || options[0];\n                selects.push(<div key={possible.name}>\n                    <label>{possible.name}</label> : <div className=\"inbl\">\n                        <Select options={options} value={defaultValue} onChange={handlePropertyChange} />\n                    </div>\n                </div>);\n        }\n    });\n    return <div className=\"form-group form-row\">\n        {selects}{children}\n    </div>;\n}","import React, { useState, useEffect, useCallback } from 'react';\nimport { EFFECTS, PARTICLES, PARTICLE_DEFAULTS } from './BiomeDefaults';\nimport { useToggle } from '../../hooks/ui';\nimport { NumberInput, ConfInput } from '../../ui/Input';\nimport Select from 'react-select';\nimport { BlockState } from '../state/BlockState';\nimport { useJsonEffect } from '../../hooks/form';\n\nexport function BiomeEffects({effects, onChange}) {\n\n    const [colors, setColors] = useState(effects || EFFECTS);\n    const [blockColor, toggleBlockColor] = useToggle(colors.hasOwnProperty('foliage_color') || colors.hasOwnProperty('grass_color'));\n    const [particle, toggleParticle] = useToggle(colors.hasOwnProperty('particle'));\n\n    const handleColorChange = useCallback(function(color) {\n        setColors(colors => ({ ...colors, ...color }));\n    }, []);\n    const handleParticleChange = useCallback(function(particle) {\n        setColors(colors => ({ ...colors, particle }));\n    }, []);\n\n    useEffect(function () {\n        const next = { ...colors };\n        if (!blockColor) {\n            delete next.foliage_color;\n            delete next.grass_color;\n        }\n        if (!particle) {  \n            delete next.particle;\n        }\n        onChange(next);\n    }, [blockColor, colors, effects, onChange, particle]);\n\n    return <fieldset>\n        <legend>Biome effects</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput type=\"color\" id=\"sky_color\" value={colors.sky_color} upChange={handleColorChange}>Sky color</NumberInput>\n            <NumberInput type=\"color\" id=\"fog_color\" value={colors.fog_color} upChange={handleColorChange}>Fog color</NumberInput>\n            <NumberInput type=\"color\" id=\"water_color\" value={colors.water_color} upChange={handleColorChange}>Water color</NumberInput>\n            <NumberInput type=\"color\" id=\"water_fog_color\" value={colors.water_fog_color} upChange={handleColorChange}>Water fog color</NumberInput>\n            {blockColor && <>\n                <NumberInput type=\"color\" id=\"foliage_color\" value={colors.foliage_color || 10387789} upChange={handleColorChange}>Foliage color</NumberInput>\n                <NumberInput type=\"color\" id=\"grass_color\" value={colors.grass_color  || 9470285} upChange={handleColorChange}>Grass color</NumberInput>\n            </>}\n            <ConfInput id=\"block-toggle\" checked={blockColor} onChange={toggleBlockColor}>Optionals</ConfInput>\n            <ConfInput id=\"particle\" checked={particle} onChange={toggleParticle}>Particle</ConfInput>\n        </div>\n        {particle && <ParticleEffect particle={colors.particle} onChange={handleParticleChange} />}\n    </fieldset>\n}\n\nfunction ParticleEffect({onChange, particle}) {\n\n    particle = useJsonEffect(particle || PARTICLE_DEFAULTS, particle, onChange);\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ ...particle, options: { type: option.value } });\n    }, [particle, onChange]);\n    const handleBlockChange = useCallback(function(block) {\n        onChange({ ...particle, options: { ...particle.options, ...block } });\n    }, [particle, onChange]);\n    const handleColorChange = useCallback(function(color) {\n        onChange({ ...particle, options: { ...particle.options, ...color } });\n    }, [particle, onChange]);\n    const handleScaleChange = useCallback(function(scale) {\n        onChange({ ...particle, options: { ...particle.options, scale } });\n    }, [particle, onChange]);\n    const handleProbabilityChange = useCallback(function(probability) {\n        onChange({ ...particle, probability });\n    }, [particle, onChange]);\n\n    const o = particle.options;\n    return <div className=\"form-group form-row\">\n        <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={PARTICLES} value={PARTICLES.find(op => o.type === op.value)} onChange={handleTypeChange} /></div>\n        {(o.type === 'minecraft:block' || o.type === 'minecraft:falling_dust') && <div style={{ flexGrow: 1 }}><BlockState block={o} onChange={handleBlockChange} /></div>}\n        {o.type === 'minecraft:dust' && <>\n            <DustColor r={o.r} g={o.g} b={o.b} onChange={handleColorChange} />\n            <NumberInput id=\"scale\" value={o.scale} onChange={handleScaleChange} defaultValue=\"1\" step=\"0.1\" className=\"mls\">Scale</NumberInput>\n        </>}\n        <NumberInput id=\"probability\" value={particle.probability} onChange={handleProbabilityChange} step=\"0.005\" className=\"mlm\">Probability</NumberInput>\n    </div>\n}\n\nfunction DustColor({ r, g, b, onChange }) {\n    const handleColorChange = useCallback(function(color) {\n        const r = ((color >> 16) & 0xFF) / 0xFF;\n        const g = ((color >> 8) & 0xFF) / 0xFF;\n        const b = (color & 0xFF) / 0xFF;\n        onChange({ r, g, b });\n    }, [onChange]);\n\n    let value = undefined;\n    if (typeof r === 'number' && typeof g === 'number' && typeof b === 'number') {\n        r = (r * 0xFF) & 0xFF;\n        g = (g * 0xFF) & 0xFF;\n        b = (b * 0xFF) & 0xFF;\n        value = ((r << 16) | (g << 8) | b);\n    }\n\n    return <NumberInput type=\"color\" value={value} defaultValue={0x38470} onChange={handleColorChange} className=\"mls\">Color</NumberInput>\n}","import React, { useCallback, useState } from 'react';\nimport BiomeStarts from './BiomeStarts';\nimport Select from 'react-select';\nimport { Button } from '../../ui/Button';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { BiomeSpawners } from './BiomeSpawners';\nimport GenFeatures from './Features';\nimport { BiomeEffects } from './BiomeEffects';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport function Biome({data = {}, onSave}) {\n\n    const [state, setState] = useState(data);\n\n    const handleStartsChange = useCallback(function(starts) {\n        setState(state => {\n            state.starts = starts;\n            return state;\n        });\n    }, []);\n\n    const handleEffectsChange = useCallback(function(effects) {\n        setState(state => {\n            state.effects = effects;\n            return state;\n        });\n    }, []);\n\n    const handleFeaturesChange = useCallback(function(features) {\n        setState(state => {\n            state.features = features;\n            return state;\n        });\n    }, []);\n\n    const handleSpawnersChange = useCallback(function(spawners) {\n        setState(state => {\n            state.spawners = spawners;\n            return state;\n        });\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const formData = Object.fromEntries(new FormData(e.target));\n        const data = { ...state, ...formData };\n        data.spawn_costs = {};\n        data.carvers =  {\n            air: [\n              \"minecraft:cave\",\n              \"minecraft:canyon\"\n            ]\n        }; // @todo\n        Object.keys(formData).forEach(function(key) {\n            if (!isNaN(formData[key])) {\n                data[key] = parseFloat(formData[key]);\n            }\n        });\n        onSave(data);\n    }, [onSave, state]);\n\n    return <form onSubmit={handleSubmit}>\n        <h3>Edit biome</h3>\n        <NamespacedKey example=\"arctic\" type=\"biomes\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} />\n\n        <BiomeEffects effects={state.effects} onChange={handleEffectsChange} />\n\n        <fieldset>\n            <BiomeCategory category={data.category} />\n            <BiomePrecipitation value={data.precipitation} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Generation</legend>\n            <SurfaceBuilder value={data.surface_builder} />\n            <BiomeStarts onChange={handleStartsChange} starts={state.starts} />\n            <GenFeatures features={state.features} onChange={handleFeaturesChange} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Creatures</legend>\n            <BiomeSpawners data={state.spawners} onChange={handleSpawnersChange} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <div><label htmlFor=\"scale\">Scale</label> : <input type=\"number\" name=\"scale\" step=\"0.05\" required defaultValue={data.scale || 0.05} /></div>\n                <div><label htmlFor=\"downfall\">Downfall</label> : <input type=\"number\" name=\"downfall\" step=\"0.1\" required defaultValue={data.downfall || 0.4} /></div>\n                <div><label htmlFor=\"depth\">Depth</label> : <input type=\"number\" name=\"depth\" step=\"0.01\" required defaultValue={data.depth || 0.12} /></div>\n                <div><label htmlFor=\"temperature\">Temperature</label> : <input type=\"number\" name=\"temperature\" step=\"0.1\" required defaultValue={data.temperature || 0.8} /></div>\n                <p className=\"mts\"><small className=\"text-muted\">The <em>scale</em> parameter defines terrain amplitude, <em>downfall</em> controls grass and foliage color, <em>depth</em> is the difference from sea level, <em>temperature</em> controls some gameplay features like whether snow golems take damage. The default values are those of the plains biome.</small></p>\n            </div>\n        </fieldset>\n        <div className=\"form-group mlm mbm\">\n            <Button type=\"submit\">Save</Button>\n        </div>\n    </form>;\n}\n\nfunction BiomeCategory({category = 'plains'}) {\n\n    const options = [\n        { value: 'beach', label: 'Beach' },\n        { value: 'desert', label: 'Desert' },\n        { value: 'extreme_hills', label: 'Extreme hills' },\n        { value: 'forest', label: 'Forest' },\n        { value: 'icy', label: 'Icy' },\n        { value: 'jungle', label: 'Jungle' },\n        { value: 'mesa', label: 'Mesa' },\n        { value: 'nether', label: 'Nether' },\n        { value: 'none', label: 'None' },\n        { value: 'ocean', label: 'Ocean' },\n        { value: 'plains', label: 'Plains' },\n        { value: 'river', label: 'River' },\n        { value: 'savanna', label: 'Savanna' },\n        { value: 'swamp', label: 'Swamp' },\n        { value: 'taiga', label: 'Taiga' },\n        { value: 'the_end', label: 'The end' },\n    ];\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"category\">Category</label>\n        <Select options={options} defaultValue={options.find(o => o.value === category)} name=\"category\" />\n    </div>;\n}\n\nfunction BiomePrecipitation({value = 'rain'}) {\n\n    const options = [\n        { value: 'none', label: 'None' },\n        { value: 'rain', label: 'Rain' },\n        { value: 'snow', label: 'Snow' }\n    ];\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"precipitation\">Precipitation</label>\n        <Select options={options} defaultValue={options.find(o => o.value === value)} name=\"precipitation\" />\n    </div>;\n}\n\nfunction SurfaceBuilder({value = 'minecraft:grass'}) {\n    const options = useKeyedListOptions('surfaces');\n    return <div className=\"form-group\">\n        <label htmlFor=\"surface_builder\">Surface builder</label>\n        <Select options={options} defaultValue={options.find(o => o.value === value)} name=\"surface_builder\" />\n    </div>;\n}\n","import React from 'react';\n\nexport function MenuItem({active, children, onClick}) {\n    const className = 'tabs-menu-link' + (active ? ' is-active' : '');\n    return <a href=\"#_\" className={className} onClick={onClick}>{children}</a>\n}","import React from 'react';\nimport Select from 'react-select';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport function DimensionType({type = 'minecraft:overworld'}) {\n    const options = useKeyedListOptions('dimension_types');\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"dimension-type\">Dimension type</label>\n        <Select name=\"dimension-type\" options={options} defaultValue={options.find(o => o.value === type) || options[0]} />\n    </div>;\n}\n","import React from 'react';\n\nexport const NumberList = React.memo(function ({ numbers = [], onChange }) {\n\n    const handleChange = function(val, pos) {\n        onChange(numbers.map((n, i) => i === pos ? val : n));\n    };\n\n    return <div className=\"flex-container\">\n        {numbers.map((n, i) => <NumberInput key={i} number={n} onChange={(n) => handleChange(n, i)} />)}\n    </div>\n});\n\nconst NumberInput = React.memo(function ({ number, onChange }) {\n    return <input type=\"number\" value={number} onChange={e => onChange(parseInt(e.target.value))} />\n});","import React, { useState, useCallback, useContext, useEffect } from 'react';\nimport Select from 'react-select';\nimport { SeedField } from './DimensionGenerator';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useMemo } from 'react';\nimport { useCrud, CRUD, useNumber, useKeyedOptionsState } from '../../hooks/form';\nimport { useToggle } from '../../hooks/ui';\nimport { DataContext } from '../../context/DataContext';\nimport { Button } from '../../ui/Button';\nimport { capitalize, hasDuplicatedObjects } from '../../utils/data';\nimport { NumberList } from '../../ui/NumberList';\nimport { MULTI_NOISE_BIOME_SOURCE, NOISES_NAMES } from './DimensionDefaults';\n\nexport function BiomeSource({biome_source = { type: 'minecraft:fixed' }, onChange}) {\n    const [source, setSource] = useState(biome_source);\n\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:checkerboard', label: 'Checkerboard' },\n            { value: 'minecraft:fixed', label: 'Fixed' },\n            { value: 'minecraft:multi_noise', label: 'Multi noise' },\n        ];\n    }, []);\n\n    const handleSeedChange = useCallback(function(seed) {\n        setSource(source => ({ ...source, seed }));\n    }, []);\n    const handleTypeChange = useCallback(function(option) {\n        setSource(source => ({ type: option.value, seed: source.seed }));\n    }, []);\n    const handleCheckerboardSourceChange = useCallback(function(settings) {\n        setSource(source => ({ ...source, ...settings }));\n    }, []);\n    const handleFixedSourceChange = useCallback(function(biome) {\n        setSource(source => ({ ...source, biome }));\n    }, []);\n    const handleMultiSourceChange = useCallback(function(s) {\n        setSource(source => ({ ...source, ...s }));\n    }, []);\n\n    useEffect(() => onChange(source), [onChange, source]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === source.type);\n    }, [options, source.type]);\n\n    return <fieldset>\n        <legend>Biome source</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"biome-source-type\">Type</label><Select id=\"biome-source-type\" options={options} value={selected} onChange={handleTypeChange} />\n        </div>\n        <SeedField value={source.seed} onChange={handleSeedChange} />\n        <hr />\n        {source.type === 'minecraft:checkerboard' && <CheckerboardBiomeSource source={source} onChange={handleCheckerboardSourceChange} />}\n        {source.type === 'minecraft:fixed' && <FixedBiomeSource source={source.biome} onChange={handleFixedSourceChange} />}\n        {source.type === 'minecraft:multi_noise' && <MultiNoiseBiomeSource source={source} onChange={handleMultiSourceChange} />}\n    </fieldset>\n}\n\nconst CheckerboardBiomeSource = React.memo(function({source, onChange}) {\n    const [options, biomes, setBiomes] = useKeyedOptionsState('biomes', source.biomes, true);\n    const [scale, setScale] = useNumber(source.scale);\n\n    useEffect(() => onChange({ biomes, scale }), [biomes, onChange, scale]);\n\n    return <div className=\"form-group\">\n        <div className=\"form-group\">\n            <label htmlFor=\"biomes\">Biomes</label><Select options={options} isMulti isClearable={false} value={options.filter(o => biomes.includes(o.value))} onChange={setBiomes} id=\"biomes\" />\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"scale\">Scale (squares of 2<sup>scale</sup> chunks) : </label><input type=\"number\" id=\"scale\" value={scale} onChange={setScale} min=\"0\" />\n        </div>\n        {biomes.length < 1 && <p className=\"alert--warning\">Warning: a dimension must contain at least one biome!</p>}\n    </div>;\n});\n\nconst FixedBiomeSource = React.memo(function({source = 'minecraft:plains', onChange}) {\n    const [options, biome, setBiome] = useKeyedOptionsState('biomes', source);\n    useEffect(() => onChange(biome), [biome, onChange]);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"fixed-biome\">Biome</label><Select options={options} value={options.find(o => o.value === biome)} onChange={setBiome} />\n    </div>;\n});\n\nconst MultiNoiseBiomeSource = React.memo(function({source = MULTI_NOISE_BIOME_SOURCE, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const [biomes, dispatch] = useCrud(source.biomes);\n\n    const [advanced, toggleAdvanced] = useToggle();\n    const handleNoiseChange = useCallback(function(type, noise) {\n        onChange(({ ...source, [type]: noise }));\n    }, [source, onChange]);\n\n    const handleAddClick = useCallback(function(e) {\n        e.preventDefault();\n        dispatch({ type: CRUD.ADD, payload: { biome: 'minecraft:plains', parameters: {\n            altitude: 0,\n            weirdness: 0,\n            offset: 0,\n            temperature: 0.8,\n            humidity: 0.4\n        } } });\n    }, [dispatch]);\n    const handleChange = useCallback(function(state, previous) {\n        dispatch({ type: CRUD.UPDATE, target: previous, payload: state });\n    }, [dispatch]);\n    const handleDeleteClick = useCallback(function(e, index) {\n        e.preventDefault();\n        dispatch({ type: CRUD.REMOVE, payload: biomes[index] });\n    }, [biomes, dispatch]);\n\n    const vanilla = useContext(DataContext).vanilla.biomes;\n    const custom = useContext(DataContext).custom.biomes;\n    const namespace = useContext(DataContext).namespace;\n    useEffect(function() {\n        for (const noise of NOISES_NAMES) {\n            if (typeof source[noise] === 'undefined') {\n                onChange({ ...MULTI_NOISE_BIOME_SOURCE, ...source, biomes });\n                return;\n            }\n        }\n        if (biomes !== source.biomes) {\n            onChange({ ...source, biomes });\n        }\n    }, [biomes, onChange, source]);\n\n    const values = [];\n    biomes.forEach((entry, i) => {\n        const key = i;\n        values.push(<BiomeSelection namespace={namespace} vanilla={vanilla} custom={custom} biomesOptions={options} entry={entry} key={key} onChange={handleChange}><Button cat=\"danger\" onClick={(e) => handleDeleteClick(e, i)}>Delete</Button></BiomeSelection>);\n    });\n    return <>\n        <div className=\"flex-container\" style={{ alignItems: 'baseline' }}>\n            <h5>Biomes list</h5>\n            <Button onClick={handleAddClick} cat=\"primary mlm\">Add biome</Button>\n            <Button onClick={toggleAdvanced} cat=\"secondary\">Advanced</Button>\n        </div>\n        {advanced && <div className=\"grid-2-small-1 has-gutter mbm\">\n            {NOISES_NAMES\n                .map(noise => <PerlinNoiseParameters\n                    key={noise}\n                    noise={source[noise] || MULTI_NOISE_BIOME_SOURCE[noise]}\n                    onChange={(n) => handleNoiseChange(noise, n)}>{capitalize(noise.replace('_', ' '))}</PerlinNoiseParameters>)}\n        </div>}\n        {values}\n        {hasDuplicatedObjects(biomes.map(biome => biome.parameters)) && <p className=\"alert--warning\">Warning: every biome must have a unique combination of parameters!</p>}\n    </>;\n});\n\nconst PerlinNoiseParameters = React.memo(function({children, noise = { firstOctave: -7, amplitudes: [1, 1] }, onChange}) {\n\n    const handleFirstOctaveChange = useCallback(function(e) {\n        onChange({ ...noise, firstOctave: parseInt(e.target.value) });\n    }, [noise, onChange]);\n    const handleAmplitudesChange = useCallback(function(amplitudes) {\n        onChange({ ...noise, amplitudes });\n    }, [noise, onChange]);\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <div><label>First octave</label> : <input type=\"number\" name=\"firstOctave\" defaultValue={noise.firstOctave} onChange={handleFirstOctaveChange} /></div>\n            <div className=\"form-row\"><div><label>Amplitudes</label> : </div><NumberList numbers={noise.amplitudes} onChange={handleAmplitudesChange} /></div>\n        </div>\n    </fieldset>;\n});\n\nconst BiomeSelection = React.memo(function({namespace, vanilla, custom, biomesOptions, entry, onChange, children}) {\n    const [selection, setSelection] = useState(entry);\n\n    const handleBiomeChange = useCallback(function(option) {\n        const biome = option.value;\n        const data = (vanilla.find(b => 'minecraft:' + b.name === biome) || custom.find(b => namespace + ':' + b.key === biome) || { rainfall: 0, temperature: 0 });\n        setSelection(selection => {\n            const parameters = {\n                altitude: selection.parameters.altitude || 0,\n                weirdness: selection.parameters.weirdness || 0,\n                offset: selection.parameters.offset || 0,\n                temperature: data.temperature || 0.8,\n                humidity: data.rainfall || 0.4\n            };\n            return { biome, parameters };\n        });\n    }, [custom, namespace, vanilla]);\n\n    const handleParameterChange = useCallback(function(e) {\n        const name = e.target.id;\n        const value = e.target.value;\n        setSelection(selection => {\n            const parameters = { ...selection.parameters, [name]: parseFloat(value) };\n            return { biome: selection.biome, parameters };\n        });\n    }, []);\n\n    useEffect(() => onChange(selection, entry), [entry, onChange, selection]);\n\n    const selected = useMemo(function() {\n        return biomesOptions.find(o => o.value === selection.biome);\n    }, [biomesOptions, selection.biome]);\n    return <div className=\"form-group\">\n        <Select options={biomesOptions} value={selected} onChange={handleBiomeChange} />\n        <div className=\"form-group form-row\">\n            <div><label>Altitude</label> : <input type=\"number\" id=\"altitude\" value={selection.parameters.altitude} onChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\" /></div>\n            <div><label>Weirdness</label> : <input type=\"number\" id=\"weirdness\" value={selection.parameters.weirdness} onChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\" /></div>\n            <div><label>Offset</label> : <input type=\"number\" id=\"offset\" value={selection.parameters.offset} onChange={handleParameterChange} step=\"0.1\" min=\"0\" max=\"1\"  /></div>\n            <div><label>Temperature</label> : <input type=\"number\" id=\"temperature\" value={selection.parameters.temperature} onChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\" /></div>\n            <div><label>Humidity</label> : <input type=\"number\" id=\"humidity\" value={selection.parameters.humidity} onChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\" /></div>\n            {children}\n        </div>\n    </div>\n});\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { BiomeSource } from './BiomeSource';\nimport { hashCode } from './../../utils/hash';\nimport Select from 'react-select';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport function DimensionGenerator({generator, onChange}) {\n    \n    const [data, setData] = useState(generator);\n\n    const handleSeedChange = useCallback(function(seed) {\n        setData(data => {\n            data.seed = seed;\n            return data;\n        });\n        onChange(data);\n    }, [data, onChange]);\n\n    const handleSettingsChange = useCallback(function(settings) {\n        setData(data => {\n            data.settings = settings;\n            return data;\n        });\n        onChange(data);\n    }, [data, onChange]);\n\n    const handleBiomeSourceChange = useCallback(function(biome_source) {\n        setData(data => {\n            data.biome_source = biome_source;\n            return data;\n        });\n        onChange(data);\n    }, [data, onChange]);\n\n    useEffect(function () {\n        onChange(data);\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Noise dimension generator</legend>\n        <div className=\"form-group\">\n            <SeedField value={data.seed} onChange={handleSeedChange} />\n            <Settings settings={data.settings} onChange={handleSettingsChange} />\n            <BiomeSource biome_source={data.biome_source} onChange={handleBiomeSourceChange} />\n        </div>\n    </fieldset>;\n}\n\nexport const SeedField = React.memo(function({onChange, value = 286956243}) {\n    const [text, setText] = useState(value);\n\n    const handleChange = function(e) {\n        const value = e.target.value;\n        setText(value);\n        onChange(isNaN(value) ? hashCode(value) : parseInt(value));\n    };\n\n    return <div className=\"form-group\">\n        <label>Seed</label> : <input type=\"text\" value={text} onChange={handleChange} />\n    </div>\n});\n\nconst Settings = React.memo(function({onChange, settings = 'minecraft:overworld'}) {\n    const handleChange = useCallback(function(option) {\n        onChange(option.value);\n    }, [onChange]);\n\n    const options = useKeyedListOptions('noises');\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"settings\">Settings</label><Select options={options} defaultValue={options.find(o => o.value === settings)} onChange={handleChange} />\n    </div>;\n});","export function hashCode(s) {\n    let hash;\n    for (let i = 0; i < s.length; i++) { \n        hash = Math.imul(31, hash) + s.charCodeAt(i) | 0;\n    }\n    return hash;\n}","import React, { useCallback, useState } from 'react';\nimport { DimensionType } from './DimensionType';\nimport { DimensionGenerator } from './DimensionGenerator';\nimport { Button } from '../../ui/Button';\nimport { DIMENSION } from './DimensionDefaults';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport function Dimension({data = DIMENSION, onSave}) {\n\n    const [state, setState] = useState(data);\n\n    const handleGeneratorChange = useCallback(function(generator) {\n        setState(s => {\n            s.generator = generator;\n            return s;\n        });\n    }, []);\n\n    const handleSubmit = function (e) {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        const data = {...state};\n        data.key = formData.get('key');\n        data.type = formData.get('dimension-type');\n        onSave(data);\n    }\n\n    return <form onSubmit={handleSubmit}>\n        <h3>Edit dimension</h3>\n        <NamespacedKey example=\"blue_dimension\" type=\"dimensions\" value={data.key} mayReplaceVanilla={true} />\n        <DimensionType type={state.type} />\n        <fieldset>\n            <legend>Generator configuration</legend>\n            <DimensionGenerator generator={state.generator} onChange={handleGeneratorChange} />\n        </fieldset>\n        <div className=\"form-group mlm mbm\">\n            <Button type=\"submit\">Save</Button>\n        </div>\n    </form>\n}","import React, { useState, useCallback, useMemo } from \"react\";\nimport Select from \"react-select\";\nimport { Button } from '../../ui/Button';\nimport { NumberInput } from '../../ui/Input';\nimport { useEffect } from \"react\";\nimport { useJsonEffect, useCrudPreset, useBlocksOptions } from \"../../hooks/form\";\nimport { BlockState } from \"./BlockState\";\n\nexport const BlockStateProvider = React.memo(function({block = { type: 'minecraft:simple_state_provider' }, onChange}) {\n    const [provider, setProvider] = useState(block);\n\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:forest_flower_provider', label: 'Forest flower provider' },\n            { value: 'minecraft:plain_flower_provider', label: 'Plain flower provider' },\n            { value: 'minecraft:simple_state_provider', label: 'Simple state provider' },\n            { value: 'minecraft:rotated_block_provider', label: 'Rotated block provider' },\n            { value: 'minecraft:weighted_state_provider', label: 'Weighted state provider' }\n        ];\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        const similarities = ['minecraft:simple_state_provider', 'minecraft:rotated_block_provider'];\n        if (similarities.includes(provider.type) && similarities.includes(option.value)) {\n            setProvider({ ...provider, type: option.value });\n        } else {\n            setProvider({ type: option.value });\n        }\n    }, [provider]);\n\n    const handleSimpleStateChange = useCallback(function(state) {\n        setProvider(provider => ({ ...provider, state }));\n    }, []);\n\n    const handleWeighestStateChange = useCallback(function(entries) {\n        setProvider(provider => ({ ...provider, entries }));\n    }, []);\n\n    useJsonEffect(provider, block, onChange);\n\n    const blocks = useBlocksOptions(false);\n    const filteredBlocks = useMemo(function () {\n        const filtered = provider.type === 'minecraft:rotated_block_provider' ?\n            blocks.filter(b => b.states.some(state => state.name === 'axis')) : blocks;\n        return filtered.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n    }, [blocks, provider.type]);\n\n    return <div>\n        <label>Provider type</label>\n        <Select options={options} value={options.find(o => o.value === provider.type)} onChange={handleTypeChange} />\n        {(provider.type === 'minecraft:simple_state_provider' || provider.type === 'minecraft:rotated_block_provider') && <BlockState block={provider.state} options={filteredBlocks} onChange={handleSimpleStateChange} />}\n        {provider.type === 'minecraft:weighted_state_provider' && <WeightedStateProvider entries={provider.entries} onChange={handleWeighestStateChange} />}\n    </div>\n});\n\n\nconst WeightedStateProvider = React.memo(function({entries = [], onChange}) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(entries, function(blocks) {\n        // Get the first non taken block name\n        return { data: { Name: (options.find(o => !blocks.some(b => b.data.Name === o.value)) || { value: 'minecraft:stone' }).value } };\n    });\n\n    const handleStateChange = useCallback(function(state, i) {\n        handleChange({ ...blocks[i], data: state }, blocks[i]);\n    }, [blocks, handleChange]);\n    const handleWeightChange = useCallback(function(weight, i) {\n        if (weight === 1) {\n            handleChange({ data: blocks[i].data }, blocks[i]);\n        } else {\n            handleChange({ weight, data: blocks[i].data }, blocks[i]);\n        }\n    }, [blocks, handleChange]);\n\n    useEffect(() => {\n        if (blocks !== entries) {\n            onChange(blocks);\n        }\n    }, [blocks, entries, onChange]);\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block.data.Name || !blocks.some(d => d.data.Name === o.value));\n            return <BlockState block={block.data} options={filteredOptions} key={block.data.Name} onChange={state => handleStateChange(state, i)}>\n                <NumberInput id=\"weight\" value={block.weight || 1} min=\"1\" onChange={weight => handleWeightChange(weight, i)} className=\"mlm\">Weight</NumberInput>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, i)}>Remove</Button>\n            </BlockState>\n        })}\n        <Button onClick={handleAdd}>Add block</Button>\n    </div>;\n});","import React, { useCallback, useMemo, useState, useEffect } from 'react';\nimport { BlockStateProvider } from '../state/BlockStateProvider';\nimport Select from 'react-select';\nimport { TREE_DECORATORS_OPTIONS, TREE_FEATURE_CONFIG } from './FeatureDefaults';\nimport { useJsonEffect, useCrud, CRUD } from '../../hooks/form';\nimport { NumberInput } from '../../ui/Input';\nimport { Button } from '../../ui/Button';\n\nexport function TreeFeatureConfig({configuration = TREE_FEATURE_CONFIG, onChange}) {\n\n    const [config, setConfig] = useState(configuration);\n\n    const handleTrunkProviderChange = useCallback(function(trunk_provider) {\n        setConfig(config => ({ ...config, trunk_provider }));\n    }, []);\n    const handleLeavesProviderChange = useCallback(function(leaves_provider) {\n        setConfig(config => ({ ...config, leaves_provider }));\n    }, []);\n    const handleFoliagePlacerChange = useCallback(function(foliage_placer) {\n        setConfig(config => ({ ...config, foliage_placer: { ...config.foliage_placer, ...foliage_placer } }));\n    }, []);\n    const handleTrunkPlacerChange = useCallback(function(trunk_placer) {\n        setConfig(config => ({ ...config, trunk_placer: { ...config.trunk_placer, ...trunk_placer } }));\n    }, []);\n    const handleDecoratorsChange = useCallback(function(decorators) {\n        setConfig(config => ({ ...config, decorators }));\n    }, []);\n    useJsonEffect(config, configuration, onChange);\n\n    return <div>\n        <fieldset>\n            <legend>Trunk provider</legend>\n            <BlockStateProvider block={config.trunk_provider} onChange={handleTrunkProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Leaves provider</legend>\n            <BlockStateProvider block={config.leaves_provider} onChange={handleLeavesProviderChange} />\n        </fieldset>\n        <FoliagePlacer placer={config.foliage_placer} onChange={handleFoliagePlacerChange} />\n        <TrunkPlacer placer={config.trunk_placer} onChange={handleTrunkPlacerChange} />\n        <TreeDecorators data={configuration.decorators} onChange={handleDecoratorsChange}></TreeDecorators>\n    </div>;\n}\n\nconst FoliagePlacer = React.memo(function({placer, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'blob_foliage_placer', label: 'Blob foliage placer' },\n            { value: 'fancy_foliage_placer', label: 'Fancy foliage placer' }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ type: option.value });\n    }, [onChange]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === placer.type) || options[0];\n    }, [options, placer.type]);\n\n    return <fieldset>\n        <legend>Foliage placer</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"foliage_placer_type\">Type</label>\n            <Select options={options} name=\"foliage_placer_type\" value={selected} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"radius\" value={placer.radius} upChange={onChange} max=\"8\">Radius</NumberInput>\n            <NumberInput id=\"offset\" value={placer.offset} upChange={onChange} max=\"8\">Offset</NumberInput>\n            {(placer.type === 'minecraft:blob_foliage_placer' ||\n                placer.type === 'minecraft:bush_foliage_placer' ||\n                placer.type === 'minecraft:fancy_foliage_placer' ||\n                placer.type === 'minecraft:jungle_foliage_placer'\n            ) && <NumberInput id=\"height\" value={placer.height} upChange={onChange} max=\"16\" defaultValue=\"3\">Height</NumberInput>}\n        </div>\n    </fieldset>\n});\n\nconst TrunkPlacer = React.memo(function({placer, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'straight_trunk_placer', label: 'Straight trunk placer' },\n            { value: 'forking_trunk_placer', label: 'Forking trunk placer' },\n            { value: 'giant_trunk_placer', label: 'Giant trunk placer' },\n            { value: 'mega_jungle_trunk_placer', label: 'Mega jungle trunk placer' },\n            { value: 'dark_oak_trunk_placer', label: 'Dark oak trunk placer' },\n            { value: 'fancy_trunk_placer', label: 'Fancy trunk placer' }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ type: option.value });\n    }, [onChange]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === placer.type) || options[0];\n    }, [placer.type, options]);\n\n    return <fieldset>\n        <legend>Trunk placer</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"foliage_placer_type\">Type</label>\n            <Select options={options} name=\"foliage_placer_type\" defaultValue={selected} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"base_height\" value={placer.base_height} upChange={onChange} max=\"32\">Base height</NumberInput>\n            <NumberInput id=\"height_rand_a\" value={placer.height_rand_a} upChange={onChange} max=\"24\">First height rand</NumberInput>\n            <NumberInput id=\"height_rand_b\" value={placer.height_rand_b} upChange={onChange} max=\"24\">Second height rand</NumberInput>\n        </div>\n    </fieldset>\n});\n\nconst TreeDecorators = React.memo(function({data, onChange}) {\n    const [decorators, dispatch] = useCrud(data);\n\n    const handleAddClick = useCallback(function(e) {\n        e.preventDefault();\n        const decorator = TREE_DECORATORS_OPTIONS.find(o => !decorators.some(d => d.type === o.value));\n        if (typeof decorator !== 'undefined') {\n            dispatch({ type: CRUD.ADD, payload: { type: decorator.value } });\n        }\n    }, [decorators, dispatch]);\n    const handleChange = useCallback(function(decorator, previous) {\n        dispatch({ type: CRUD.UPDATE, target: previous, payload: decorator });\n    }, [dispatch]);\n    const handleDeleteClick = useCallback(function(e, index) {\n        e.preventDefault();\n        dispatch({ type: CRUD.REMOVE, payload: decorators[index] });\n    }, [decorators, dispatch]);\n    useJsonEffect(decorators.map(decorator => {\n        delete decorator.index;\n        return decorator;\n    }), data, onChange);\n    \n    return <fieldset>\n        <legend>Tree decorators {decorators.length < 5 && <Button onClick={handleAddClick}>Add decorator</Button>}</legend>\n        {decorators.map((decorator, i) => {\n            const options = TREE_DECORATORS_OPTIONS.filter(o => o.value === decorator.type || !decorators.some(d => d.type === o.value));\n            return <TreeDecorator data={decorator }key={decorator.type} onChange={handleChange} options={options}>\n                <Button cat=\"danger mlm\" onClick={(e) => handleDeleteClick(e, i)}>Remove</Button>\n            </TreeDecorator>\n        })}\n    </fieldset>\n});\n\nconst TreeDecorator = React.memo(function({children, data, options, onChange}) {\n    const [decorator, setDecorator] = useState(data);\n\n    const handleSelectChange = useCallback(function(option) {\n        setDecorator({ type: option.value, ...option.default });\n    }, []);\n    const handleAlterGroundChange = useCallback(function(provider) {\n        setDecorator(decorator => ({ type: decorator.type, provider }));\n    }, []);\n    const handleProbabilityChange = useCallback(function(probability) {\n        setDecorator(decorator => ({ type: decorator.type, probability }));\n    }, []);\n    useEffect(() => {\n        if (decorator !== data) {\n            onChange(decorator, data);\n        }\n    }, [data, decorator, onChange]);\n\n    const CustomTag = ['minecraft:leave_vine', 'minecraft:trunk_vine'].indexOf(decorator.type) < 0 ? 'fieldset' : 'div';\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === decorator.type);\n    }, [decorator.type, options]);\n    return <CustomTag>\n        <legend style={{ fontWeight: 'normal', fontSize: 'inherit' }}>\n            <div style={{ width: '200px', display: 'inline-block' }}><Select options={options} value={selected} onChange={handleSelectChange} /></div>\n            {children}\n        </legend>\n        <div className=\"form-group\">\n            {decorator.type === 'minecraft:alter_ground' && <BlockStateProvider block={decorator.provider} onChange={handleAlterGroundChange} />}\n            {(decorator.type === 'minecraft:beehive' || decorator.type === 'minecraft:cocoa') && <NumberInput id=\"probability\" value={decorator.probability} onChange={handleProbabilityChange} max=\"1\" step=\"0.05\" defaultValue=\"0.05\">Probability</NumberInput>}\n        </div>\n    </CustomTag>\n});","import React, { useCallback, useState, useMemo, useEffect } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { useCrudPreset, useJsonEffect } from '../../hooks/form';\nimport { Button } from '../../ui/Button';\nimport Select from 'react-select';\nimport { DECORATORS_OPTIONS, DECORATOR_EXTRA_COUNT_DEFAULTS, DECORATOR_DECORATED_DEFAULTS, DECORATOR_RANGE_DEFAULTS } from './FeatureDefaults';\nimport { NumberInput } from '../../ui/Input';\n\nexport const DecoratorsList = React.memo(function({data, onChange}) {\n    const [decorators, handleAdd, handleChange, handleRemove] = useCrudPreset(data, function(decorators) {\n        // Get the first non taken decorator\n        return { type: (DECORATORS_OPTIONS.filter(o => !decorators.some(d => d.type === o.value))[0] || { value: 'minecraft:count' }).value };\n    });\n    useJsonEffect(decorators, data, onChange);\n\n    const shouldCancelStart = useCallback(function(e) {\n        return !e.target.parentNode.classList.contains('sortable-item');\n    }, []);\n    \n    return <fieldset>\n        <legend>Decorators wrappers {DECORATORS_OPTIONS.length > decorators.length && <Button onClick={handleAdd}>Add decorator</Button>}</legend>\n        <SortableDecoratorsList decorators={decorators} handleChange={handleChange} handleRemove={handleRemove}\n            onSortEnd={handleChange} shouldCancelStart={shouldCancelStart} />\n    </fieldset>\n});\n\nconst SortableDecoratorsList = SortableContainer(function({decorators, handleChange, handleRemove}) {\n    return <ol className=\"sortable-container\">\n        {decorators.map((decorator, index) => {\n            const options = DECORATORS_OPTIONS.filter(o => decorator.type === o.value || !decorators.some(d => d.type === o.value));\n            return <Decorator key={decorator.type} data={decorator} index={index} onChange={handleChange} options={options}>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, index)}>Remove</Button>\n            </Decorator>\n        })}\n    </ol>\n});\n\nconst Decorator = React.memo(SortableElement(function({children, data = { type: 'minecraft:count' }, onChange, options}) {\n    const [decorator, setDecorator] = useState(data);\n\n    const handleSelectChange = useCallback(function(option) {\n        setDecorator({ type: option.value });\n    }, []);\n    const handleConfigChange = useCallback(function(config) {\n        setDecorator(decorator => ({ type: decorator.type, config: { ...decorator.config, ...config }}));\n    }, []);\n    useJsonEffect(decorator, data, onChange);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === decorator.type);\n    }, [decorator.type, options]);\n    return <li className=\"sortable-item\">\n        <div className=\"form-group form-row\">\n            <div style={{ flexGrow: 1 }}><Select options={options} value={selected} onChange={handleSelectChange} /></div>\n            {children}\n        </div>\n        <div className=\"form-group form-row\">\n            {decorator.type === 'minecraft:chance' && <ChanceDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:count' || decorator.type === 'minecraft:fire' || decorator.type === 'minecraft:count_multilayer') && <CountDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {decorator.type === 'minecraft:count_extra' && <ExtraCountDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:decorated' || decorator.type === 'minecraft:square') && <DecoratedDecorator config={decorator.config} onChange={handleConfigChange} />}\n            {(decorator.type === 'minecraft:range' || decorator.type === 'minecraft:range_very_biased') && <RangeDecorator config={decorator.config} onChange={handleConfigChange} />}\n        </div>\n    </li>;\n}));\n\nconst ChanceDecorator = React.memo(function({config = {}, onChange}) {\n    return <NumberInput id=\"chance\" value={config.chance} defaultValue=\"32\" upChange={onChange}>Chance</NumberInput>\n});\n\nconst CountDecorator = React.memo(function({config = {}, onChange}) {\n    return <NumberInput id=\"count\" value={config.count} defaultValue=\"25\" upChange={onChange}>Count</NumberInput>\n});\n\nconst ExtraCountDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || DECORATOR_EXTRA_COUNT_DEFAULTS, config, onChange);\n\n    return <>\n        <NumberInput id=\"count\" value={config.count} upChange={onChange}>Count</NumberInput>\n        <NumberInput id=\"extra_chance\" value={config.extra_chance} upChange={onChange} step=\"0.05\">Extra chance</NumberInput>\n        <NumberInput id=\"extra_count\" value={config.extra_count} upChange={onChange}>Extra count</NumberInput>\n    </>\n});\n\nconst DecoratedDecorator = React.memo(function({config, onChange}) {\n    useEffect(() => {\n        if (typeof config === 'undefined') {\n            onChange(DECORATOR_DECORATED_DEFAULTS);\n        }\n    }, [config, onChange]);\n    return <div></div>;\n});\n\nconst RangeDecorator = React.memo(function({config, onChange}) {\n    config = useJsonEffect(config || DECORATOR_RANGE_DEFAULTS, config, onChange);\n\n    return <>\n        <NumberInput id=\"bottom_offset\" value={config.bottom_offset} upChange={onChange}>Bottom offset</NumberInput>\n        <NumberInput id=\"top_offset\" value={config.top_offset} upChange={onChange}>Top offset</NumberInput>\n        <NumberInput id=\"maximum\" value={config.maximum} upChange={onChange}>Y maximum</NumberInput>\n    </>\n});","import React, { useCallback } from 'react';\nimport { BlocksList } from '../state/BlockState';\nimport { RANDOM_PATCH_FEATURE_CONFIG } from './FeatureDefaults';\nimport { useJsonEffect } from '../../hooks/form';\nimport { BlockStateProvider } from '../state/BlockStateProvider';\nimport { NumberInput } from '../../ui/Input';\n\nexport function RandomPatchFeature({configuration, onChange}) {\n\n    const config = useJsonEffect(configuration || RANDOM_PATCH_FEATURE_CONFIG, configuration, onChange);\n    const handleStateProviderChange = useCallback(function(state_provider) {\n        onChange({ ...config, state_provider });\n    }, [config, onChange]);\n    const handleWhitelistChange = useCallback(function(whitelist) {\n        onChange({ ...config, whitelist });\n    }, [config, onChange]);\n    const handleBlacklistChange = useCallback(function(blacklist) {\n        onChange({ ...config, blacklist });\n    }, [config, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...config, ...value });\n    }, [config, onChange]);\n    const handleCheckboxChange = useCallback(function(e) {\n        const name = e.target.id;\n        const value = e.target.checked;\n        onChange({ ...config, [name]: value });\n    }, [config, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>State provider</legend>\n            <BlockStateProvider block={config.state_provider} onChange={handleStateProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Whitelist</legend>\n            <BlocksList list={config.whitelist} onChange={handleWhitelistChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Blacklist</legend>\n            <BlocksList list={config.blacklist} onChange={handleBlacklistChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"xspread\" value={config.xspread} onChange={handleValueChange}>X spread</NumberInput>\n                <NumberInput id=\"yspread\" value={config.yspread} onChange={handleValueChange}>Y spread</NumberInput>\n                <NumberInput id=\"zspread\" value={config.zspread} onChange={handleValueChange}>Z spread</NumberInput>\n                <NumberInput id=\"tries\" value={config.tries} onChange={handleValueChange}>Tries</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <div><label htmlFor=\"need_water\">Need water</label> : <input type=\"checkbox\" className=\"checkbox\" id=\"need_water\" checked={config.need_water} onChange={handleCheckboxChange} /></div>\n                <div><label htmlFor=\"project\">Project</label> : <input type=\"checkbox\" className=\"checkbox\" id=\"project\" checked={config.project} onChange={handleCheckboxChange} /></div>\n                <div><label htmlFor=\"can_replace\">Can replace</label> : <input type=\"checkbox\" className=\"checkbox\" id=\"can_replace\" checked={config.can_replace} onChange={handleCheckboxChange} /></div>\n            </div>\n        </fieldset>\n    </div>;\n}","import React, { useState, useCallback, useMemo, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { TAGS_OPTIONS } from \"../feature/FeatureDefaults\";\nimport { BlockState } from \"./BlockState\";\nimport { NumberInput } from \"../../ui/Input\";\nimport { useBlocksOptions } from \"../../hooks/form\";\n\nexport const BlockPredicate = React.memo(function({target, onChange}) {\n    const [predicate, setPredicate] = useState(target);\n\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:always_true', label: 'Always true' },\n            { value: 'minecraft:block_match', label: 'Block match' },\n            { value: 'minecraft:blockstate_match', label: 'Block state match' },\n            { value: 'minecraft:random_block_match', label: 'Random block match' },\n            { value: 'minecraft:random_blockstate_match', label: 'Random block state match' },\n            { value: 'minecraft:tag_match', label: 'Tag match' }\n        ];\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        setPredicate({ predicate_type: option.value });\n    }, []);\n    const handleBlockChange = useCallback(function(option) {\n        setPredicate(predicate => ({ ...predicate, block: option.value }));\n    }, []);\n    const handleBlockStateChange = useCallback(function(block_state) {\n        setPredicate(predicate => ({ ...predicate, block_state }));\n    }, []);\n    const handleTagChange = useCallback(function(option) {\n        setPredicate(predicate => ({ ...predicate, tag: option.value }));\n    }, []);\n    const handleChange = useCallback(function(content) {\n        setPredicate(predicate => ({ ...predicate, ...content }));\n    }, []);\n    useEffect(() => {\n        if (predicate !== target) {\n            onChange(predicate);\n        }\n    }, [onChange, predicate, target]);\n\n    const type = predicate.predicate_type;\n\n    return <div>\n        <label>Predicate type</label>\n        <Select options={options} value={options.find(o => o.value === predicate.predicate_type)} onChange={handleTypeChange} />\n        {type === 'minecraft:block_match' && <BlockSelect block={predicate.block} onChange={handleBlockChange} />}\n        {type === 'minecraft:blockstate_match' && <BlockState block={predicate.block_state} onChange={handleBlockStateChange} />}\n        {(type === 'minecraft:random_block_match' || type === 'minecraft:random_blockstate_match') &&\n            <RandomBlockMatch block={predicate.block} probability={predicate.probability} onChange={handleChange} type={type} />\n        }\n        {type === 'minecraft:tag_match' && <Select options={TAGS_OPTIONS} value={TAGS_OPTIONS.find(t => t.value === predicate.tag)} onChange={handleTagChange} />}\n    </div>;\n});\n\nconst RandomBlockMatch = React.memo(function({block, onChange, type, probability}) {\n    const handleBlockChange = useCallback(function(option) {\n        onChange({ block: option.value });\n    }, [onChange]);\n    const handleBlockStateChange = useCallback(function(block_state) {\n        onChange({ block_state });\n    }, [onChange]);\n\n    return <div className=\"form-group form-row\">\n        <div style={{ flexGrow: 1 }}>\n        {type === 'minecraft:random_block_match' && <BlockSelect block={block} onChange={handleBlockChange} />}\n        {type === 'minecraft:random_blockstate_match' && <BlockState block={block} onChange={handleBlockStateChange} />}\n        </div>\n        <NumberInput id=\"probability\" value={probability} defaultValue=\"0.1\"\n            step=\"0.01\" min=\"0\" max=\"1\" className=\"mlm\" upChange={onChange}>\n                Probability\n        </NumberInput>\n    </div>\n});\n\nconst BlockSelect = React.memo(function({block, onChange}) {\n    const blocks = useBlocksOptions();\n    return <Select options={blocks} value={blocks.find(b => b.value === block)} onChange={onChange} />;\n});\n","import React, { useCallback } from 'react';\nimport { ORE_FEATURE_CONFIG } from \"./FeatureDefaults\";\nimport { BlockPredicate } from '../state/BlockPredicate';\nimport { BlockState } from '../state/BlockState';\nimport { useJsonEffect } from '../../hooks/form';\nimport { NumberInput } from '../../ui/Input';\n\nexport function OreFeatureConfig({configuration, onChange}) {\n    const handlePredicateChange = useCallback(function(target) {\n        onChange({ ...configuration, target });\n    }, [configuration, onChange]);\n    const handleBlockChange = useCallback(function(state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const config = useJsonEffect(configuration || ORE_FEATURE_CONFIG, configuration, onChange);\n\n    return <div>\n        <fieldset>\n            <legend>Target</legend>\n            <BlockPredicate target={config.target} onChange={handlePredicateChange} />\n        </fieldset>\n        <fieldset>\n            <legend>State</legend>\n            <BlockState block={config.state} onChange={handleBlockChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <NumberInput id=\"size\" value={config.size} upChange={handleValueChange}>Size</NumberInput>\n        </fieldset>\n    </div>;\n}","import React, { useCallback, useMemo } from 'react';\nimport Select from 'react-select';\nimport { useState } from 'react';\nimport { TreeFeatureConfig } from './TreeFeature';\nimport { Button } from '../../ui/Button';\nimport { DecoratorsList } from './Decorator';\nimport { buildDecorated, findDecorators } from '../../utils/data';\nimport { DECORATED_TREE_CONFIG, DECORATED_RANDOM_PATCH_CONFIG, DECORATED_ORE_FEATURE_CONFIG } from './FeatureDefaults';\nimport { RandomPatchFeature } from './RandomPatchFeature';\nimport { OreFeatureConfig } from './OreFeature';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport function RawConfiguredFeature({data = DECORATED_TREE_CONFIG, onSave}) {\n\n    const [decorators_, feature_] = useMemo(() => findDecorators(data), [data]);\n\n    const [feature, setFeature] = useState(feature_);\n    const [decorators, setDecorators] = useState(decorators_);\n\n    const handleSelectChange = useCallback(function(option) {\n        const [decorators, feature] = findDecorators({ ...option.default });\n        setFeature(feature);\n        setDecorators(decorators);\n    }, []);\n\n    const handleFeatureChange = useCallback(function (config) {\n        setFeature(feature => ({ ...feature, config }));\n    }, []);\n\n    const handleDecoratorsChange = useCallback(function (decorators) {\n        setDecorators(decorators);\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const decorated = buildDecorated(feature, decorators, new FormData(e.target).get('key'));\n        decorated.index = data.index;\n        onSave(decorated);\n    }, [data.index, decorators, feature, onSave]);\n\n    const options = useMemo(function() {\n        return [\n            { value: 'ore', label: 'Ore', default: DECORATED_ORE_FEATURE_CONFIG },\n            { value: 'random_patch', label: 'Random patch', default: DECORATED_RANDOM_PATCH_CONFIG },\n            { value: 'tree', label: 'Tree', default: DECORATED_TREE_CONFIG }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    return <form onSubmit={handleSubmit}>\n        <h3>Edit configured feature</h3>\n        <NamespacedKey example=\"concrete_tree\" type=\"features\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} />\n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={options} value={options.find(o => o.value === feature.type)} onChange={handleSelectChange} />\n        </div>\n        <hr />\n        {feature.type === 'minecraft:ore' && <OreFeatureConfig configuration={feature.config} onChange={handleFeatureChange} />}\n        {feature.type === 'minecraft:random_patch' && <RandomPatchFeature configuration={feature.config} onChange={handleFeatureChange} />}\n        {feature.type === 'minecraft:tree' && <TreeFeatureConfig configuration={feature.config} onChange={handleFeatureChange} />}\n        <DecoratorsList data={decorators} key={feature.type} onChange={handleDecoratorsChange} />\n        <div className=\"form-group mlm mbm\">\n            <Button type=\"submit\">Save</Button>\n        </div>\n    </form>\n}\n","import JSZip from \"jszip\";\nimport { saveAs } from \"file-saver\";\nimport { dataUpper } from \"./data\";\n\nconst DIMENSIONS_PATH = /^data\\/([a-z0-9._-]+)\\/(dimension|dimension_type)\\/([a-z0-9._-]+).json$/;\nconst WORLDGEN_PATH = /^data\\/([a-z0-9._-]+)\\/worldgen\\/(biome|configured_feature|configured_surface_builder|noise_settings)\\/([a-z0-9._-]+).json$/;\n\nconst LEGACY_PATH_DETECTION = /^data\\/minecraft\\/(dimension|dimension_type|worldgen)\\/?\\w*\\/([a-z0-9._-]+)\\/([a-z0-9._-]+).json$/;\nconst LEGACY_DIMENSIONS_PATH = /^data\\/minecraft\\/(dimension|dimension_type)\\/([a-z0-9._-]+)\\/([a-z0-9._-]+).json$/;\nconst LEGACY_WORLDGEN_PATH = /^data\\/minecraft\\/worldgen\\/(biome|configured_feature|configured_surface_builder|noise_settings)\\/([a-z0-9._-]+)\\/([a-z0-9._-]+).json$/;\n\n/**\n * Build zip in blob.\n * \n * @param {{ biomes: object[], dimensions: object[], dimension_types: object[], features: object[], noises: object[], surfaces: object[] }} custom \n */\nexport function buildZip(custom) {\n    const zip = new JSZip();\n    zip.file('pack.mcmeta', JSON.stringify({ pack: { pack_format: 5, description: 'Custom dimension' } }, null, 4));\n    const namespace = '%namespace%';\n    writeFile(zip, `data/${namespace}/dimension`, custom.dimensions);\n    writeFile(zip, `data/${namespace}/dimension_type`, custom.dimension_types);\n    writeFile(zip, `data/${namespace}/worldgen/biome`, custom.biomes);\n    writeFile(zip, `data/${namespace}/worldgen/configured_feature`, custom.features);\n    writeFile(zip, `data/${namespace}/worldgen/configured_surface_builder`, custom.surfaces);\n    writeFile(zip, `data/${namespace}/worldgen/noise_settings`, custom.noises);\n    zip.generateAsync({ type: 'blob' })\n        .then(function(content) {\n            saveAs(content, 'generated_datapack.zip');\n        });\n}\n\n/**\n * @param {File} file\n * @returns {Promise<[string, { biomes: object[], dimensions: object[], features: object[], surfaces: object[] }]>}\n */\nexport function readZip(file) {\n    return new Promise((resolve, reject) => {\n        if (file.type !== 'application/zip') {\n            reject(new Error('File is not a .zip'));\n        }\n\n        JSZip.loadAsync(file).then((zip) => {\n            extractDatapack(zip)\n                .then(resolve)\n                .catch(reject);\n        }).catch(reject);\n    });\n}\n\n/**\n * @param {JSZip} zip \n * @returns {Promise<string, object>}\n */\nfunction extractDatapack(zip) {\n    let mcmeta = false;\n    let namespace = 'test';\n    const data = {\n        biomes: [],\n        dimensions: [],\n        dimension_types: [],\n        features: [],\n        noises: [],\n        surfaces: []\n    };\n\n    return new Promise((resolve, reject) => {\n        const promises = [];\n        zip.forEach(function(path, entry) {\n            if (entry.dir) {\n                return;\n            }\n            if (entry.name === 'pack.mcmeta') {\n                mcmeta = true;\n                return;\n            }\n            const legacy = entry.name.match(LEGACY_PATH_DETECTION);\n            let regex = entry.name.match(DIMENSIONS_PATH) ? DIMENSIONS_PATH : WORLDGEN_PATH;\n            if (legacy) {\n                regex = entry.name.match(LEGACY_DIMENSIONS_PATH) ? LEGACY_DIMENSIONS_PATH : LEGACY_WORLDGEN_PATH;\n            }\n            promises.push(parseFile(legacy, regex, entry.name, zip.file(entry.name).async('text')));\n        });\n\n        if (!mcmeta) {\n            reject(new Error('Invalid datapack: no pack.mcmeta'));\n        }\n\n        Promise.all(promises).then(function(values) {\n            values.forEach(function(value) {\n                if (value === null) {\n                    return;\n                }\n\n                namespace = value.namespace;\n                value.data.index = data[value.type].length;\n                data[value.type].push(value.data);\n            });\n            resolve([namespace, data]);\n        }).catch(e => reject(e));\n    });\n}\n\nfunction getFolderType(folder) {\n    switch (folder) {\n        case 'configured_feature':\n            return 'features';\n        case 'configured_surface_builder':\n            return 'surfaces';\n        case 'noise_settings':\n            return 'noises';\n        default:\n            return folder + 's';\n    }\n}\n\n/**\n * Parse json file when it will be ready.\n * \n * @param {boolean} legacy\n * @param {RegExp} pathRegex \n * @param {string} filename \n * @param {Promise<string>} contentPromise \n * @returns {Promise<{namespace: string, data: object, type: string}>}\n */\nasync function parseFile(legacy, pathRegex, filename, contentPromise) {\n    const d = pathRegex.exec(filename);\n    if (d === null) {\n        return new Promise((success) => success(null)); // Skip file\n    }\n\n    return new Promise((resolve, reject) => {\n        contentPromise.then(content => {\n            const obj = JSON.parse(content);\n            const namespace = d[legacy ? 2 : 1];\n            const type = getFolderType(d[legacy ? 1 : 2]);\n            obj.key = namespace + ':' + d[3];\n            const data = dataUpper(type, obj);\n            resolve({ namespace, data, type });\n        }).catch(e => {\n            if (e.name !== 'SyntaxError') {\n                console.error(e);\n            }\n            reject(new Error(`Cannot read ${filename}:\\n${e.message}`));\n        });\n    });\n}\n\nfunction writeFile(zip, path, elements) {\n    if (elements.length < 1) {\n        return;\n    }\n\n    for (const el of elements) {\n        const w = {...el};\n        delete w.key;\n        delete w.index;\n\n        const [namespace, filename] = el.key.split(':');\n        zip.folder(path.replace('%namespace%', namespace))\n            .file(filename + '.json', JSON.stringify(w, null, 2));\n    }\n}","import React, { useCallback, useState } from 'react';\nimport { BlockState } from '../state/BlockState';\nimport { Button } from '../../ui/Button';\nimport { SURFACE_TYPES_OPTIONS, SURFACE_BUILDER } from './SurfaceBuilderDefaults';\nimport Select from 'react-select';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport function SurfaceBuilder({data = SURFACE_BUILDER, onSave}) {\n    const [config, setConfig] = useState(data.config);\n\n    const handleTopMaterialChange = useCallback(function(top_material) {\n        setConfig(config => ({ ...config, top_material }));\n    }, []);\n    const handleUnderMaterialChange = useCallback(function(under_material) {\n        setConfig(config => ({ ...config, under_material }));\n    }, []);\n    const handleUnderwaterMaterialChange = useCallback(function(underwater_material) {\n        setConfig(config => ({ ...config, underwater_material }));\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        onSave({\n            config,\n            type: formData.get('type'),\n            key: formData.get('key'),\n            index: data.index\n        });\n    }, [config, data.index, onSave]);\n\n    return <form onSubmit={handleSubmit}>\n        <h3>Edit surface builder</h3>\n        <NamespacedKey example=\"blackstone\" type=\"surfaces\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} />\n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label> : <Select options={SURFACE_TYPES_OPTIONS} defaultValue={SURFACE_TYPES_OPTIONS.find(o => o.value === data.type)} name=\"type\" />\n            <p><small className=\"text-muted\">The builder type defines the shape of the surface. For example, the <em>swamp</em> type will create puddles while the <em>badlands</em> types will create small rocky peaks; the <em>nether</em> types will add a mix of nether blocks and expose more of the underneath material.</small></p>\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"top_material\">Top material</label> : <BlockState block={config.top_material} name=\"top_material\" onChange={handleTopMaterialChange} />\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"under_material\">Under material</label> : <BlockState block={config.under_material} name=\"under_material\" onChange={handleUnderMaterialChange} />\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"sea_lantern\">Underwater material</label> : <BlockState block={config.underwater_material} name=\"underwater_material\" onChange={handleUnderwaterMaterialChange} />\n        </div>\n        <div className=\"form-group mlm mbm\">\n            <Button type=\"submit\">Save</Button>\n        </div>\n    </form>;\n}","import React, { useCallback, useEffect, useState } from 'react';\nimport { NumberInput } from '../../ui/Input';\nimport { useToggle } from '../../hooks/ui';\nimport { useCrud, CRUD } from '../../hooks/form';\nimport Select from 'react-select';\nimport { STRUCTURES } from './NoiseDefaults';\nimport { Button } from '../../ui/Button';\n\nexport const Structures = React.memo(function ({ data, onChange }) {\n\n    const handleStrongholdChange = useCallback(function(stronghold) {\n        if (stronghold === false) {\n            onChange({ structures: data.structures });\n        } else {\n            onChange({ structures: data.structures, stronghold });\n        }\n    }, [data.structures, onChange]);\n    const handleStructuresChange = useCallback(function(structures) {\n        onChange({ ...data, structures });\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Structures</legend>\n        <Stronghold data={data.stronghold} onChange={handleStrongholdChange} />\n        <StructuresList data={data.structures} onChange={handleStructuresChange} />\n    </fieldset>\n});\n\nconst Stronghold = React.memo(function ({ data, onChange }) {\n\n    const [enabled, toggle] = useToggle(typeof data === 'object');\n    const [stronghold, setStronghold] = useState(data || { distance: 32, spread: 3, count: 128 });\n\n    const handleChange = useCallback(function(value) {\n        setStronghold(stronghold => ({ ...stronghold, ...value }));\n    }, [setStronghold]);\n\n    useEffect(function() {\n        if (data !== stronghold\n            || (enabled && typeof data === 'undefined')\n            || (!enabled && typeof data === 'object')) {\n                onChange(enabled ? stronghold : false);\n        }\n    }, [data, enabled, onChange, stronghold]);\n\n    return <div>\n        <div className=\"toggle-label\">Stronghold<Button cat=\"secondary\" onClick={toggle}>{enabled ? 'Disable' : 'Enable'}</Button></div>\n        {enabled && <div className=\"form-group form-row\">\n            <NumberInput id=\"distance\" defaultValue={stronghold.distance} upChange={handleChange} max=\"1023\">Distance</NumberInput>\n            <NumberInput id=\"spread\" defaultValue={stronghold.spread} upChange={handleChange} max=\"1023\">Spread</NumberInput>\n            <NumberInput id=\"count\" defaultValue={stronghold.count} upChange={handleChange} min=\"1\" max=\"4095\">Count</NumberInput>\n        </div>}\n    </div>\n});\n\nconst StructuresList = React.memo(function({ data, onChange }) {\n    const [visibility, toggle] = useToggle();\n    const [structures, dispatch] = useCrud(Object.entries(data).map(([type, d]) => ({ ...d, type })));\n\n    const handleAdd = useCallback(function(e) {\n        e.preventDefault();\n        dispatch({ type: CRUD.ADD, payload: {\n            type: 'minecraft:village',\n            spacing: 32,\n            separation: 8,\n            salt: 10387312\n        }, unshift: true });\n        if (!visibility) {\n            toggle();\n        }\n    }, [dispatch, toggle, visibility]);\n    const handleChange = useCallback(function(original, structure) {\n        dispatch({ type: CRUD.UPDATE, target: original, payload: structure });\n    }, [dispatch]);\n    const handleRemove = useCallback(function(structure) {\n        dispatch({ type: CRUD.REMOVE, payload: structure });\n    }, [dispatch]);\n\n    useEffect(function() {\n        const obj = {};\n        for (const structure of structures) {\n            obj[structure.type] = {\n                spacing: structure.spacing,\n                separation: structure.separation,\n                salt: structure.salt\n            };\n        }\n        onChange(obj);\n    }, [onChange, structures]);\n\n    return <div>\n        <div className=\"toggle-label\">\n            Structures\n            <div className=\"btn-group\">\n                <Button onClick={handleAdd}>Add</Button>\n                {structures.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{visibility ? 'Less...' : 'More...'}</Button>}\n            </div>\n        </div>\n        {visibility && structures.map((def, i) => \n            <Structure data={def} key={i} onChange={handleChange} onDelete={handleRemove} />\n        )}\n    </div>\n});\n\nconst Structure = React.memo(function ({ data, onChange, onDelete }) {\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange(data, { ...data, type: option.value });\n    }, [data,  onChange]);\n    const handleSpacingChange = useCallback(function(value) {\n        const name = Object.keys(value)[0];\n        value = value[name];\n        if ((name === 'spacing' && value > data.separation)\n            || (name === 'separation' && value < data.spacing)) {\n            onChange(data, {...data, [name]: value});\n        } \n    }, [data,  onChange]);\n    const handleSaltChange = useCallback(function(salt) {\n        onChange(data, { ...data, salt });\n    }, [data,  onChange]);\n    const handleDelete = useCallback(function (e) {\n        e.preventDefault();\n        onDelete(data);\n    }, [data, onDelete]);\n\n    return <div>\n        <div className=\"form-group\">\n            <label>Type</label> : <Select options={STRUCTURES} value={STRUCTURES.find(s => s.value === data.type)} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"spacing\" value={data.spacing} upChange={handleSpacingChange} max=\"4096\">Spacing</NumberInput>\n            <NumberInput id=\"separation\" value={data.separation} upChange={handleSpacingChange} max=\"4096\">Separation</NumberInput>\n            <NumberInput id=\"salt\" value={data.salt} onChange={handleSaltChange} max={0x7FFFFFFF} style={{ width: '150px' }}>Salt</NumberInput>\n            <div className=\"form-inline\"><Button cat=\"danger\" onClick={handleDelete}>Delete</Button></div>\n        </div>\n        <hr /> \n    </div>\n});\n","import React, { useCallback, useState } from 'react';\nimport { BlockState } from '../state/BlockState';\nimport { Button } from '../../ui/Button';\nimport { useValueChange } from '../../hooks/form';\nimport { ConfInput } from '../../ui/Input';\nimport { OVERWORLD_NOISE } from './NoiseDefaults';\nimport { Structures } from './Structures';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport const NoiseSettings = React.memo(function ({ data = OVERWORLD_NOISE, onSave }) {\n\n    const [state, setState] = useState(data);\n\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        const formData = Object.fromEntries(new FormData(e.target));\n        const data = { ...state, ...formData };\n        Object.keys(formData).forEach(function (key) {\n            if (!isNaN(formData[key])) {\n                data[key] = parseFloat(formData[key]);\n            }\n        });\n        data.disable_mob_generation = formData.hasOwnProperty('disable_mob_generation');\n        onSave(data);\n    }, [onSave, state]);\n\n    const handleBlockChange = useCallback(function (name, s) {\n        setState(state => ({ ...state, [name]: s }));\n    }, []);\n    const handleStructuresChange = useCallback(function (structures) {\n        setState(state => ({ ...state, structures }));\n    }, []);\n    const handleNoiseChange = useCallback(function (noise) {\n        setState(state => ({ ...state, noise }));\n    }, []);\n\n    return <form onSubmit={handleSubmit}>\n        <h3>Edit noise</h3>\n        <NamespacedKey example=\"epic\" type=\"noises\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} />\n\n        <Structures data={data.structures} onChange={handleStructuresChange} />\n\n        <fieldset>\n            <legend>Defaults</legend>\n            <div className=\"form-group\">\n                <label>Block</label> : <BlockState block={state.default_block} onChange={state => handleBlockChange('default_block', state)} />\n            </div>\n            <div className=\"form-group\">\n                <label>Fluid</label> : <BlockState block={state.default_fluid} onChange={state => handleBlockChange('default_fluid', state)} />\n            </div>\n        </fieldset>\n\n        <fieldset>\n            <legend>Main</legend>\n            <div className=\"form-group form-row\">\n                <ConfInput name=\"bedrock_roof_position\" defaultValue={data.bedrock_roof_position}>Bedrock roof position</ConfInput>\n                <ConfInput name=\"bedrock_floor_position\" defaultValue={data.bedrock_floor_position}>Bedrock floor position</ConfInput>\n                <ConfInput name=\"sea_level\" defaultValue={data.sea_level} min=\"0\" max=\"256\">Sea level</ConfInput>\n                <ConfInput name=\"disable_mob_generation\" defaultChecked={data.disable_mob_generation}>Disable mob generation</ConfInput>\n            </div>\n        </fieldset>\n\n        <NoiseConfig data={data.noise} onChange={handleNoiseChange} />\n\n        <div className=\"form-group mlm mbm\">\n            <Button type=\"submit\">Save</Button>\n        </div>\n    </form>;\n});\n\nconst NoiseConfig = React.memo(function ({ data, onChange }) {\n\n    const handleChange = useValueChange(onChange, data);\n    const handleSamplingChange = useCallback(function (sampling) {\n        onChange({ ...data, sampling });\n    }, [data, onChange]);\n    const handleTopSlideChange = useCallback(function (top_slide) {\n        onChange({ ...data, top_slide });\n    }, [data, onChange]);\n    const handleBottomSlideChange = useCallback(function (bottom_slide) {\n        onChange({ ...data, bottom_slide });\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Noise config (advanced)</legend>\n        <div className=\"form-group form-row\">\n            <ConfInput id=\"height\" defaultValue={data.height} onChange={handleChange} min=\"0\" max=\"256\">Height</ConfInput>\n            <ConfInput id=\"size_horizontal\" defaultValue={data.size_horizontal} onChange={handleChange} min=\"1\" max=\"4\">Size horizontal</ConfInput>\n            <ConfInput id=\"size_vertical\" defaultValue={data.size_vertical} onChange={handleChange} min=\"1\" max=\"4\">Size vertical</ConfInput>\n            <ConfInput id=\"density_factor\" defaultValue={data.density_factor} onChange={handleChange} step=\"0.01\">Density factor</ConfInput>\n            <ConfInput id=\"density_offset\" defaultValue={data.density_offset} onChange={handleChange} step=\"0.01\">Density offset</ConfInput>\n        </div>\n        <div className=\"form-group form-row\">\n            <ConfInput id=\"simplex_surface_noise\" defaultChecked={data.simplex_surface_noise} onChange={handleChange}>Simplex surface noise</ConfInput>\n            <ConfInput id=\"random_density_offset\" defaultChecked={data.random_density_offset} onChange={handleChange}>Random density offset</ConfInput>\n            <ConfInput id=\"island_noise_override\" defaultChecked={data.island_noise_override} onChange={handleChange}>Island noise override</ConfInput>\n            <ConfInput id=\"amplified\" defaultChecked={data.amplified} onChange={handleChange}>Amplified</ConfInput>\n        </div>\n\n        <NoiseSamplingConfig data={data.sampling} onChange={handleSamplingChange}>Sampling</NoiseSamplingConfig>\n        <SlideConfig data={data.top_slide} onChange={handleTopSlideChange}>Top slide</SlideConfig>\n        <SlideConfig data={data.bottom_slide} onChange={handleBottomSlideChange}>Bottom slide</SlideConfig>\n    </fieldset>\n});\n\nconst NoiseSamplingConfig = React.memo(function ({ children, data, onChange }) {\n\n    const handleChange = useValueChange(onChange, data);\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <ConfInput name=\"xz_scale\" defaultValue={data.xz_scale} onChange={handleChange}>XY scale</ConfInput>\n            <ConfInput name=\"y_scale\" defaultValue={data.y_scale} onChange={handleChange}>Y scale</ConfInput>\n            <ConfInput name=\"xz_factor\" defaultValue={data.xz_factor} onChange={handleChange}>XZ factor</ConfInput>\n            <ConfInput name=\"y_factor\" defaultValue={data.y_factor} onChange={handleChange}>Y factor</ConfInput>\n        </div>\n    </fieldset>\n});\n\nconst SlideConfig = React.memo(function ({ children, data, onChange }) {\n\n    const handleChange = useValueChange(onChange, data);\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <ConfInput id=\"target\" defaultValue={data.target} onChange={handleChange}>Target</ConfInput>\n            <ConfInput id=\"size\" defaultValue={data.size} onChange={handleChange}>Size</ConfInput>\n            <ConfInput id=\"offset\" defaultValue={data.offset} onChange={handleChange}>Offset</ConfInput>\n        </div>\n    </fieldset>\n});\n","import React, { useCallback, useState, useContext } from 'react';\nimport { Biome } from './biome/Biome';\nimport { Button } from './../ui/Button';\nimport { MenuItem } from './../ui/Menu';\nimport { Dimension } from './dimension/Dimension';\nimport { DataContext } from './../context/DataContext';\nimport { RawConfiguredFeature } from './feature/ConfiguredFeature';\nimport { buildZip } from '../utils/zip';\nimport { SurfaceBuilder } from './surface/SurfaceBuilder';\nimport { NoiseSettings } from './noise/NoiseSettings';\nimport { displayNamespacedKey } from '../utils/data';\n\nexport function Datapack() {\n    const context = useContext(DataContext);\n    const custom = context.custom;\n    const namespace = context.namespace;\n    const [menu, setMenu] = useState({page: 'stats'});\n\n    const handleStatsClick = useCallback(function(e) {\n        e.preventDefault();\n        setMenu({page: 'stats'});\n    }, []);\n    const handleAddBiomeClick = useCallback(function(e) {\n        e.preventDefault();\n        setMenu({page: 'biome'});\n    }, []);\n    const handleAddDimensionClick = useCallback(function(e) {\n        e.preventDefault();\n        setMenu({page: 'dimension'});\n    }, []);\n    const handleAddFeatureClick = useCallback(function(e) {\n        e.preventDefault();\n        setMenu({page: 'feature'});\n    }, []);\n    const handleAddNoiseClick = useCallback(function(e) {\n        e.preventDefault();\n        setMenu({page: 'noise'});\n    }, []);\n    const handleAddSurfaceBuilderClick = useCallback(function(e) {\n        e.preventDefault();\n        setMenu({page: 'surface'});\n    }, []);\n\n    const onBiomeSave = useCallback(function(biome) {\n        custom.updateBiomes(biome);\n        setMenu({page: 'stats'});\n    }, [custom]);\n    const onDimensionSave = useCallback(function(dimension) {\n        custom.updateDimensions(dimension);\n        setMenu({page: 'stats'});\n    }, [custom]);\n    const onFeatureSave = useCallback(function(feature) {\n        custom.updateFeatures(feature);\n        setMenu({page: 'stats'});\n    }, [custom]);\n    const onNoiseSave = useCallback(function(noise) {\n        custom.updateNoises(noise);\n        setMenu({page: 'stats'});\n    }, [custom]);\n    const onSurfaceBuilderSave = useCallback(function(surface_builder) {\n        custom.updateSurfacesBuilders(surface_builder);\n        setMenu({page: 'stats'});\n    }, [custom]);\n\n    const editBiome = useCallback(function(index) {\n        setMenu({page: 'biome', index});\n    }, []);\n    const editDimension = useCallback(function(index) {\n        setMenu({page: 'dimension', index});\n    }, []);\n    const editFeature = useCallback(function(index) {\n        setMenu({page: 'feature', index});\n    }, []);\n    const editNoise = useCallback(function(index) {\n        setMenu({page: 'noise', index});\n    }, []);\n    const editSurface = useCallback(function(index) {\n        setMenu({page: 'surface', index});\n    }, []);\n\n    return <div>\n        <h2>Datapack {namespace}</h2>\n        <div className=\"tabs\"><nav className=\"tabs-menu\">\n            <MenuItem onClick={handleStatsClick} active={menu.page === 'stats'}>Stats</MenuItem>\n            <MenuItem onClick={handleAddBiomeClick} active={menu.page === 'biome'}>Biome</MenuItem>\n            <MenuItem onClick={handleAddSurfaceBuilderClick} active={menu.page === 'surface'}>Surfaces builder</MenuItem>\n            <MenuItem onClick={handleAddFeatureClick} active={menu.page === 'feature'}>Feature</MenuItem>\n            <MenuItem onClick={handleAddDimensionClick} active={menu.page === 'dimension'}>Dimension</MenuItem>\n            <MenuItem onClick={handleAddNoiseClick} active={menu.page === 'noise'}>Noise</MenuItem>\n        </nav></div>\n        {menu.page === 'biome' && <Biome onSave={onBiomeSave} data={custom.biomes[menu.index]} />}\n        {menu.page === 'surface' && <SurfaceBuilder onSave={onSurfaceBuilderSave} data={custom.surfaces[menu.index]} />}\n        {menu.page === 'feature' && <RawConfiguredFeature onSave={onFeatureSave} data={custom.features[menu.index]} />}\n        {menu.page === 'noise' && <NoiseSettings onSave={onNoiseSave} data={custom.noises[menu.index]} />}\n        {menu.page === 'dimension' && <Dimension onSave={onDimensionSave} data={custom.dimensions[menu.index]} />}\n        {menu.page === 'stats' && <Stats custom={custom} namespace={namespace} editBiome={editBiome} editDimension={editDimension} editFeature={editFeature} editNoise={editNoise} editSurface={editSurface} />}\n    </div>\n}\n\nfunction Stats({custom, namespace, editBiome, editDimension, editFeature, editNoise, editSurface}) {\n\n    const handleBiomeClick = function(e, index) {\n        e.preventDefault();\n        editBiome(index);\n    }\n    const handleDimensionClick = function(e, index) {\n        e.preventDefault();\n        editDimension(index);\n    }\n    const handleFeatureClick = function(e, index) {\n        e.preventDefault();\n        editFeature(index);\n    }\n    const handleNoiseClick = function(e, index) {\n        e.preventDefault();\n        editNoise(index);\n    }\n    const handleSurfaceClick = function(e, index) {\n        e.preventDefault();\n        editSurface(index);\n    }\n\n    const handleGenerateClick = function(e) {\n        e.preventDefault();\n        buildZip(custom);\n    }\n\n    const mayGenerate = Object.values(custom).some(content => {\n        if (Array.isArray(content)) {\n            return content.length;\n        }\n        return false;\n    });\n\n    return <div className=\"mtm\">\n        <StatsTitle data={custom.biomes} namespace={namespace} onClick={handleBiomeClick}>custom biome</StatsTitle>\n        <StatsTitle data={custom.dimensions} namespace={namespace} onClick={handleDimensionClick}>custom dimension</StatsTitle>\n        <StatsTitle data={custom.features} namespace={namespace} onClick={handleFeatureClick}>configured feature</StatsTitle>\n        <StatsTitle data={custom.surfaces} namespace={namespace} onClick={handleSurfaceClick}>configured surface builder</StatsTitle>\n        <StatsTitle data={custom.noises} namespace={namespace} onClick={handleNoiseClick}>custom noise</StatsTitle>\n        {mayGenerate && <p><Button onClick={handleGenerateClick}>Generate</Button></p>}\n    </div>\n}\n\nfunction StatsTitle({ children, data, namespace, onClick }) {\n    return <>\n        <h5><strong>{data.length}</strong> {children}{data.length > 1 && 's'}</h5>\n        <ul>\n            {data.map((d, i) => {\n                const name = displayNamespacedKey(d.key, namespace);\n                return <li key={i}><a href=\"#edit\" onClick={(e) => onClick(e, i)}>{name}</a></li>\n            })}\n        </ul>\n    </>\n}","import React, { useState } from 'react';\nimport { Button } from '../ui/Button';\nimport { readZip } from '../utils/zip';\n\nexport function DatapackForm({onCreate}) {\n\n    const [error, setError] = useState(null);\n\n    const handleCreate = function(e) {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const namespace = data.get('namespace');\n        onCreate([namespace, undefined]);\n    };\n\n    const handleFile = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const file = (e.dataTransfer || e.target).files[0];\n        readZip(file)\n            .then(onCreate)\n            .catch(error => {\n                console.error(error);\n                setError(error.message);\n            });\n    };\n    const handleDrag = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n    return <form onSubmit={handleCreate} onDragStart={handleDrag} onDragEnter={handleDrag} onDragOver={handleDrag} onDrop={handleFile}>\n        <h2>Create a new dimension datapack</h2>\n        <div className=\"form-group\">\n            <label htmlFor=\"namespace\">Default namespace</label> : <input type=\"text\" name=\"namespace\" id=\"namespace\" required pattern=\"[a-z0-9._-]+\" className=\"form-control\" aria-describedby=\"namespaceHelp\" />\n            <p><small id=\"namespaceHelp\" className=\"form-text text-muted\">This differentiates the datapack from the vanilla functions. Namespaces and identifiers may only contain letters, numbers and <code>._-</code> characters. This namespace is not final, you can edit the vanilla dimensions in the following menus.</small></p>\n        </div>\n        <div className=\"flex-container\">\n            <Button type=\"submit\">Create</Button>\n            <input type=\"file\" name=\"load-existing-zip\" id=\"load-existing-zip\" accept=\".zip\" onChange={handleFile} /><label htmlFor=\"load-existing-zip\" className=\"btn--info\">Use existing datapack</label>\n        </div>\n        {error !== null && <div className=\"mtl\">\n            <div className=\"alert--danger\">{error}</div>\n        </div>}\n        <div className=\"mtl\">\n            <div className=\"alert--warning\">\n                This generator as well as the in-game functionality is unstable. Use this tool with caution.<br />\n                Currently built for pre-release 1. Datapacks created in snapshots will be converted to work in this pre-release.\n            </div>\n        </div>\n    </form>\n}","import React, { useState } from 'react';\nimport './../node_modules/knacss/css/knacss.css';\nimport './App.css';\nimport { Datapack } from './components/Datapack';\nimport { DataContextProvider } from './context/DataContext';\nimport { DatapackForm } from './components/DatapackForm';\n\nfunction App() {\n    const [data, setData] = useState(null);\n\n    return <>\n        {data !== null ? <DataContextProvider namespace={data[0]} initial={data[1]}><Datapack /></DataContextProvider> : <DatapackForm onCreate={setData} />}\n    </>\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />\n,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}