(this.webpackJsonpworldgen=this.webpackJsonpworldgen||[]).push([[0],{24:function(e,a,t){e.exports=t(47)},29:function(e,a,t){},31:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(6),c=t.n(l),o=(t(29),t(2)),i=(t(30),t(31),t(1)),u=t(4),s={mood_sound:{sound:"minecraft:ambient.cave",tick_delay:6e3,block_search_extent:8,offset:2},sky_color:7907327,fog_color:12638463,water_color:4159204,water_fog_color:329011},m=[[],["minecraft:lake_water","minecraft:lake_lava"],[],["minecraft:monster_room"],[],[],["minecraft:ore_dirt","minecraft:ore_gravel","minecraft:ore_granite","minecraft:ore_diorite","minecraft:ore_andesite","minecraft:ore_coal","minecraft:ore_iron","minecraft:ore_gold","minecraft:ore_redstone","minecraft:ore_diamond","minecraft:ore_lapis","minecraft:disk_sand","minecraft:disk_clay","minecraft:disk_gravel"],[],["minecraft:patch_tall_grass_2","minecraft:plain_vegetation","minecraft:flower_plain_decorated","minecraft:patch_grass_plain","minecraft:brown_mushroom_normal","minecraft:red_mushroom_normal","minecraft:patch_sugar_cane","minecraft:patch_pumpkin","minecraft:spring_water","minecraft:spring_lava"],["minecraft:freeze_top_layer"]],f=["minecraft:village_plains","minecraft:pillager_outpost","minecraft:mineshaft","minecraft:stronghold","minecraft:ruined_portal"],d=[{type:"minecraft:bat",weight:10,minCount:8,maxCount:8}],p=[{type:"minecraft:sheep",weight:12,minCount:4,maxCount:4},{type:"minecraft:pig",weight:10,minCount:4,maxCount:4},{type:"minecraft:chicken",weight:10,minCount:4,maxCount:4},{type:"minecraft:cow",weight:8,minCount:4,maxCount:4},{type:"minecraft:horse",weight:5,minCount:2,maxCount:6},{type:"minecraft:donkey",weight:1,minCount:1,maxCount:3}],b=[{type:"minecraft:spider",weight:100,minCount:4,maxCount:4},{type:"minecraft:zombie",weight:95,minCount:4,maxCount:4},{type:"minecraft:zombie_villager",weight:5,minCount:1,maxCount:1},{type:"minecraft:skeleton",weight:100,minCount:4,maxCount:4},{type:"minecraft:creeper",weight:100,minCount:4,maxCount:4},{type:"minecraft:slime",weight:100,minCount:4,maxCount:4},{type:"minecraft:enderman",weight:10,minCount:1,maxCount:4},{type:"minecraft:witch",weight:5,minCount:1,maxCount:1}];function g(e){var a=e.onChange,t=e.starts,l=void 0===t?f:t;Object(n.useEffect)((function(){a(l)}),[a,l]);var c=Object(n.useCallback)((function(e){a(null===e?[]:e.map((function(e){return e.value})))}),[a]),o=Object(n.useMemo)((function(){return["pillager_outpost","mineshaft","mineshaft_mesa","mansion","jungle_pyramid","desert_pyramid","igloo","shipwreck","shipwreck_beached","swamp_hut","stronghold","monument","ocean_ruin_cold","ocean_ruin_warm","fortress","nether_fossil","end_city","buried_treasure","bastion_remnant","village_plains","village_desert","village_savanna","village_snovy","village_taiga","ruined_portal","ruined_portal_desert","ruined_portal_jungle","ruined_portal_swamp","ruined_portal_mountain","ruined_portal_ocean","ruined_portal_nether"].map((function(e){return{value:"minecraft:"+e,label:"minecraft:"+e}}))}),[]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"starts"},"Structures"),r.a.createElement(u.a,{isMulti:!0,id:"starts",options:o,onChange:c,defaultValue:o.filter((function(e){return l.includes(e.value)}))}))}var v=t(23);function _(e){e.loading;var a=e.cat,t=void 0===a?"primary":a,n=Object(v.a)(e,["loading","cat"]);return r.a.createElement("button",Object.assign({className:"btn btn--".concat(t)},n))}function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(n.useState)(e),t=Object(o.a)(a,2),r=t[0],l=t[1],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"boolean"!==typeof e?(null!==e&&e.preventDefault(),l((function(e){return!e}))):l(e)};return[r,c]}var E=t(8),y=t.n(E),O=t(11);function j(e,a){return C.apply(this,arguments)}function C(){return(C=Object(O.a)(y.a.mark((function e(a,t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,Object(i.a)({headers:{Accept:"application/json","Content-Type":"application/json"}},t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!n.ok){e.next=8;break}return e.abrupt("return",r);case 8:throw r;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=["nope","end_spike","end_gateway","end_gateway_delayed","chorus_plant","end_island","end_island_decorated","delta","small_basalt_columns","large_basalt_columns","basalt_blobs","blackstone_blobs","glowstone_extra","glowstone","crimson_forest_vegetation","warped_forest_vegetation","nether_sprouts","twisting_vines","weeping_vines","basalt_pillar","seagrass_cold","seagrass_deep_cold","seagrass_normal","seagrass_river","seagrass_deep","seagrass_swamp","seagrass_warm","seagrass_deep_warm","sea_pickle","ice_spike","ice_patch","forest_rock","seagrass_simple","iceberg_packed","iceberg_blue","kelp_cold","kelp_warm","blue_ice","bamboo_light","bamboo","vines","lake_water","lake_lava","disk_clay","disk_gravel","disk_sand","freeze_top_layer","bonus_chest","void_start_platform","monster_room","desert_well","fossil","spring_lava_double","spring_lava","spring_delta","spring_closed","spring_closed_double","spring_open","spring_water","pile_hay","pile_melon","pile_snow","pile_ice","pile_pumpkin","patch_fire","patch_soul_fire","patch_brown_mushroom","patch_red_mushroom","patch_crimson_roots","patch_sunflower","patch_pumpkin","patch_taiga_grass","patch_berry_bush","patch_grass_plain","patch_grass_forest","patch_grass_badlands","patch_grass_savanna","patch_grass_normal","patch_grass_taiga","patch_grass_taiga_2","patch_grass_jungle","patch_dead_bush","patch_dead_bush_2","patch_dead_bush_badlands","patch_melon","patch_berry_sparse","patch_berry_decorated","patch_waterlilly","patch_tall_grass","patch_tall_grass_2","patch_large_fern","patch_cactus","patch_cactus_desert","patch_cactus_decorated","patch_sugar_cane_swamp","patch_sugar_cane_desert","patch_sugar_cane_badlands","patch_sugar_cane","brown_mushroom_nether","red_mushroom_nether","brown_mushroom_normal","red_mushroom_normal","brown_mushroom_taiga","red_mushroom_taiga","brown_mushroom_giant","red_mushroom_giant","brown_mushroom_swamp","red_mushroom_swamp","ore_magma","ore_soul_sand","ore_gold_deltas","ore_quartz_deltas","ore_gold_nether","ore_quartz_nether","ore_gravel_nether","ore_blackstone","ore_dirt","ore_gravel","ore_granite","ore_diorite","ore_andesite","ore_coal","ore_iron","ore_gold_extra","ore_gold","ore_redstone","ore_diamond","ore_lapis","ore_infested","ore_emerald","ore_debris_large","ore_debris_small","crimson_fungi","crimson_fungi_planted","warped_fungi","warped_fungi_planted","huge_brown_mushroom","huge_red_mushroom","oak","dark_oak","birch","acacia","spruce","pine","jungle_tree","fancy_oak","jungle_tree_no_vine","mega_jungle_tree","mega_spruce","mega_pine","swamp_tree","jungle_bush","oak_badlands","spruce_snovy","flower_warm","flower_default","flower_forest","flower_swamp","flower_plain","flower_plain_decorated","forest_flower_vegetation_common","forest_flower_vegetation","dark_forest_vegetation_brown","dark_forest_vegetation_red","warm_ocean_vegetation","forest_flower_trees","taiga_vegetation","trees_shattered_savanna","trees_savanna","birch_tall","trees_mountain_edge","trees_mountain","trees_water","birch_other","plain_vegetation","trees_jungle_edge","trees_giant_spruce","trees_giant","trees_jungle","bamboo_vegetation","mushroom_field_vegetation"],w=["acacia_logs","anvil","bamboo_plantable_on","banners","base_stone_nether","base_stone_overworld","beacon_base_blocks","beds","beehives","bee_growables","birch_logs","buttons","campfires","carpets","climbable","corals","coral_blocks","coral_plants","crimson_stems","crops","dark_oak_logs","doors","dragon_immune","enderman_holdable","fence_gates","fences","fire","flowers","flower_pots","gold_ores","guarded_by_piglins","hoglin_repellents","ice","impermeable","infiniburn_end","infiniburn_nether","infiniburn_overworld","jungle_logs","leaves","logs","logs_that_burn","mushroom_grow_block\u200c","non_flammable_wood","oak_logs","piglin_repellents","planks","portals","pressure_plates","prevent_mob_spawning_inside","rails","sand","saplings","shulker_boxes","signs","slabs","small_flowers","soul_fire_base_blocks","soul_speed_blocks","spruce_logs","stairs","standing_signs","stone_bricks","stone_pressure_plates","strider_warm_blocks","tall_flowers","trapdoors","underwater_bonemeals","unstable_bottom_center","valid_spawn","walls","wall_corals","wall_post_override","wall_signs","warped_stems","wart_blocks","wither_immune","wither_summon_base_blocks","wooden_buttons","wooden_doors","wooden_fences","wooden_pressure_plates","wooden_slabs","wooden_stairs","wooden_trapdoors","wool"].map((function(e){return{value:"minecraft:"+e,label:e}})),N=[{value:"chance",label:"Chance"},{value:"count",label:"Count"},{value:"count_extra",label:"Count extra"},{value:"count_multilayer",label:"Count multi layer"},{value:"decorated",label:"Decorated"},{value:"fire",label:"Fire"},{value:"range",label:"Range"},{value:"range_very_biased",label:"Range very biased"},{value:"square",label:"Square"}].map((function(e){return e.value="minecraft:"+e.value,e})),x=[{value:"alter_ground",label:"Alter ground"},{value:"beehive",label:"Beehive",default:{probability:.02}},{value:"cocoa",label:"Cocoa beans",default:{probability:.2}},{value:"leave_vine",label:"Leave vine"},{value:"trunk_vine",label:"Trunk vine"}].map((function(e){return e.value="minecraft:"+e.value,e})),S={target:{tag:"minecraft:base_stone_overworld",predicate_type:"minecraft:tag_match"},state:{Name:"minecraft:gold_ore"},size:30},D={config:{feature:{config:{feature:{config:{feature:{config:S,type:"minecraft:ore"},decorator:{config:{bottom_offset:0,top_offset:0,maximum:32},type:"minecraft:range"}},type:"minecraft:decorated"},decorator:{config:{},type:"minecraft:square"}},type:"minecraft:decorated"},decorator:{config:{count:2},type:"minecraft:count"}},type:"minecraft:decorated"},F={heightmap:"OCEAN_FLOOR",minimum_size:{limit:1,lower_size:0,upper_size:1,type:"minecraft:two_layers_feature_size"},decorators:[],trunk_provider:{state:{Properties:{axis:"y"},Name:"minecraft:birch_log"},type:"minecraft:simple_state_provider"},leaves_provider:{state:{Properties:{persistent:"false",distance:"7"},Name:"minecraft:birch_leaves"},type:"minecraft:simple_state_provider"},foliage_placer:{radius:2,offset:0,height:3,type:"minecraft:blob_foliage_placer"},trunk_placer:{base_height:5,height_rand_a:2,height_rand_b:0,type:"minecraft:straight_trunk_placer"}},z={can_replace:!1,project:!0,need_water:!1,xspread:7,yspread:3,zspread:7,whitelist:[{Properties:{snowy:"false"},Name:"minecraft:grass_block"}],blacklist:[],tries:64,state_provider:{state:{Name:"minecraft:pumpkin"},type:"minecraft:simple_state_provider"},block_placer:{type:"minecraft:simple_block_placer"}},M={config:{feature:{config:{feature:{config:z,type:"minecraft:random_patch"},decorator:{config:{outer:{config:{},type:"minecraft:square"},inner:{config:{},type:"minecraft:heightmap_spread_double"}},type:"minecraft:decorated"}},type:"minecraft:decorated"},decorator:{config:{chance:32},type:"minecraft:chance"}},type:"minecraft:decorated"},P={config:{feature:{config:{feature:{config:F,type:"minecraft:tree"},decorator:{config:{outer:{config:{},type:"minecraft:square"},inner:{config:{},type:"minecraft:heightmap"}},type:"minecraft:decorated"}},type:"minecraft:decorated"},decorator:{config:{count:10,extra_chance:.1,extra_count:1},type:"minecraft:count_extra"}},type:"minecraft:decorated"},T={count:10,extra_chance:.1,extra_count:1},V={outer:{config:{},type:"minecraft:square"},inner:{config:{},type:"minecraft:heightmap"}},A={bottom_offset:4,top_offset:0,maximum:64},B=[{value:"badlands",label:"Badlands"},{value:"basalt_deltas",label:"Basalt Deltas"},{value:"crimson_forest",label:"Crimson forest"},{value:"deset",label:"Desert"},{value:"end",label:"End"},{value:"eroded_badlands",label:"Eroded Badlands"},{value:"frozen_ocean",label:"Frozen ocean"},{value:"full_sand",label:"Full sand"},{value:"giant_tree_taiga",label:"Giant tree taiga"},{value:"grass",label:"Grass"},{value:"gravelly_mountain",label:"Gravelly mountain"},{value:"ice_spikes",label:"Ice spikes"},{value:"mountain",label:"Mountain"},{value:"mycelium",label:"Mycelium"},{value:"nether",label:"Nether"},{value:"nope",label:"Nope"},{value:"ocean_sand",label:"Ocean sand"},{value:"shattered_savanna",label:"Shattered savanna"},{value:"soul_sand_valley",label:"Soul sand valley"},{value:"stone",label:"Stone"},{value:"swamp",label:"Swamp"},{value:"warped_forest",label:"Warped forest"},{value:"wooded_badlands",label:"Wooded badlands"}].map((function(e){return e.value="minecraft:"+e.value,e})),I=[{value:"default",label:"Default"},{value:"mountain",label:"Mountain"},{value:"shattered_savanna",label:"Shattered savanna"},{value:"gravelly_mountain",label:"Gravelly mountain"},{value:"giant_tree_taiga",label:"Giant tree taiga"},{value:"swamp",label:"Swamp"},{value:"badlands",label:"Badlands"},{value:"wooded_badlands",label:"Wooded badlands"},{value:"eroded_badlands",label:"Eroded badlands"},{value:"frozen_ocean",label:"Frozen ocean"},{value:"nether",label:"Nether"},{value:"nether_forest",label:"Nether forest"},{value:"soul_sand_valley",label:"Soul sand valley"},{value:"basalt_deltas",label:"Basalt deltas"},{value:"nope",label:"Nope"}].map((function(e){return e.value="minecraft:"+e.value,e})),R={config:{top_material:{Properties:{snowy:"false"},Name:"minecraft:grass_block"},under_material:{Name:"minecraft:dirt"},underwater_material:{Name:"minecraft:gravel"}},type:"minecraft:default"},W=[{value:"minecraft:overworld",label:"Overworld"},{value:"minecraft:nether",label:"Nether"},{value:"minecraft:end",label:"End"},{value:"minecraft:amplified",label:"Amplified"},{value:"minecraft:caves",label:"Caves"},{value:"minecraft:floating_islands",label:"Floating islands"}],q=["ocean_ruin","bastion_remnant","fortress","nether_fossil","igloo","shipwreck","swamp_hut","jungle_pyramid","village","ruined_portal","endcity","buried_treasure","mansion","monument","stronghold","pillager_outpost","desert_pyramid","mineshaft"].map((function(e){return{value:"minecraft:"+e,label:e}})),U={bedrock_roof_position:-10,bedrock_floor_position:0,sea_level:63,disable_mob_generation:!1,structures:{stronghold:{distance:32,spread:3,count:128},structures:{"minecraft:ocean_ruin":{spacing:20,separation:8,salt:14357621},"minecraft:bastion_remnant":{spacing:27,separation:4,salt:30084232},"minecraft:fortress":{spacing:27,separation:4,salt:30084232},"minecraft:nether_fossil":{spacing:2,separation:1,salt:14357921},"minecraft:igloo":{spacing:32,separation:8,salt:14357618},"minecraft:shipwreck":{spacing:24,separation:4,salt:165745295},"minecraft:swamp_hut":{spacing:32,separation:8,salt:14357620},"minecraft:jungle_pyramid":{spacing:32,separation:8,salt:14357619},"minecraft:village":{spacing:32,separation:8,salt:10387312},"minecraft:ruined_portal":{spacing:40,separation:15,salt:34222645},"minecraft:endcity":{spacing:20,separation:11,salt:10387313},"minecraft:buried_treasure":{spacing:1,separation:0,salt:0},"minecraft:mansion":{spacing:80,separation:20,salt:10387319},"minecraft:monument":{spacing:32,separation:5,salt:10387313},"minecraft:stronghold":{spacing:1,separation:0,salt:0},"minecraft:pillager_outpost":{spacing:32,separation:8,salt:165745296},"minecraft:desert_pyramid":{spacing:32,separation:8,salt:14357617},"minecraft:mineshaft":{spacing:1,separation:0,salt:0}}},noise:{height:256,sampling:{xz_scale:1,y_scale:1,xz_factor:80,y_factor:160},top_slide:{target:-10,size:3,offset:0},bottom_slide:{target:-30,size:0,offset:0},size_horizontal:1,size_vertical:2,density_factor:1,density_offset:-.47,simplex_surface_noise:!0,random_density_offset:!0,island_noise_override:!1,amplified:!1},default_block:{Name:"minecraft:stone"},default_fluid:{Properties:{level:"0"},Name:"minecraft:water"}},G={generator:{type:"minecraft:noise",seed:286956243,biome_source:{type:"minecraft:fixed",seed:286956243,biome:"minecraft:plains"},settings:"minecraft:overworld"},type:"minecraft:overworld"},J=[{value:"minecraft:overworld",label:"Overworld"},{value:"minecraft:overworld_cave",label:"Overworld caves"},{value:"minecraft:the_nether",label:"The Nether"},{value:"minecraft:the_end",label:"The End"}],$=["temperature_noise","humidity_noise","altitude_noise","weirdness_noise"],L={type:"minecraft:multi_noise",seed:286956243,temperature_noise:{firstOctave:-7,amplitudes:[1,1]},humidity_noise:{firstOctave:-7,amplitudes:[1,1]},altitude_noise:{firstOctave:-7,amplitudes:[1,1]},weirdness_noise:{firstOctave:-7,amplitudes:[1,1]},biomes:[]},H=r.a.createContext({vanilla:{biomes:[],blocks:[],dimensions:[],dimension_types:[],entities:[],features:[],noises:[],surfaces:[]},custom:{biomes:[],dimensions:[],dimension_types:[],features:[],noises:[],surfaces:[],updateBiomes:function(e){},updateDimensions:function(e){},updateDimensionTypes:function(e){},updateFeatures:function(e){},updateNoises:function(e){},updateSurfacesBuilders:function(e){}},namespace:""});function Y(e){var a=e.children,t=e.namespace,l=e.initial,c=void 0===l?{}:l,i=Object(n.useState)([]),u=Object(o.a)(i,2),s=u[0],m=u[1],f=Object(n.useState)([]),d=Object(o.a)(f,2),p=d[0],b=d[1],g=Object(n.useState)([]),v=Object(o.a)(g,2),_=v[0],h=v[1],E=te(c.biomes),C=Object(o.a)(E,2),w=C[0],N=C[1],x=te(c.dimensions),S=Object(o.a)(x,2),D=S[0],F=S[1],z=te(c.dimension_types),M=Object(o.a)(z,2),P=M[0],T=M[1],V=te(c.features),A=Object(o.a)(V,2),I=A[0],R=A[1],q=te(c.noises),U=Object(o.a)(q,2),G=U[0],$=U[1],L=te(c.surfaces),Y=Object(o.a)(L,2),X=Y[0],K=Y[1];return Object(n.useEffect)((function(){Object(O.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j("https://unpkg.com/minecraft-data@2.63.0/minecraft-data/data/pc/1.16.1/biomes.json").then((function(e){return m(e)})),j("https://unpkg.com/minecraft-data@2.63.0/minecraft-data/data/pc/1.16.1/blocks.json").then((function(e){return b(e)})),j("https://unpkg.com/minecraft-data@2.63.0/minecraft-data/data/pc/1.16.1/entities.json").then((function(e){return h(e.map((function(e){return{value:"minecraft:"+e.name,label:e.displayName}})))}));case 3:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(H.Provider,{value:{vanilla:{biomes:s,blocks:p,dimensions:J.filter((function(e){return!e.value.includes("cave")})),dimension_types:J,entities:_,features:k,noises:W,surfaces:B},custom:{biomes:w,dimensions:D,dimension_types:P,features:I,noises:G,surfaces:X,updateBiomes:N,updateDimensions:F,updateDimensionTypes:T,updateFeatures:R,updateNoises:$,updateSurfacesBuilders:K},namespace:t}},a)}var X=t(7);function K(e,a){return Object.keys(e).length===Object.keys(a).length&&Object.keys(e).every((function(t){return e[t]===a[t]}))}function Z(e,a){return e.startsWith(a+":")?e.split(":")[1]:e}function Q(e){var a=[],t=null;return function e(n){for(var r=0,l=Object.keys(n);r<l.length;r++){var c=l[r];"decorator"===c?(a.unshift(n[c]),null!==t||n.feature.hasOwnProperty("decorator")||(t=n.feature)):"object"===typeof n[c]&&e(n[c])}}(e),null===t&&(t={}),[a,t]}function ee(e,a,t){if(a.length<1)return e;var n={type:"minecraft:decorated",key:t},r=n;return a.forEach((function(n,l){var c=l===a.length-1?e:{type:"minecraft:decorated"};r.config={feature:c,decorator:n},r=c,l<1&&(c.name=t)})),n}function ae(e,a){switch(e){case"biomes":return a.hasOwnProperty("sky_color")&&(a.effects.sky_color=a.sky_color),a;case"features":var t=Q(a),n=Object(o.a)(t,2),r=n[0],l=n[1];return l.hasOwnProperty("type")?a:(l.type=l.name,delete l.name,ee(l,r.map((function(e){return function e(a,t){var n={};for(var r in a){var l=t[r]||r,c=a[r];"object"===typeof c&&(c=e(c,t)),n[l]=c}return n}(e,{name:"type"})})),a.key));case"dimensions":var c=a.generator.biome_source;return"minecraft:multi_noise"===c.type&&$.some((function(e){return!c.hasOwnProperty(e)}))&&(a.generator.biome_source=Object(i.a)(Object(i.a)({},L),c)),a;default:return a.hasOwnProperty("name")&&!a.hasOwnProperty("type")&&(a.type=a.name),a}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Object(n.useState)(e),t=Object(o.a)(a,2),r=t[0],l=t[1],c=function(e){l((function(a){var t=a.findIndex((function(a){var t=a.key;return e.key===t}));return t>-1&&t!==e.index?(e.index=a.length,e.key=e.key+"2",a.push(e),a):("undefined"===typeof e.index?(e.index=a.length,a.push(e)):a[e.index]=e,a)}))};return[r,c]}function ne(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(n.useContext)(H);return Object(n.useMemo)((function(){if(t)return[];var n=a?r.custom[e].map((function(e){var a=Z(e.key,r.namespace);return{value:e.key,label:"(Custom) "+a}})):[],l=null;return r.vanilla[e].forEach((function(e){switch(null===l&&(l=e.hasOwnProperty("displayName")?1:e.hasOwnProperty("label")?2:3),l){case 1:return void n.push({value:"minecraft:"+e.name,label:e.displayName});case 2:return void n.push(e);default:n.push({value:"minecraft:"+e,label:e})}})),n}),[e,r.custom,r.namespace,r.vanilla,t,a])}function re(e){var a=e.example,t=void 0===a?"daily_resource":a,l=e.type,c=e.value,i=void 0===c?"":c,s=e.onChange,m=e.expectBreakage,f=void 0!==m&&m,d=e.mayReplaceVanilla,p=void 0!==d&&d,b=Object(n.useRef)(null),g=Object(n.useState)(i),v=Object(o.a)(g,2),E=v[0],y=v[1],O=ne(l,!1,!p),j=Object(n.useContext)(H).namespace,C=h(O.some((function(e){return E===e.value}))),k=Object(o.a)(C,2),w=k[0],N=k[1],x=Object(n.useCallback)((function(e){var a=e.target.value.toLowerCase();a.includes(":")?y(a):y(j+":"+a)}),[j,y]),S=Object(n.useCallback)((function(e){return y(e.value)}),[y]);Object(n.useEffect)((function(){"function"===typeof s&&E!==i&&s(E)}),[E,s,i]);var D=Object(n.useCallback)((function(e){if("Enter"===e.key){e.preventDefault();var a=b.current.form;null!==a&&a.dispatchEvent(new Event("submit",{cancelable:!0}))}}),[]),F=Object(n.useCallback)((function(e){w&&E.startsWith("minecraft:")&&y((function(e){return j+":"+e.split(":")[1]})),N(e)}),[j,E,y,w,N]),z=Object(n.useMemo)((function(){return E.startsWith(j+":")?E.split(":")[1]:E}),[j,E]),M=Object(n.useMemo)((function(){return w&&!O.some((function(e){return e.value===E}))?"":E}),[E,O,w]),P=Object(n.useMemo)((function(){return{width:8*Math.max.apply(Math,O.map((function(e){return e.label.length})))+60}}),[O]),T=Object(n.useCallback)(console.log,[]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"key"},w?"Replace":"Key")," :",w&&r.a.createElement("div",{className:"inbl mls",id:"key",style:P},r.a.createElement(u.a,{options:O,value:O.find((function(e){return E===e.value})),onChange:S})),!w&&r.a.createElement("div",{className:"inbl mls"},r.a.createElement("input",{type:"text",id:"key",required:!0,pattern:"^([\\w.-]+:[\\w.-]+)$|^[\\w.-]+$",placeholder:"Example: ".concat(t),autoCapitalize:"none",spellCheck:"false",autoComplete:"off",value:z,onChange:x,onKeyPress:D})),r.a.createElement("input",{type:w?"text":"hidden",name:"key",value:M,onChange:T,ref:b,required:!0,tabIndex:"-1",style:{opacity:0,height:0,position:"absolute"}}),p&&r.a.createElement(_,{cat:"info mlm",onClick:F},w?"Create a new one":"Replace vanilla"),f&&i!==E&&r.a.createElement("p",{className:"alert--warning"},"Warning: changing the name of a resource may break other resources that depend on it."),!p&&!w&&E.startsWith("minecraft:")&&r.a.createElement("p",{className:"alert--warning"},"Warning: datapacks cannot currently replace vanilla ",l,"."))}var le=t(5),ce=t(17),oe=t(21),ie=t.n(oe);function ue(e,a){switch(a.type){case ge:return a.unshift?[a.payload].concat(Object(ce.a)(e)):[].concat(Object(ce.a)(e),[a.payload]);case ve:if("number"===typeof a.target&&"number"===typeof a.payload)return ie()(e,a.target,a.payload);if("undefined"===typeof a.target)throw new Error("Cannot update an element without its previous state.");return e.map((function(e){return e===a.target?a.payload:e}));case _e:return e.filter((function(e){return e!==a.payload}));default:return e}}function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(n.useReducer)(ue,e)}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=se(e),l=Object(o.a)(r,2),c=l[0],u=l[1],s=Object(n.useCallback)((function(e){e.preventDefault();var n="function"===typeof a?a(c):Object(i.a)({},a);u({type:he.ADD,payload:n,unshift:t})}),[u,c,a,t]),m=Object(n.useCallback)((function(e,a){e.hasOwnProperty("oldIndex")&&e.hasOwnProperty("newIndex")?u({type:he.UPDATE,target:e.oldIndex,payload:e.newIndex}):u({type:he.UPDATE,target:a,payload:e})}),[u]),f=Object(n.useCallback)((function(e,a){e.preventDefault(),u({type:he.REMOVE,payload:c[a]})}),[u,c]);return[c,s,m,f]}function fe(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=Object(n.useContext)(H).vanilla.blocks;return Object(n.useMemo)((function(){return e?a.map((function(e){return{value:"minecraft:"+e.name,label:e.displayName}})):a}),[a,e])}function de(e,a){return Object(n.useCallback)((function(t){if("checkbox"!==t.target.type){var n=isNaN(t.target.value)?t.target.value:parseFloat(t.target.value);e(Object(i.a)(Object(i.a)({},a),{},Object(le.a)({},t.target.dataset.name||t.target.id||t.target.name,n)))}else e(Object(i.a)(Object(i.a)({},a),{},Object(le.a)({},t.target.dataset.name||t.target.id||t.target.name,t.target.checked)))}),[e,a])}function pe(e,a,t){Object(n.useEffect)((function(){JSON.stringify(e)!==JSON.stringify(a)&&t(e,a)}),[e,a,t])}function be(e,a,t){var r=ne(e);"undefined"===typeof t&&(t=Array.isArray(a));var l=Object(n.useState)(a||(t?r.length>0?[r[0].value]:[]:r.length>0?r[0].value:"")),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(n.useCallback)((function(e){u(t?null===e?[]:e.map((function(e){return e.value})):e.value)}),[t]);return[r,i,s]}var ge="ADD",ve="UPDATE",_e="REMOVE",he={ADD:ge,UPDATE:ve,REMOVE:_e};function Ee(e){var a=e.onChange,t=e.data,l=void 0===t?{ambient:d,creature:p,misc:[],monster:b,water_ambient:[],water_creature:[]}:t,c=Object(n.useContext)(H).vanilla.entities,u=Object(n.useState)(l),s=Object(o.a)(u,2),m=s[0],f=s[1],g=Object(n.useCallback)((function(e,t){f((function(n){var r=Object(i.a)(Object(i.a)({},n),{},Object(le.a)({},e,t));return a(r),r}))}),[a]);return r.a.createElement("div",null,r.a.createElement(ye,{group:"ambient",data:m.ambient,onChange:g,entities:c},"Ambient"),r.a.createElement(ye,{group:"creature",data:m.creature,onChange:g,entities:c},"Creature"),r.a.createElement(ye,{group:"misc",data:m.misc,onChange:g,entities:c},"Miscellaneous"),r.a.createElement(ye,{group:"monster",data:m.monster,onChange:g,entities:c},"Monster"),r.a.createElement(ye,{group:"water_ambient",data:m.water_ambient,onChange:g,entities:c},"Water ambient"),r.a.createElement(ye,{group:"water_creature",data:m.water_creature,onChange:g,entities:c},"Water creature"))}function ye(e){var a=e.children,t=e.entities,l=e.data,c=void 0===l?[]:l,i=e.group,u=e.onChange,s=h(),m=Object(o.a)(s,2),f=m[0],d=m[1],p=f?"Less...":"More...",b=se(c),g=Object(o.a)(b,2),v=g[0],E=g[1],y=Object(n.useCallback)((function(e){e.preventDefault(),E({type:he.ADD,payload:{type:"minecraft:cow",weight:1,minCount:1,maxCount:1}}),f||d()}),[E,d,f]),O=Object(n.useCallback)((function(e,a){E({type:he.UPDATE,target:e,payload:a})}),[E]),j=Object(n.useCallback)((function(e){E({type:he.REMOVE,payload:e})}),[E]);Object(n.useEffect)((function(){u(i,v)}),[i,u,v]);var C=[];return f?(v.forEach((function(e,a){var n="".concat(a,"-").concat(e.type,"-").concat(e.weight,"-").concat(e.minCount,"-").concat(e.maxCount);C.push(r.a.createElement(Oe,{data:e,key:n,onChange:O,onDelete:j,entities:t}))})),r.a.createElement("div",null,r.a.createElement("div",{className:"toggle-label"},a,r.a.createElement("div",{className:"btn-group"},r.a.createElement(_,{onClick:y},"Add"),v.length>0&&r.a.createElement(_,{cat:"secondary",onClick:d},p))),C)):r.a.createElement("div",{className:"toggle-label"},a,r.a.createElement("div",{className:"btn-group"},v.length>0&&r.a.createElement(_,{cat:"secondary",onClick:d},p),v.length<1&&r.a.createElement(_,{onClick:y},"Add")))}var Oe=r.a.memo((function(e){var a=e.entities,t=e.onChange,l=e.onDelete,c=e.data,s=Object(n.useState)(c),m=Object(o.a)(s,2),f=m[0],d=m[1],p=function(e){var a="undefined"===typeof e.target?"type":e.target.id,n="undefined"===typeof e.target?e.value:parseInt(e.target.value);d((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,n))})),t(c,Object(i.a)(Object(i.a)({},c),{},Object(le.a)({},a,n)))},b=function(e){var a=parseInt(e.target.value);("minCount"===e.target.id&&a<=f.maxCount||"maxCount"===e.target.id&&a>=f.minCount)&&(d((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(le.a)({},e.target.id,a))})),t(c,Object(i.a)(Object(i.a)({},c),{},Object(le.a)({},e.target.id,a))))},g=Object(n.useMemo)((function(){return a.find((function(e){return e.value===f.type}))}),[f.type,a]);return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Mob type")," : ",r.a.createElement(u.a,{options:a,value:g,onChange:p})),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"weight"},"Weight")," : ",r.a.createElement("input",{type:"number",id:"weight",required:!0,value:f.weight,onChange:p})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"minCount"},"Min count")," : ",r.a.createElement("input",{type:"number",id:"minCount",min:"0",required:!0,value:f.minCount,onChange:b})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"maxCount"},"Max count")," : ",r.a.createElement("input",{type:"number",id:"maxCount",min:"0",required:!0,value:f.maxCount,onChange:b})),r.a.createElement("div",{className:"form-inline"},r.a.createElement(_,{cat:"danger",onClick:function(e){e.preventDefault(),l(c)}},"Delete"))),r.a.createElement("hr",null))}),(function(e,a){return e.entities.length===a.entities.length&&e.data===a.data}));function je(e){var a=e.onChange,t=e.features,l=void 0===t?m:t,c=Object(n.useState)(l),i=Object(o.a)(c,2),u=i[0],s=i[1],f=Object(n.useCallback)((function(e,t){s((function(a){return a[e]=t,a})),a(u)}),[u,a]);Object(n.useEffect)((function(){a(u)}),[u,a]);var d=[];return u.forEach((function(e,a){d.push(r.a.createElement("li",{key:a},r.a.createElement(Ce,{value:e,onChange:f,priority:a})))})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Features"),r.a.createElement("p",{className:"help"},r.a.createElement("small",{className:"text-muted"},"Each generation feature is associated with a priority. The higher the priority, the later the feature will be applied.")),r.a.createElement("ol",null,d))}function Ce(e){var a=e.onChange,t=e.priority,l=e.value,c=ne("features"),o=Object(n.useCallback)((function(e){a(t,null===e?[]:e.map((function(e){return e.value})))}),[a,t]);return r.a.createElement(u.a,{isMulti:!0,options:c,onChange:o,defaultValue:c.filter((function(e){return l.includes(e.value)}))})}function ke(e){return"#"+(16777215&e).toString(16).padStart(6,"0")}function we(e){var a=e.effects,t=void 0===a?s:a,l=e.onChange,c=Object(n.useState)(t),u=Object(o.a)(c,2),m=u[0],f=u[1],d=h(t.hasOwnProperty("foliage_color")||t.hasOwnProperty("grass_color")),p=Object(o.a)(d,2),b=p[0],g=p[1],v=Object(n.useCallback)((function(e){var a=e.target.id,t=e.target.value;f((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,parseInt(t.replace(/^#/,""),16)))}))}),[]),_=Object(n.useCallback)((function(e){g(e.target.checked)}),[g]);return Object(n.useEffect)((function(){var e=Object(i.a)({},m);b||(delete e.foliage_color,delete e.grass_color),l(e)}),[b,m,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"sky_color"},"Sky color")," : ",r.a.createElement("input",{type:"color",id:"sky_color",required:!0,value:ke(m.sky_color),onChange:v})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"fog_color"},"Fog color")," : ",r.a.createElement("input",{type:"color",id:"fog_color",value:ke(m.fog_color),onChange:v})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"water_color"},"Water color")," : ",r.a.createElement("input",{type:"color",id:"water_color",value:ke(m.water_color),onChange:v})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"water_fog_color"},"Water fog color")," : ",r.a.createElement("input",{type:"color",id:"water_fog_color",value:ke(m.water_fog_color),onChange:v})),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"foliage_color"},"Foliage color")," : ",r.a.createElement("input",{type:"color",id:"foliage_color",value:ke(m.foliage_color||10387789),onChange:v})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"grass_color"},"Grass color")," : ",r.a.createElement("input",{type:"color",id:"grass_color",value:ke(m.grass_color||9470285),onChange:v}))),r.a.createElement("div",{className:"form-inline"},r.a.createElement("label",{htmlFor:"block-toggle"},"Optionals")," : ",r.a.createElement("input",{type:"checkbox",id:"block-toggle",className:"checkbox",checked:b,onChange:_})))}function Ne(e){var a=e.data,t=void 0===a?{}:a,l=e.onSave,c=Object(n.useState)(t||{starts:f,spawners:[]}),u=Object(o.a)(c,2),s=u[0],m=u[1],d=Object(n.useCallback)((function(e){m((function(a){return a.starts=e,a}))}),[]),p=Object(n.useCallback)((function(e){m((function(a){return a.effects=e,a}))}),[]),b=Object(n.useCallback)((function(e){m((function(a){return a.features=e,a}))}),[]),v=Object(n.useCallback)((function(e){m((function(a){return a.spawners=e,a}))}),[]),h=Object(n.useCallback)((function(e){e.preventDefault();var a=Object.fromEntries(new FormData(e.target)),t=Object(i.a)(Object(i.a)({},s),a);t.spawn_costs={},t.carvers={air:["minecraft:cave","minecraft:canyon"]},Object.keys(a).forEach((function(e){isNaN(a[e])||(t[e]=parseFloat(a[e]))})),l(t)}),[l,s]);return r.a.createElement("form",{onSubmit:h},r.a.createElement("h3",null,"Edit biome"),r.a.createElement(re,{example:"arctic",type:"biomes",value:t.key,expectBreakage:"undefined"!==typeof t.key}),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Colors"),r.a.createElement("div",{className:"form-row"},r.a.createElement(we,{effects:s.effects,onChange:p}))),r.a.createElement("fieldset",null,r.a.createElement(xe,{category:t.category}),r.a.createElement(Se,{value:t.precipitation})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Generation"),r.a.createElement(De,{value:t.surface_builder}),r.a.createElement(g,{onChange:d,starts:s.starts}),r.a.createElement(je,{features:s.features,onChange:b})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Creatures"),r.a.createElement(Ee,{data:s.spawners,onChange:v})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Settings"),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"scale"},"Scale")," : ",r.a.createElement("input",{type:"number",name:"scale",step:"0.05",required:!0,defaultValue:t.scale||.05})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"downfall"},"Downfall")," : ",r.a.createElement("input",{type:"number",name:"downfall",step:"0.1",required:!0,defaultValue:t.downfall||.4})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"depth"},"Depth")," : ",r.a.createElement("input",{type:"number",name:"depth",step:"0.01",required:!0,defaultValue:t.depth||.12})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"temperature"},"Temperature")," : ",r.a.createElement("input",{type:"number",name:"temperature",step:"0.1",required:!0,defaultValue:t.temperature||.8})),r.a.createElement("p",{className:"mts"},r.a.createElement("small",{className:"text-muted"},"The ",r.a.createElement("em",null,"scale")," parameter defines terrain amplitude, ",r.a.createElement("em",null,"downfall")," controls grass and foliage color, ",r.a.createElement("em",null,"depth")," is the difference from sea level, ",r.a.createElement("em",null,"temperature")," controls some gameplay features like whether snow golems take damage. The default values are those of the plains biome.")))),r.a.createElement("div",{className:"form-group mlm mbm"},r.a.createElement(_,{type:"submit"},"Save")))}function xe(e){var a=e.category,t=void 0===a?"plains":a,n=[{value:"beach",label:"Beach"},{value:"desert",label:"Desert"},{value:"extreme_hills",label:"Extreme hills"},{value:"forest",label:"Forest"},{value:"icy",label:"Icy"},{value:"jungle",label:"Jungle"},{value:"mesa",label:"Mesa"},{value:"nether",label:"Nether"},{value:"none",label:"None"},{value:"ocean",label:"Ocean"},{value:"plains",label:"Plains"},{value:"river",label:"River"},{value:"savanna",label:"Savanna"},{value:"swamp",label:"Swamp"},{value:"taiga",label:"Taiga"},{value:"the_end",label:"The end"}];return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement(u.a,{options:n,defaultValue:n.find((function(e){return e.value===t})),name:"category"}))}function Se(e){var a=e.value,t=void 0===a?"rain":a,n=[{value:"none",label:"None"},{value:"rain",label:"Rain"},{value:"snow",label:"Snow"}];return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"precipitation"},"Precipitation"),r.a.createElement(u.a,{options:n,defaultValue:n.find((function(e){return e.value===t})),name:"precipitation"}))}function De(e){var a=e.value,t=void 0===a?"minecraft:grass":a,n=ne("surfaces");return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"surface_builder"},"Surface builder"),r.a.createElement(u.a,{options:n,defaultValue:n.find((function(e){return e.value===t})),name:"surface_builder"}))}function Fe(e){var a=e.active,t=e.children,n=e.onClick,l="tabs-menu-link"+(a?" is-active":"");return r.a.createElement("a",{href:"#_",className:l,onClick:n},t)}function ze(e){var a=e.type,t=void 0===a?"minecraft:overworld":a,n=ne("dimension_types");return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"dimension-type"},"Dimension type"),r.a.createElement(u.a,{name:"dimension-type",options:n,defaultValue:n.find((function(e){return e.value===t}))||n[0]}))}var Me=r.a.memo((function(e){var a=e.numbers,t=void 0===a?[]:a,n=e.onChange,l=function(e,a){n(t.map((function(t,n){return n===a?e:t})))};return r.a.createElement("div",{className:"flex-container"},t.map((function(e,a){return r.a.createElement(Pe,{key:a,number:e,onChange:function(e){return l(e,a)}})})))})),Pe=r.a.memo((function(e){var a=e.number,t=e.onChange;return r.a.createElement("input",{type:"number",value:a,onChange:function(e){return t(parseInt(e.target.value))}})}));function Te(e){var a=e.biome_source,t=void 0===a?{type:"minecraft:fixed"}:a,l=e.onChange,c=Object(n.useState)(t),s=Object(o.a)(c,2),m=s[0],f=s[1],d=Object(n.useMemo)((function(){return[{value:"minecraft:checkerboard",label:"Checkerboard"},{value:"minecraft:fixed",label:"Fixed"},{value:"minecraft:multi_noise",label:"Multi noise"}]}),[]),p=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{seed:e})}))}),[]),b=Object(n.useCallback)((function(e){f((function(a){return{type:e.value,seed:a.seed}}))}),[]),g=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),e)}))}),[]),v=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{biome:e})}))}),[]),_=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),e)}))}),[]);Object(n.useEffect)((function(){return l(m)}),[l,m]);var h=Object(n.useMemo)((function(){return d.find((function(e){return e.value===m.type}))}),[d,m.type]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Biome source"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"biome-source-type"},"Type"),r.a.createElement(u.a,{id:"biome-source-type",options:d,value:h,onChange:b})),r.a.createElement(qe,{value:m.seed,onChange:p}),r.a.createElement("hr",null),"minecraft:checkerboard"===m.type&&r.a.createElement(Ve,{source:m,onChange:g}),"minecraft:fixed"===m.type&&r.a.createElement(Ae,{source:m.biome,onChange:v}),"minecraft:multi_noise"===m.type&&r.a.createElement(Be,{source:m,onChange:_}))}var Ve=r.a.memo((function(e){var a=e.source,t=e.onChange,l=be("biomes",a.biomes,!0),c=Object(o.a)(l,3),i=c[0],s=c[1],m=c[2],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=Object(n.useState)(e),t=Object(o.a)(a,2),r=t[0],l=t[1],c=function(a){"object"===typeof a&&(a=a.target.value),"string"===typeof a&&(a=isNaN(a)?e:parseInt(a)),l(a)};return[r,c]}(a.scale),d=Object(o.a)(f,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){return t({biomes:s,scale:p})}),[s,t,p]),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"biomes"},"Biomes"),r.a.createElement(u.a,{options:i,isMulti:!0,isClearable:!1,value:i.filter((function(e){return s.includes(e.value)})),onChange:m,id:"biomes"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"scale"},"Scale (squares of 2",r.a.createElement("sup",null,"scale")," chunks) : "),r.a.createElement("input",{type:"number",id:"scale",value:p,onChange:b,min:"0"})),s.length<1&&r.a.createElement("p",{className:"alert--warning"},"Warning: a dimension must contain at least one biome!"))})),Ae=r.a.memo((function(e){var a=e.source,t=void 0===a?"minecraft:plains":a,l=e.onChange,c=be("biomes",t),i=Object(o.a)(c,3),s=i[0],m=i[1],f=i[2];return Object(n.useEffect)((function(){return l(m)}),[m,l]),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"fixed-biome"},"Biome"),r.a.createElement(u.a,{options:s,value:s.find((function(e){return e.value===m})),onChange:f}))})),Be=r.a.memo((function(e){var a=e.source,t=void 0===a?L:a,l=e.onChange,c=ne("biomes"),u=se(t.biomes),s=Object(o.a)(u,2),m=s[0],f=s[1],d=h(),p=Object(o.a)(d,2),b=p[0],g=p[1],v=Object(n.useCallback)((function(e,a){l(Object(i.a)(Object(i.a)({},t),{},Object(le.a)({},e,a)))}),[t,l]),E=Object(n.useCallback)((function(e){e.preventDefault(),f({type:he.ADD,payload:{biome:"minecraft:plains",parameters:{altitude:0,weirdness:0,offset:0,temperature:.8,humidity:.4}}})}),[f]),y=Object(n.useCallback)((function(e,a){f({type:he.UPDATE,target:a,payload:e})}),[f]),O=Object(n.useCallback)((function(e,a){e.preventDefault(),f({type:he.REMOVE,payload:m[a]})}),[m,f]),j=Object(n.useContext)(H).vanilla.biomes,C=Object(n.useContext)(H).custom.biomes,k=Object(n.useContext)(H).namespace;Object(n.useEffect)((function(){var e,a=Object(X.a)($);try{for(a.s();!(e=a.n()).done;){var n=e.value;if("undefined"===typeof t[n])return void l(Object(i.a)(Object(i.a)(Object(i.a)({},L),t),{},{biomes:m}))}}catch(r){a.e(r)}finally{a.f()}m!==t.biomes&&l(Object(i.a)(Object(i.a)({},t),{},{biomes:m}))}),[m,l,t]);var w=[];return m.forEach((function(e,a){var t=a;w.push(r.a.createElement(Re,{namespace:k,vanilla:j,custom:C,biomesOptions:c,entry:e,key:t,onChange:y},r.a.createElement(_,{cat:"danger",onClick:function(e){return O(e,a)}},"Delete")))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-container",style:{alignItems:"baseline"}},r.a.createElement("h5",null,"Biomes list"),r.a.createElement(_,{onClick:E,cat:"primary mlm"},"Add biome"),r.a.createElement(_,{onClick:g,cat:"secondary"},"Advanced")),b&&r.a.createElement("div",{className:"grid-2-small-1 has-gutter mbm"},$.map((function(e){return r.a.createElement(Ie,{key:e,noise:t[e]||L[e],onChange:function(a){return v(e,a)}},(a=e.replace("_"," "))[0].toUpperCase()+a.substr(1));var a}))),w,function(e){var a,t=Object(X.a)(e);try{for(t.s();!(a=t.n()).done;){var n,r=a.value,l=Object(X.a)(e);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(r!==c&&K(r,c))return!0}}catch(o){l.e(o)}finally{l.f()}}}catch(o){t.e(o)}finally{t.f()}return!1}(m.map((function(e){return e.parameters})))&&r.a.createElement("p",{className:"alert--warning"},"Warning: every biome must have a unique combination of parameters!"))})),Ie=r.a.memo((function(e){var a=e.children,t=e.noise,l=void 0===t?{firstOctave:-7,amplitudes:[1,1]}:t,c=e.onChange,o=Object(n.useCallback)((function(e){c(Object(i.a)(Object(i.a)({},l),{},{firstOctave:parseInt(e.target.value)}))}),[l,c]),u=Object(n.useCallback)((function(e){c(Object(i.a)(Object(i.a)({},l),{},{amplitudes:e}))}),[l,c]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,a),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",null,r.a.createElement("label",null,"First octave")," : ",r.a.createElement("input",{type:"number",name:"firstOctave",defaultValue:l.firstOctave,onChange:o})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",null,r.a.createElement("label",null,"Amplitudes")," : "),r.a.createElement(Me,{numbers:l.amplitudes,onChange:u}))))})),Re=r.a.memo((function(e){var a=e.namespace,t=e.vanilla,l=e.custom,c=e.biomesOptions,s=e.entry,m=e.onChange,f=e.children,d=Object(n.useState)(s),p=Object(o.a)(d,2),b=p[0],g=p[1],v=Object(n.useCallback)((function(e){var n=e.value,r=t.find((function(e){return"minecraft:"+e.name===n}))||l.find((function(e){return a+":"+e.key===n}))||{rainfall:0,temperature:0};g((function(e){var a={altitude:e.parameters.altitude||0,weirdness:e.parameters.weirdness||0,offset:e.parameters.offset||0,temperature:r.temperature||.8,humidity:r.rainfall||.4};return{biome:n,parameters:a}}))}),[l,a,t]),_=Object(n.useCallback)((function(e){var a=e.target.id,t=e.target.value;g((function(e){var n=Object(i.a)(Object(i.a)({},e.parameters),{},Object(le.a)({},a,parseFloat(t)));return{biome:e.biome,parameters:n}}))}),[]);Object(n.useEffect)((function(){return m(b,s)}),[s,m,b]);var h=Object(n.useMemo)((function(){return c.find((function(e){return e.value===b.biome}))}),[c,b.biome]);return r.a.createElement("div",{className:"form-group"},r.a.createElement(u.a,{options:c,value:h,onChange:v}),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",null,r.a.createElement("label",null,"Altitude")," : ",r.a.createElement("input",{type:"number",id:"altitude",value:b.parameters.altitude,onChange:_,step:"0.1",min:"-2",max:"2"})),r.a.createElement("div",null,r.a.createElement("label",null,"Weirdness")," : ",r.a.createElement("input",{type:"number",id:"weirdness",value:b.parameters.weirdness,onChange:_,step:"0.1",min:"-2",max:"2"})),r.a.createElement("div",null,r.a.createElement("label",null,"Offset")," : ",r.a.createElement("input",{type:"number",id:"offset",value:b.parameters.offset,onChange:_,step:"0.1",min:"0",max:"1"})),r.a.createElement("div",null,r.a.createElement("label",null,"Temperature")," : ",r.a.createElement("input",{type:"number",id:"temperature",value:b.parameters.temperature,onChange:_,step:"0.1",min:"-2",max:"2"})),r.a.createElement("div",null,r.a.createElement("label",null,"Humidity")," : ",r.a.createElement("input",{type:"number",id:"humidity",value:b.parameters.humidity,onChange:_,step:"0.1",min:"-2",max:"2"})),f))}));function We(e){var a=e.generator,t=e.onChange,l=Object(n.useState)(a),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(n.useCallback)((function(e){u((function(a){return a.seed=e,a})),t(i)}),[i,t]),m=Object(n.useCallback)((function(e){u((function(a){return a.settings=e,a})),t(i)}),[i,t]),f=Object(n.useCallback)((function(e){u((function(a){return a.biome_source=e,a})),t(i)}),[i,t]);return Object(n.useEffect)((function(){t(i)}),[i,t]),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Noise dimension generator"),r.a.createElement("div",{className:"form-group"},r.a.createElement(qe,{value:i.seed,onChange:s}),r.a.createElement(Ue,{settings:i.settings,onChange:m}),r.a.createElement(Te,{biome_source:i.biome_source,onChange:f})))}var qe=r.a.memo((function(e){var a=e.onChange,t=e.value,l=void 0===t?286956243:t,c=Object(n.useState)(l),i=Object(o.a)(c,2),u=i[0],s=i[1];return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Seed")," : ",r.a.createElement("input",{type:"text",value:u,onChange:function(e){var t=e.target.value;s(t),a(isNaN(t)?function(e){for(var a,t=0;t<e.length;t++)a=Math.imul(31,a)+e.charCodeAt(t)|0;return a}(t):parseInt(t))}}))})),Ue=r.a.memo((function(e){var a=e.onChange,t=e.settings,l=void 0===t?"minecraft:overworld":t,c=Object(n.useCallback)((function(e){a(e.value)}),[a]),o=ne("noises");return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"settings"},"Settings"),r.a.createElement(u.a,{options:o,defaultValue:o.find((function(e){return e.value===l})),onChange:c}))}));function Ge(e){var a=e.data,t=void 0===a?G:a,l=e.onSave,c=Object(n.useState)(t),u=Object(o.a)(c,2),s=u[0],m=u[1],f=Object(n.useCallback)((function(e){m((function(a){return a.generator=e,a}))}),[]);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=new FormData(e.target),t=Object(i.a)({},s);t.key=a.get("key"),t.type=a.get("dimension-type"),l(t)}},r.a.createElement("h3",null,"Edit dimension"),r.a.createElement(re,{example:"blue_dimension",type:"dimensions",value:t.key,mayReplaceVanilla:!0}),r.a.createElement(ze,{type:s.type}),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Generator configuration"),r.a.createElement(We,{generator:s.generator,onChange:f})),r.a.createElement("div",{className:"form-group mlm mbm"},r.a.createElement(_,{type:"submit"},"Save")))}var Je=r.a.memo((function(e){var a=e.attr,t=e.checked,n=e.defaultChecked,l=e.children,c=e.name,o=e.id,u=e.onChange,s=e.value,m=e.defaultValue,f=e.min,d=e.max,p=e.step,b=e.className,g=e.style,v=c||Math.random().toString(36).substr(2,5)+"-"+o;return"undefined"!==typeof t||"undefined"!==typeof n?r.a.createElement("div",{className:b},r.a.createElement("label",{htmlFor:v},l)," : ",r.a.createElement("input",Object.assign({type:"checkbox","data-name":c||o,name:c,id:v,className:"checkbox"},Object(i.a)(Object(i.a)({},a),{},{checked:t,defaultChecked:n,onChange:u,value:s,style:g})))):r.a.createElement("div",{className:b},r.a.createElement("label",{htmlFor:v},l)," : ",r.a.createElement("input",Object.assign({type:isNaN("undefined"===typeof s?m:s)?"text":"number","data-name":c||o,name:c,id:v},Object(i.a)(Object(i.a)({},a),{},{onChange:u,value:s,defaultValue:m,min:f,max:d,step:p,style:g}))))})),$e=r.a.memo((function(e){var a=e.block,t=void 0===a?{}:a,l=e.children,c=e.name,o=e.onChange,s=e.options,m=Object(n.useContext)(H),f=Object(n.useCallback)((function(e){var a=e.value,t={};(m.vanilla.blocks.find((function(e){return"minecraft:"+e.name===a}))||{states:[]}).states.forEach((function(e){t[e.name]=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a[e.name];switch(e.type){case"bool":return"true"===t?"true":"false";case"int":return t||0;default:return t||e.values[0]}}(e)})),Object.keys(t).length>0?o({Name:a,Properties:t}):o({Name:a})}),[m.vanilla.blocks,o]),d=Object(n.useCallback)((function(e){o(Object(i.a)(Object(i.a)({},t),{},{Properties:e}))}),[t,o]),p=Object(n.useMemo)((function(){return"undefined"===typeof s?m.vanilla.blocks.map((function(e){return{value:"minecraft:"+e.name,label:e.displayName}})):s}),[m.vanilla.blocks,s]),b=Object(n.useMemo)((function(){return p.find((function(e){return e.value===t.Name}))}),[p,t.Name]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(u.a,{options:p,value:b,name:c,onChange:f})),l),r.a.createElement(He,{block:t.Name,properties:t.Properties,onChange:d}))})),Le=r.a.memo((function(e){var a=e.list,t=e.onChange,l=fe(),c=me(a,(function(e){return{Name:(l.find((function(a){return!e.some((function(e){return e.Name===a.value}))}))||{value:"minecraft:stone"}).value}})),i=Object(o.a)(c,4),u=i[0],s=i[1],m=i[2],f=i[3],d=Object(n.useCallback)((function(e,a){m(e,u[a])}),[u,m]);return Object(n.useEffect)((function(){u!==a&&t(u)}),[u,a,t]),r.a.createElement("div",{className:"form-group"},u.map((function(e,a){var t=l.filter((function(a){return a.value===e.Name||!u.some((function(e){return e.Name===a.value}))}));return r.a.createElement($e,{block:e,options:t,key:e.Name,onChange:function(e){return d(e,a)}},r.a.createElement(_,{cat:"danger mlm",onClick:function(e){return f(e,a)}},"Remove"))})),r.a.createElement(_,{onClick:s},"Add block"))}));function He(e){var a=e.block,t=e.children,l=e.onChange,c=e.properties,o=void 0===c?{}:c,s=(Object(n.useContext)(H).vanilla.blocks.find((function(e){return"minecraft:"+e.name===a}))||{states:[]}).states,m=Object(n.useCallback)((function(e){l(Object(i.a)(Object(i.a)({},o),{},Object(le.a)({},e.name,e.value)))}),[l,o]),f=Object(n.useCallback)((function(e){var a=e.target.checked.toString();l(Object(i.a)(Object(i.a)({},o),{},Object(le.a)({},e.target.dataset.name,a)))}),[l,o]),d=Object(n.useCallback)((function(e){var a=e.target.value;""===a||isNaN(a)||l(Object(i.a)(Object(i.a)({},o),{},Object(le.a)({},e.target.dataset.name,a)))}),[l,o]),p=[];return s.forEach((function(e){switch(e.type){case"bool":p.push(r.a.createElement(Je,{key:e.name,id:e.name,checked:"true"===o[e.name],onChange:f},e.name));break;case"int":p.push(r.a.createElement(Je,{key:e.name,id:e.name,value:o[e.name]||0,onChange:d,min:"0",max:e.num_values-1},e.name));break;default:var a=e.values.map((function(a){return{value:a,name:e.name,label:a}})),t=a.find((function(a){return a.value===o[e.name]}))||a[0];p.push(r.a.createElement("div",{key:e.name},r.a.createElement("label",null,e.name)," : ",r.a.createElement("div",{className:"inbl"},r.a.createElement(u.a,{options:a,value:t,onChange:m}))))}})),r.a.createElement("div",{className:"form-group form-row"},p,t)}var Ye=r.a.memo((function(e){var a=e.block,t=void 0===a?{type:"minecraft:simple_state_provider"}:a,l=e.onChange,c=Object(n.useState)(t),s=Object(o.a)(c,2),m=s[0],f=s[1],d=Object(n.useMemo)((function(){return[{value:"minecraft:forest_flower_provider",label:"Forest flower provider"},{value:"minecraft:plain_flower_provider",label:"Plain flower provider"},{value:"minecraft:simple_state_provider",label:"Simple state provider"},{value:"minecraft:rotated_block_provider",label:"Rotated block provider"},{value:"minecraft:weighted_state_provider",label:"Weighted state provider"}]}),[]),p=Object(n.useCallback)((function(e){f({type:e.value})}),[]),b=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{state:e})}))}),[]),g=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{entries:e})}))}),[]);pe(m,t,l);var v=fe(!1),_=Object(n.useMemo)((function(){return("minecraft:rotated_block_provider"===m.type?v.filter((function(e){return e.states.some((function(e){return"axis"===e.name}))})):v).map((function(e){return{value:"minecraft:"+e.name,label:e.displayName}}))}),[v,m.type]);return r.a.createElement("div",null,r.a.createElement("label",null,"Provider type"),r.a.createElement(u.a,{options:d,value:d.find((function(e){return e.value===m.type})),onChange:p}),("minecraft:simple_state_provider"===m.type||"minecraft:rotated_block_provider"===m.type)&&r.a.createElement($e,{block:m.state,options:_,onChange:b}),"minecraft:weighted_state_provider"===m.type&&r.a.createElement(Xe,{entries:m.entries,onChange:g}))})),Xe=r.a.memo((function(e){var a=e.entries,t=void 0===a?[]:a,l=e.onChange,c=fe(),u=me(t,(function(e){return{data:{Name:(c.find((function(a){return!e.some((function(e){return e.data.Name===a.value}))}))||{value:"minecraft:stone"}).value}}})),s=Object(o.a)(u,4),m=s[0],f=s[1],d=s[2],p=s[3],b=Object(n.useCallback)((function(e,a){d(Object(i.a)(Object(i.a)({},m[a]),{},{data:e}),m[a])}),[m,d]),g=Object(n.useCallback)((function(e,a){var t=e.target.value;if(""!==t&&!isNaN(t)){var n=parseInt(t);d(1===n?{data:m[a].data}:{weight:n,data:m[a].data},m[a])}}),[m,d]);return Object(n.useEffect)((function(){m!==t&&l(m)}),[m,t,l]),r.a.createElement("div",{className:"form-group"},m.map((function(e,a){var t=c.filter((function(a){return a.value===e.data.Name||!m.some((function(e){return e.data.Name===a.value}))}));return r.a.createElement($e,{block:e.data,options:t,key:e.data.Name,onChange:function(e){return b(e,a)}},r.a.createElement(Je,{id:"weight",value:e.weight||1,onChange:function(e){return g(e,a)},className:"mlm"},"Weight"),r.a.createElement(_,{cat:"danger mlm",onClick:function(e){return p(e,a)}},"Remove"))})),r.a.createElement(_,{onClick:f},"Add block"))}));function Ke(e){var a=e.configuration,t=void 0===a?F:a,l=e.onChange,c=Object(n.useState)(t),u=Object(o.a)(c,2),s=u[0],m=u[1],f=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{trunk_provider:e})}))}),[]),d=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{leaves_provider:e})}))}),[]),p=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{foliage_placer:e})}))}),[]),b=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{trunk_placer:e})}))}),[]),g=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{decorators:e})}))}),[]);return pe(s,t,l),r.a.createElement("div",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Trunk provider"),r.a.createElement(Ye,{block:s.trunk_provider,onChange:f})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Leaves provider"),r.a.createElement(Ye,{block:s.leaves_provider,onChange:d})),r.a.createElement(Ze,{placer:s.foliage_placer,onChange:p}),r.a.createElement(Qe,{placer:s.trunk_placer,onChange:b}),r.a.createElement(ea,{data:t.decorators,onChange:g}))}var Ze=r.a.memo((function(e){var a=e.placer,t=e.onChange,l=Object(n.useState)(a),c=Object(o.a)(l,2),s=c[0],m=c[1],f=Object(n.useMemo)((function(){return[{value:"blob_foliage_placer",label:"Blob foliage placer"},{value:"fancy_foliage_placer",label:"Fancy foliage placer"}].map((function(e){return e.value="minecraft:"+e.value,e}))}),[]),d=Object(n.useCallback)((function(e){var a=e.value;m((function(e){return Object(i.a)(Object(i.a)({},e),{},{type:a})}))}),[]),p=Object(n.useCallback)((function(e){var a=e.target.dataset.name,n=e.target.value;""===n||isNaN(n)||m((function(e){var r=Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,parseInt(n)));return t(r),r}))}),[t]),b=Object(n.useMemo)((function(){return f.find((function(e){return e.value===s.type}))||f[0]}),[f,s.type]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Foliage placer"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"foliage_placer_type"},"Type"),r.a.createElement(u.a,{options:f,name:"foliage_placer_type",value:b,onChange:d})),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"radius",value:a.radius,onChange:p,min:"0",max:"8"},"Radius"),r.a.createElement(Je,{id:"offset",value:a.offset,onChange:p,min:"0",max:"8"},"Offset"),("minecraft:blob_foliage_placer"===s.type||"minecraft:bush_foliage_placer"===s.type||"minecraft:fancy_foliage_placer"===s.type||"minecraft:jungle_foliage_placer"===s.type)&&r.a.createElement(Je,{id:"height",value:a.height,onChange:p,min:"0",max:"16"},"Height")))})),Qe=r.a.memo((function(e){var a=e.placer,t=e.onChange,l=Object(n.useState)(a),c=Object(o.a)(l,2),s=c[0],m=c[1],f=Object(n.useMemo)((function(){return[{value:"straight_trunk_placer",label:"Straight trunk placer"},{value:"forking_trunk_placer",label:"Forking trunk placer"},{value:"giant_trunk_placer",label:"Giant trunk placer"},{value:"mega_jungle_trunk_placer",label:"Mega jungle trunk placer"},{value:"dark_oak_trunk_placer",label:"Dark oak trunk placer"},{value:"fancy_trunk_placer",label:"Fancy trunk placer"}].map((function(e){return e.value="minecraft:"+e.value,e}))}),[]),d=Object(n.useCallback)((function(e){var a=e.value;m((function(e){return Object(i.a)(Object(i.a)({},e),{},{type:a})}))}),[]),p=Object(n.useCallback)((function(e){var a=e.target.dataset.name,n=e.target.value;""===n||isNaN(n)||m((function(e){var r=Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,parseInt(n)));return t(r),r}))}),[t]),b=Object(n.useMemo)((function(){return f.find((function(e){return e.value===s.type}))||f[0]}),[s.type,f]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Trunk placer"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"foliage_placer_type"},"Type"),r.a.createElement(u.a,{options:f,name:"foliage_placer_type",defaultValue:b,onChange:d})),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"base_height",value:a.base_height,onChange:p,min:"0",max:"32"},"Base height"),r.a.createElement(Je,{id:"height_rand_a",value:a.height_rand_a,onChange:p,min:"0",max:"24"},"First height rand"),r.a.createElement(Je,{id:"height_rand_b",value:a.height_rand_b,onChange:p,min:"0",max:"24"},"Second height rand")))})),ea=r.a.memo((function(e){var a=e.data,t=e.onChange,l=se(a),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(n.useCallback)((function(e){e.preventDefault();var a=x.find((function(e){return!i.some((function(a){return a.type===e.value}))}));"undefined"!==typeof a&&u({type:he.ADD,payload:{type:a.value}})}),[i,u]),m=Object(n.useCallback)((function(e,a){u({type:he.UPDATE,target:a,payload:e})}),[u]),f=Object(n.useCallback)((function(e,a){e.preventDefault(),u({type:he.REMOVE,payload:i[a]})}),[i,u]);return pe(i.map((function(e){return delete e.index,e})),a,t),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Tree decorators ",i.length<5&&r.a.createElement(_,{onClick:s},"Add decorator")),i.map((function(e,a){var t=x.filter((function(a){return a.value===e.type||!i.some((function(e){return e.type===a.value}))}));return r.a.createElement(aa,{data:e,key:e.type,onChange:m,options:t},r.a.createElement(_,{cat:"danger mlm",onClick:function(e){return f(e,a)}},"Remove"))})))})),aa=r.a.memo((function(e){var a=e.children,t=e.data,l=e.options,c=e.onChange,s=Object(n.useState)(t),m=Object(o.a)(s,2),f=m[0],d=m[1],p=Object(n.useCallback)((function(e){d(Object(i.a)({type:e.value},e.default))}),[]),b=Object(n.useCallback)((function(e){d((function(a){return{type:a.type,provider:e}}))}),[]),g=Object(n.useCallback)((function(e){var a=e.target.value;if(""!==a&&!isNaN(a)){var t=parseFloat(a);d((function(e){return{type:e.type,probability:t}}))}}),[]);Object(n.useEffect)((function(){f!==t&&c(f,t)}),[t,f,c]);var v=["minecraft:leave_vine","minecraft:trunk_vine"].indexOf(f.type)<0?"fieldset":"div",_=Object(n.useMemo)((function(){return l.find((function(e){return e.value===f.type}))}),[f.type,l]);return r.a.createElement(v,null,r.a.createElement("legend",{style:{fontWeight:"normal",fontSize:"inherit"}},r.a.createElement("div",{style:{width:"200px",display:"inline-block"}},r.a.createElement(u.a,{options:l,value:_,onChange:p})),a),r.a.createElement("div",{className:"form-group"},"minecraft:alter_ground"===f.type&&r.a.createElement(Ye,{block:f.provider,onChange:b}),("minecraft:beehive"===f.type||"minecraft:cocoa"===f.type)&&r.a.createElement(Je,{id:"probability",value:f.probability,onChange:g,min:"0",max:"1",step:"0.05"},"Probability")))})),ta=t(16),na=r.a.memo((function(e){var a=e.data,t=e.onChange,l=me(a,(function(e){return{type:(N.filter((function(a){return!e.some((function(e){return e.type===a.value}))}))[0]||{value:"minecraft:count"}).value}})),c=Object(o.a)(l,4),i=c[0],u=c[1],s=c[2],m=c[3];pe(i,a,t);var f=Object(n.useCallback)((function(e){return!e.target.parentNode.classList.contains("sortable-item")}),[]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Decorators wrappers ",N.length>i.length&&r.a.createElement(_,{onClick:u},"Add decorator")),r.a.createElement(ra,{decorators:i,handleChange:s,handleRemove:m,onSortEnd:s,shouldCancelStart:f}))})),ra=Object(ta.a)((function(e){var a=e.decorators,t=e.handleChange,n=e.handleRemove;return r.a.createElement("ol",{className:"sortable-container"},a.map((function(e,l){var c=N.filter((function(t){return e.type===t.value||!a.some((function(e){return e.type===t.value}))}));return r.a.createElement(la,{key:e.type,data:e,index:l,onChange:t,options:c},r.a.createElement(_,{cat:"danger mlm",onClick:function(e){return n(e,l)}},"Remove"))})))})),la=r.a.memo(Object(ta.b)((function(e){var a=e.children,t=e.data,l=void 0===t?{type:"minecraft:count"}:t,c=e.onChange,i=e.options,s=Object(n.useState)(l),m=Object(o.a)(s,2),f=m[0],d=m[1],p=Object(n.useCallback)((function(e){d({type:e.value})}),[]),b=Object(n.useCallback)((function(e){d((function(a){return{type:a.type,config:e}}))}),[]);pe(f,l,c);var g=Object(n.useMemo)((function(){return i.find((function(e){return e.value===f.type}))}),[f.type,i]);return r.a.createElement("li",{className:"sortable-item"},r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(u.a,{options:i,value:g,onChange:p})),a),r.a.createElement("div",{className:"form-group form-row"},"minecraft:chance"===f.type&&r.a.createElement(ca,{config:f.config,onChange:b}),("minecraft:count"===f.type||"minecraft:fire"===f.type||"minecraft:count_multilayer"===f.type)&&r.a.createElement(oa,{config:f.config,onChange:b}),"minecraft:count_extra"===f.type&&r.a.createElement(ia,{config:f.config,onChange:b}),("minecraft:decorated"===f.type||"minecraft:square"===f.type)&&r.a.createElement(ua,{config:f.config,onChange:b}),("minecraft:range"===f.type||"minecraft:range_very_biased"===f.type)&&r.a.createElement(sa,{config:f.config,onChange:b})))}))),ca=r.a.memo((function(e){var a=e.config,t=void 0===a?{}:a,l=e.onChange,c=Object(n.useCallback)((function(e){var a=e.target.value;""===a||isNaN(a)||l({chance:parseInt(a)})}),[l]);return Object(n.useEffect)((function(){"undefined"===typeof data&&l({chance:32})}),[l]),r.a.createElement(Je,{id:"chance",value:t.chance||32,onChange:c},"Chance")})),oa=r.a.memo((function(e){var a=e.config,t=void 0===a?{}:a,l=e.onChange,c=Object(n.useCallback)((function(e){var a=e.target.value;""===a||isNaN(a)||l({count:parseInt(a)})}),[l]);return Object(n.useEffect)((function(){"undefined"===typeof data&&l({count:25})}),[l]),r.a.createElement(Je,{id:"count",value:t.count||25,onChange:c},"Count")})),ia=r.a.memo((function(e){var a=e.config,t=e.onChange,l=Object(n.useState)(a||T),c=Object(o.a)(l,2),u=c[0],s=c[1],m=Object(n.useCallback)((function(e){var a=e.target.value;""===a||isNaN(a)||s((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(le.a)({},e.target.dataset.name,parseFloat(a)))}))}),[]);return pe(u,a,t),r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{id:"count",value:u.count,onChange:m},"Count"),r.a.createElement(Je,{id:"extra_chance",value:u.extra_chance,onChange:m,step:"0.05"},"Extra chance"),r.a.createElement(Je,{id:"extra_count",value:u.extra_count,onChange:m},"Extra count"))})),ua=r.a.memo((function(e){var a=e.config,t=e.onChange;return Object(n.useEffect)((function(){"undefined"===typeof a&&t(V)}),[a,t]),r.a.createElement("div",null)})),sa=r.a.memo((function(e){var a=e.config,t=e.onChange,l=Object(n.useState)(a||A),c=Object(o.a)(l,2),u=c[0],s=c[1],m=Object(n.useCallback)((function(e){var a=e.target.value;""===a||isNaN(a)||s((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(le.a)({},e.target.dataset.name,parseInt(a)))}))}),[]);return pe(u,a,t),r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{id:"bottom_offset",value:u.bottom_offset,onChange:m},"Bottom offset"),r.a.createElement(Je,{id:"top_offset",value:u.top_offset,onChange:m},"Top offset"),r.a.createElement(Je,{id:"maximum",value:u.maximum,onChange:m},"Y maximum"))}));function ma(e){var a=e.configuration,t=void 0===a?z:a,l=e.onChange,c=Object(n.useState)(t),u=Object(o.a)(c,2),s=u[0],m=u[1],f=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{state_provider:e})}))}),[]),d=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{whitelist:e})}))}),[]),p=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{blacklist:e})}))}),[]),b=Object(n.useCallback)((function(e){var a=e.target.id,t=parseInt(e.target.value);m((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,t))}))}),[]),g=Object(n.useCallback)((function(e){var a=e.target.id,t=e.target.checked;m((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,t))}))}),[]);return pe(s,t,l),r.a.createElement("div",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"State provider"),r.a.createElement(Ye,{block:s.state_provider,onChange:f})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Whitelist"),r.a.createElement(Le,{list:s.whitelist,onChange:d})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Blacklist"),r.a.createElement(Le,{list:s.blacklist,onChange:p})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Settings"),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"xspread"},"X spread")," : ",r.a.createElement("input",{type:"number",id:"xspread",value:s.xspread,onChange:b})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"yspread"},"Y spread")," : ",r.a.createElement("input",{type:"number",id:"yspread",value:s.yspread,onChange:b})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"zspread"},"Z spread")," : ",r.a.createElement("input",{type:"number",id:"zspread",value:s.zspread,onChange:b})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"tries"},"Tries")," : ",r.a.createElement("input",{type:"number",id:"tries",value:s.tries,onChange:b}))),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"need_water"},"Need water")," : ",r.a.createElement("input",{type:"checkbox",className:"checkbox",id:"need_water",checked:s.need_water,onChange:g})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"project"},"Project")," : ",r.a.createElement("input",{type:"checkbox",className:"checkbox",id:"project",checked:s.project,onChange:g})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"can_replace"},"Can replace")," : ",r.a.createElement("input",{type:"checkbox",className:"checkbox",id:"can_replace",checked:s.can_replace,onChange:g})))))}var fa=r.a.memo((function(e){var a=e.target,t=e.onChange,l=Object(n.useState)(a),c=Object(o.a)(l,2),s=c[0],m=c[1],f=Object(n.useMemo)((function(){return[{value:"minecraft:block_match",label:"Block match"},{value:"minecraft:tag_match",label:"Tag match"}]}),[]),d=Object(n.useCallback)((function(e){m({predicate_type:e.value})}),[]),p=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{block:e.value})}))}),[]),b=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{tag:e.value})}))}),[]);Object(n.useEffect)((function(){return t(s)}),[t,s]);var g=Object(n.useContext)(H),v=Object(n.useMemo)((function(){return g.vanilla.blocks.map((function(e){return{value:"minecraft:"+e.name,label:e.displayName}}))}),[g.vanilla.blocks]);return r.a.createElement("div",null,r.a.createElement("label",null,"Predicate type"),r.a.createElement(u.a,{options:f,value:f.find((function(e){return e.value===s.predicate_type})),onChange:d}),"minecraft:block_match"===s.predicate_type&&r.a.createElement(u.a,{options:v,value:v.find((function(e){return e.value===s.block})),onChange:p}),"minecraft:tag_match"===s.predicate_type&&r.a.createElement(u.a,{options:w,value:w.find((function(e){return e.value===s.tag})),onChange:b}))}));function da(e){var a=e.configuration,t=void 0===a?S:a,l=e.onChange,c=Object(n.useState)(t),u=Object(o.a)(c,2),s=u[0],m=u[1],f=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{target:e})}))}),[]),d=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{state:e})}))}),[]),p=Object(n.useCallback)((function(e){var a=e.target.id,t=parseInt(e.target.value);m((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,t))}))}),[]);return pe(s,t,l),r.a.createElement("div",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Target"),r.a.createElement(fa,{target:s.target,onChange:f})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"State"),r.a.createElement($e,{block:s.state,onChange:d})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Settings"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"Size")," : ",r.a.createElement("input",{type:"number",id:"size",value:s.size,onChange:p}))))}function pa(e){var a=e.data,t=void 0===a?P:a,l=e.onSave,c=Object(n.useMemo)((function(){return Q(t)}),[t]),s=Object(o.a)(c,2),m=s[0],f=s[1],d=Object(n.useState)(f),p=Object(o.a)(d,2),b=p[0],g=p[1],v=Object(n.useState)(m),h=Object(o.a)(v,2),E=h[0],y=h[1],O=Object(n.useCallback)((function(e){var a=Q(Object(i.a)({},e.default)),t=Object(o.a)(a,2),n=t[0],r=t[1];g(r),y(n)}),[]),j=Object(n.useCallback)((function(e){g((function(a){return Object(i.a)(Object(i.a)({},a),{},{config:e})}))}),[]),C=Object(n.useCallback)((function(e){y(e)}),[]),k=Object(n.useCallback)((function(e){e.preventDefault();var a=ee(b,E,new FormData(e.target).get("key"));a.index=t.index,l(a)}),[t.index,E,b,l]),w=Object(n.useMemo)((function(){return[{value:"ore",label:"Ore",default:D},{value:"random_patch",label:"Random patch",default:M},{value:"tree",label:"Tree",default:P}].map((function(e){return e.value="minecraft:"+e.value,e}))}),[]);return r.a.createElement("form",{onSubmit:k},r.a.createElement("h3",null,"Edit configured feature"),r.a.createElement(re,{example:"concrete_tree",type:"features",value:t.key,expectBreakage:"undefined"!==typeof t.key}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"Type"),r.a.createElement(u.a,{options:w,value:w.find((function(e){return e.value===b.type})),onChange:O})),r.a.createElement("hr",null),"minecraft:ore"===b.type&&r.a.createElement(da,{configuration:b.config,onChange:j}),"minecraft:random_patch"===b.type&&r.a.createElement(ma,{configuration:b.config,onChange:j}),"minecraft:tree"===b.type&&r.a.createElement(Ke,{configuration:b.config,onChange:j}),r.a.createElement(na,{data:E,key:b.type,onChange:C}),r.a.createElement("div",{className:"form-group mlm mbm"},r.a.createElement(_,{type:"submit"},"Save")))}var ba=t(15),ga=t.n(ba),va=t(22),_a=/^data\/([a-z0-9._-]+)\/(dimension|dimension_type)\/([a-z0-9._-]+).json$/,ha=/^data\/([a-z0-9._-]+)\/worldgen\/(biome|configured_feature|configured_surface_builder|noise_settings)\/([a-z0-9._-]+).json$/,Ea=/^data\/minecraft\/(dimension|dimension_type|worldgen)\/?\w*\/([a-z0-9._-]+)\/([a-z0-9._-]+).json$/,ya=/^data\/minecraft\/(dimension|dimension_type)\/([a-z0-9._-]+)\/([a-z0-9._-]+).json$/,Oa=/^data\/minecraft\/worldgen\/(biome|configured_feature|configured_surface_builder|noise_settings)\/([a-z0-9._-]+)\/([a-z0-9._-]+).json$/;function ja(e){return new Promise((function(a,t){"application/zip"!==e.type&&t(new Error("File is not a .zip")),ga.a.loadAsync(e).then((function(e){(function(e){var a=!1,t="test",n={biomes:[],dimensions:[],dimension_types:[],features:[],noises:[],surfaces:[]};return new Promise((function(r,l){var c=[];e.forEach((function(t,n){if(!n.dir)if("pack.mcmeta"!==n.name){var r=n.name.match(Ea),l=n.name.match(_a)?_a:ha;r&&(l=n.name.match(ya)?ya:Oa),c.push(function(e,a,t,n){return ka.apply(this,arguments)}(r,l,n.name,e.file(n.name).async("text")))}else a=!0})),a||l(new Error("Invalid datapack: no pack.mcmeta")),Promise.all(c).then((function(e){e.forEach((function(e){null!==e&&(t=e.namespace,e.data.index=n[e.type].length,n[e.type].push(e.data))})),r([t,n])})).catch((function(e){return l(e)}))}))})(e).then(a).catch(t)})).catch(t)}))}function Ca(e){switch(e){case"configured_feature":return"features";case"configured_surface_builder":return"surfaces";case"noise_settings":return"noises";default:return e+"s"}}function ka(){return(ka=Object(O.a)(y.a.mark((function e(a,t,n,r){var l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(l=t.exec(n))){e.next=3;break}return e.abrupt("return",new Promise((function(e){return e(null)})));case 3:return e.abrupt("return",new Promise((function(e,t){r.then((function(t){var n=JSON.parse(t),r=l[a?2:1],c=Ca(l[a?1:2]);n.key=r+":"+l[3];var o=ae(c,n);e({namespace:r,data:o,type:c})})).catch((function(e){"SyntaxError"!==e.name&&console.error(e),t(new Error("Cannot read ".concat(n,":\n").concat(e.message)))}))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(e,a,t){if(!(t.length<1)){var n,r=Object(X.a)(t);try{for(r.s();!(n=r.n()).done;){var l=n.value,c=Object(i.a)({},l);delete c.key,delete c.index;var u=l.key.split(":"),s=Object(o.a)(u,2),m=s[0],f=s[1];e.folder(a.replace("%namespace%",m)).file(f+".json",JSON.stringify(c,null,2))}}catch(d){r.e(d)}finally{r.f()}}}function Na(e){var a=e.data,t=void 0===a?R:a,l=e.onSave,c=Object(n.useState)(t.config),s=Object(o.a)(c,2),m=s[0],f=s[1],d=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{top_material:e})}))}),[]),p=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{under_material:e})}))}),[]),b=Object(n.useCallback)((function(e){f((function(a){return Object(i.a)(Object(i.a)({},a),{},{underwater_material:e})}))}),[]),g=Object(n.useCallback)((function(e){e.preventDefault();var a=new FormData(e.target);l({config:m,type:a.get("type"),key:a.get("key"),index:t.index})}),[m,t.index,l]);return r.a.createElement("form",{onSubmit:g},r.a.createElement("h3",null,"Edit surface builder"),r.a.createElement(re,{example:"blackstone",type:"surfaces",value:t.key,expectBreakage:"undefined"!==typeof t.key}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"Type")," : ",r.a.createElement(u.a,{options:I,defaultValue:I.find((function(e){return e.value===t.type})),name:"type"}),r.a.createElement("p",null,r.a.createElement("small",{className:"text-muted"},"The builder type defines the shape of the surface. For example, the ",r.a.createElement("em",null,"swamp")," type will create puddles while the ",r.a.createElement("em",null,"badlands")," types will create small rocky peaks; the ",r.a.createElement("em",null,"nether")," types will add a mix of nether blocks and expose more of the underneath material."))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"top_material"},"Top material")," : ",r.a.createElement($e,{block:m.top_material,name:"top_material",onChange:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"under_material"},"Under material")," : ",r.a.createElement($e,{block:m.under_material,name:"under_material",onChange:p})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"sea_lantern"},"Underwater material")," : ",r.a.createElement($e,{block:m.underwater_material,name:"underwater_material",onChange:b})),r.a.createElement("div",{className:"form-group mlm mbm"},r.a.createElement(_,{type:"submit"},"Save")))}var xa=r.a.memo((function(e){var a=e.data,t=e.onChange,l=Object(n.useCallback)((function(e){t(!1===e?{structures:a.structures}:{structures:a.structures,stronghold:e})}),[a.structures,t]),c=Object(n.useCallback)((function(e){t(Object(i.a)(Object(i.a)({},a),{},{structures:e}))}),[a,t]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Structures"),r.a.createElement(Sa,{data:a.stronghold,onChange:l}),r.a.createElement(Da,{data:a.structures,onChange:c}))})),Sa=r.a.memo((function(e){var a=e.data,t=e.onChange,l=h("object"===typeof a),c=Object(o.a)(l,2),u=c[0],s=c[1],m=Object(n.useState)(a||{distance:32,spread:3,count:128}),f=Object(o.a)(m,2),d=f[0],p=f[1],b=Object(n.useCallback)((function(e){e.preventDefault();var a=e.target.dataset.name,t=parseInt(e.target.value);p((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(le.a)({},a,t))}))}),[p]);return Object(n.useEffect)((function(){(a!==d||u&&"undefined"===typeof a||!u&&"object"===typeof a)&&t(!!u&&d)}),[a,u,t,d]),r.a.createElement("div",null,r.a.createElement("div",{className:"toggle-label"},"Stronghold",r.a.createElement(_,{cat:"secondary",onClick:s},u?"Disable":"Enable")),u&&r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"distance",defaultValue:d.distance,onChange:b,min:"0",max:"1023"},"Distance"),r.a.createElement(Je,{id:"spread",defaultValue:d.spread,onChange:b,min:"0",max:"1023"},"Spread"),r.a.createElement(Je,{id:"count",defaultValue:d.count,onChange:b,min:"1",max:"4095"},"Count")))})),Da=r.a.memo((function(e){var a=e.data,t=e.onChange,l=h(),c=Object(o.a)(l,2),u=c[0],s=c[1],m=se(Object.entries(a).map((function(e){var a=Object(o.a)(e,2),t=a[0],n=a[1];return Object(i.a)(Object(i.a)({},n),{},{type:t})}))),f=Object(o.a)(m,2),d=f[0],p=f[1],b=Object(n.useCallback)((function(e){e.preventDefault(),p({type:he.ADD,payload:{type:"minecraft:village",spacing:32,separation:8,salt:10387312},unshift:!0}),u||s()}),[p,s,u]),g=Object(n.useCallback)((function(e,a){p({type:he.UPDATE,target:e,payload:a})}),[p]),v=Object(n.useCallback)((function(e){p({type:he.REMOVE,payload:e})}),[p]);return Object(n.useEffect)((function(){var e,a={},n=Object(X.a)(d);try{for(n.s();!(e=n.n()).done;){var r=e.value;a[r.type]={spacing:r.spacing,separation:r.separation,salt:r.salt}}}catch(l){n.e(l)}finally{n.f()}t(a)}),[t,d]),r.a.createElement("div",null,r.a.createElement("div",{className:"toggle-label"},"Structures",r.a.createElement("div",{className:"btn-group"},r.a.createElement(_,{onClick:b},"Add"),d.length>0&&r.a.createElement(_,{cat:"secondary",onClick:s},u?"Less...":"More..."))),u&&d.map((function(e,a){return r.a.createElement(Fa,{data:e,key:a,onChange:g,onDelete:v})})))})),Fa=r.a.memo((function(e){var a=e.data,t=e.onChange,l=e.onDelete,c=Object(n.useCallback)((function(e){var n="undefined"===typeof e.target?"type":e.target.dataset.name,r="undefined"===typeof e.target?e.value:parseInt(e.target.value);t(a,Object(i.a)(Object(i.a)({},a),{},Object(le.a)({},n,r)))}),[a,t]),o=Object(n.useCallback)((function(e){var n=e.target.dataset.name,r=parseInt(e.target.value);("spacing"===n&&r>a.separation||"separation"===e.target.dataset.name&&r<a.spacing)&&t(a,Object(i.a)(Object(i.a)({},a),{},Object(le.a)({},n,r)))}),[a,t]),s=Object(n.useCallback)((function(e){e.preventDefault(),l(a)}),[a,l]);return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Type")," : ",r.a.createElement(u.a,{options:q,value:q.find((function(e){return e.value===a.type})),onChange:c})),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"spacing",value:a.spacing,onChange:o,min:"0",max:"4096"},"Spacing"),r.a.createElement(Je,{id:"separation",value:a.separation,onChange:o,min:"0",max:"4096"},"Spacing"),r.a.createElement(Je,{id:"salt",value:a.salt,onChange:c,min:"0",max:2147483647,style:{width:"150px"}},"Spacing"),r.a.createElement("div",{className:"form-inline"},r.a.createElement(_,{cat:"danger",onClick:s},"Delete"))),r.a.createElement("hr",null))})),za=r.a.memo((function(e){var a=e.data,t=void 0===a?U:a,l=e.onSave,c=Object(n.useState)(t),u=Object(o.a)(c,2),s=u[0],m=u[1],f=Object(n.useCallback)((function(e){e.preventDefault();var a=Object.fromEntries(new FormData(e.target)),t=Object(i.a)(Object(i.a)({},s),a);Object.keys(a).forEach((function(e){isNaN(a[e])||(t[e]=parseFloat(a[e]))})),t.disable_mob_generation=a.hasOwnProperty("disable_mob_generation"),l(t)}),[l,s]),d=Object(n.useCallback)((function(e,a){m((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(le.a)({},e,a))}))}),[]),p=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{structures:e})}))}),[]),b=Object(n.useCallback)((function(e){m((function(a){return Object(i.a)(Object(i.a)({},a),{},{noise:e})}))}),[]);return r.a.createElement("form",{onSubmit:f},r.a.createElement("h3",null,"Edit noise"),r.a.createElement(re,{example:"epic",type:"noises",value:t.key,expectBreakage:"undefined"!==typeof t.key}),r.a.createElement(xa,{data:t.structures,onChange:p}),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Defaults"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Block")," : ",r.a.createElement($e,{block:s.default_block,onChange:function(e){return d("default_block",e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Fluid")," : ",r.a.createElement($e,{block:s.default_fluid,onChange:function(e){return d("default_fluid",e)}}))),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Main"),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{name:"bedrock_roof_position",defaultValue:t.bedrock_roof_position},"Bedrock roof position"),r.a.createElement(Je,{name:"bedrock_floor_position",defaultValue:t.bedrock_floor_position},"Bedrock floor position"),r.a.createElement(Je,{name:"sea_level",defaultValue:t.sea_level,min:"0",max:"256"},"Sea level"),r.a.createElement(Je,{name:"disable_mob_generation",defaultChecked:t.disable_mob_generation},"Disable mob generation"))),r.a.createElement(Ma,{data:t.noise,onChange:b}),r.a.createElement("div",{className:"form-group mlm mbm"},r.a.createElement(_,{type:"submit"},"Save")))})),Ma=r.a.memo((function(e){var a=e.data,t=e.onChange,l=de(t,a),c=Object(n.useCallback)((function(e){t(Object(i.a)(Object(i.a)({},a),{},{sampling:e}))}),[a,t]),o=Object(n.useCallback)((function(e){t(Object(i.a)(Object(i.a)({},a),{},{top_slide:e}))}),[a,t]),u=Object(n.useCallback)((function(e){t(Object(i.a)(Object(i.a)({},a),{},{bottom_slide:e}))}),[a,t]);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Noise config (advanced)"),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"height",defaultValue:a.height,onChange:l,min:"0",max:"256"},"Height"),r.a.createElement(Je,{id:"size_horizontal",defaultValue:a.size_horizontal,onChange:l,min:"1",max:"4"},"Size horizontal"),r.a.createElement(Je,{id:"size_vertical",defaultValue:a.size_vertical,onChange:l,min:"1",max:"4"},"Size vertical"),r.a.createElement(Je,{id:"density_factor",defaultValue:a.density_factor,onChange:l,step:"0.01"},"Density factor"),r.a.createElement(Je,{id:"density_offset",defaultValue:a.density_offset,onChange:l,step:"0.01"},"Density offset")),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"simplex_surface_noise",defaultChecked:a.simplex_surface_noise,onChange:l},"Simplex surface noise"),r.a.createElement(Je,{id:"random_density_offset",defaultChecked:a.random_density_offset,onChange:l},"Random density offset"),r.a.createElement(Je,{id:"island_noise_override",defaultChecked:a.island_noise_override,onChange:l},"Island noise override"),r.a.createElement(Je,{id:"amplified",defaultChecked:a.amplified,onChange:l},"Amplified")),r.a.createElement(Pa,{data:a.sampling,onChange:c},"Sampling"),r.a.createElement(Ta,{data:a.top_slide,onChange:o},"Top slide"),r.a.createElement(Ta,{data:a.bottom_slide,onChange:u},"Bottom slide"))})),Pa=r.a.memo((function(e){var a=e.children,t=e.data,n=de(e.onChange,t);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,a),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{name:"xz_scale",defaultValue:t.xz_scale,onChange:n},"XY scale"),r.a.createElement(Je,{name:"y_scale",defaultValue:t.y_scale,onChange:n},"Y scale"),r.a.createElement(Je,{name:"xz_factor",defaultValue:t.xz_factor,onChange:n},"XZ factor"),r.a.createElement(Je,{name:"y_factor",defaultValue:t.y_factor,onChange:n},"Y factor")))})),Ta=r.a.memo((function(e){var a=e.children,t=e.data,n=de(e.onChange,t);return r.a.createElement("fieldset",null,r.a.createElement("legend",null,a),r.a.createElement("div",{className:"form-group form-row"},r.a.createElement(Je,{id:"target",defaultValue:t.target,onChange:n},"Target"),r.a.createElement(Je,{id:"size",defaultValue:t.size,onChange:n},"Size"),r.a.createElement(Je,{id:"offset",defaultValue:t.offset,onChange:n},"Offset")))}));function Va(){var e=Object(n.useContext)(H),a=e.custom,t=e.namespace,l=Object(n.useState)({page:"stats"}),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(n.useCallback)((function(e){e.preventDefault(),u({page:"stats"})}),[]),m=Object(n.useCallback)((function(e){e.preventDefault(),u({page:"biome"})}),[]),f=Object(n.useCallback)((function(e){e.preventDefault(),u({page:"dimension"})}),[]),d=Object(n.useCallback)((function(e){e.preventDefault(),u({page:"feature"})}),[]),p=Object(n.useCallback)((function(e){e.preventDefault(),u({page:"noise"})}),[]),b=Object(n.useCallback)((function(e){e.preventDefault(),u({page:"surface"})}),[]),g=Object(n.useCallback)((function(e){a.updateBiomes(e),u({page:"stats"})}),[a]),v=Object(n.useCallback)((function(e){a.updateDimensions(e),u({page:"stats"})}),[a]),_=Object(n.useCallback)((function(e){a.updateFeatures(e),u({page:"stats"})}),[a]),h=Object(n.useCallback)((function(e){a.updateNoises(e),u({page:"stats"})}),[a]),E=Object(n.useCallback)((function(e){a.updateSurfacesBuilders(e),u({page:"stats"})}),[a]),y=Object(n.useCallback)((function(e){u({page:"biome",index:e})}),[]),O=Object(n.useCallback)((function(e){u({page:"dimension",index:e})}),[]),j=Object(n.useCallback)((function(e){u({page:"feature",index:e})}),[]),C=Object(n.useCallback)((function(e){u({page:"noise",index:e})}),[]),k=Object(n.useCallback)((function(e){u({page:"surface",index:e})}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Datapack ",t),r.a.createElement("div",{className:"tabs"},r.a.createElement("nav",{className:"tabs-menu"},r.a.createElement(Fe,{onClick:s,active:"stats"===i.page},"Stats"),r.a.createElement(Fe,{onClick:m,active:"biome"===i.page},"Biome"),r.a.createElement(Fe,{onClick:b,active:"surface"===i.page},"Surfaces builder"),r.a.createElement(Fe,{onClick:d,active:"feature"===i.page},"Feature"),r.a.createElement(Fe,{onClick:f,active:"dimension"===i.page},"Dimension"),r.a.createElement(Fe,{onClick:p,active:"noise"===i.page},"Noise"))),"biome"===i.page&&r.a.createElement(Ne,{onSave:g,data:a.biomes[i.index]}),"surface"===i.page&&r.a.createElement(Na,{onSave:E,data:a.surfaces[i.index]}),"feature"===i.page&&r.a.createElement(pa,{onSave:_,data:a.features[i.index]}),"noise"===i.page&&r.a.createElement(za,{onSave:h,data:a.noises[i.index]}),"dimension"===i.page&&r.a.createElement(Ge,{onSave:v,data:a.dimensions[i.index]}),"stats"===i.page&&r.a.createElement(Aa,{custom:a,namespace:t,editBiome:y,editDimension:O,editFeature:j,editNoise:C,editSurface:k}))}function Aa(e){var a=e.custom,t=e.namespace,n=e.editBiome,l=e.editDimension,c=e.editFeature,o=e.editNoise,i=e.editSurface,u=Object.values(a).some((function(e){return!!Array.isArray(e)&&e.length}));return r.a.createElement("div",{className:"mtm"},r.a.createElement(Ba,{data:a.biomes,namespace:t,onClick:function(e,a){e.preventDefault(),n(a)}},"custom biome"),r.a.createElement(Ba,{data:a.dimensions,namespace:t,onClick:function(e,a){e.preventDefault(),l(a)}},"custom dimension"),r.a.createElement(Ba,{data:a.features,namespace:t,onClick:function(e,a){e.preventDefault(),c(a)}},"configured feature"),r.a.createElement(Ba,{data:a.surfaces,namespace:t,onClick:function(e,a){e.preventDefault(),i(a)}},"configured surface builder"),r.a.createElement(Ba,{data:a.noises,namespace:t,onClick:function(e,a){e.preventDefault(),o(a)}},"custom noise"),u&&r.a.createElement("p",null,r.a.createElement(_,{onClick:function(e){e.preventDefault(),function(e){var a=new ga.a;a.file("pack.mcmeta",JSON.stringify({pack:{pack_format:5,description:"Custom dimension"}},null,4)),wa(a,"data/".concat("%namespace%","/dimension"),e.dimensions),wa(a,"data/".concat("%namespace%","/dimension_type"),e.dimension_types),wa(a,"data/".concat("%namespace%","/worldgen/biome"),e.biomes),wa(a,"data/".concat("%namespace%","/worldgen/configured_feature"),e.features),wa(a,"data/".concat("%namespace%","/worldgen/configured_surface_builder"),e.surfaces),wa(a,"data/".concat("%namespace%","/worldgen/noise_settings"),e.noises),a.generateAsync({type:"blob"}).then((function(e){Object(va.saveAs)(e,"generated_datapack.zip")}))}(a)}},"Generate")))}function Ba(e){var a=e.children,t=e.data,n=e.namespace,l=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,r.a.createElement("strong",null,t.length)," ",a,t.length>1&&"s"),r.a.createElement("ul",null,t.map((function(e,a){var t=Z(e.key,n);return r.a.createElement("li",{key:a},r.a.createElement("a",{href:"#edit",onClick:function(e){return l(e,a)}},t))}))))}function Ia(e){var a=e.onCreate,t=Object(n.useState)(null),l=Object(o.a)(t,2),c=l[0],i=l[1],u=function(e){e.preventDefault(),e.stopPropagation(),ja((e.dataTransfer||e.target).files[0]).then(a).catch((function(e){console.error(e),i(e.message)}))},s=function(e){e.preventDefault(),e.stopPropagation()};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target).get("namespace");a([t,void 0])},onDragStart:s,onDragEnter:s,onDragOver:s,onDrop:u},r.a.createElement("h2",null,"Create a new dimension datapack"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"namespace"},"Default namespace")," : ",r.a.createElement("input",{type:"text",name:"namespace",id:"namespace",required:!0,pattern:"[a-z0-9._-]+",className:"form-control","aria-describedby":"namespaceHelp"}),r.a.createElement("p",null,r.a.createElement("small",{id:"namespaceHelp",className:"form-text text-muted"},"This differentiates the datapack from the vanilla functions. Namespaces and identifiers may only contain letters, numbers and ",r.a.createElement("code",null,"._-")," characters. This namespace is not final, you can edit the vanilla dimensions in the following menus."))),r.a.createElement("div",{className:"flex-container"},r.a.createElement(_,{type:"submit"},"Create"),r.a.createElement("input",{type:"file",name:"load-existing-zip",id:"load-existing-zip",accept:".zip",onChange:u}),r.a.createElement("label",{htmlFor:"load-existing-zip",className:"btn--info"},"Use existing datapack")),null!==c&&r.a.createElement("div",{className:"mtl"},r.a.createElement("div",{className:"alert--danger"},c)),r.a.createElement("div",{className:"mtl"},r.a.createElement("div",{className:"alert--warning"},"This generator as well as the in-game functionality is unstable. Use this tool with caution.",r.a.createElement("br",null),"Currently built for pre-release 1. Datapacks created in snapshots will be converted to work in this pre-release.")))}var Ra=function(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,null!==t?r.a.createElement(Y,{namespace:t[0],initial:t[1]},r.a.createElement(Va,null)):r.a.createElement(Ia,{onCreate:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ra,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.cb3620d7.chunk.js.map