{"version":3,"sources":["serviceWorker.js","components/carver/CarverDefaults.js","components/dimension/DimensionDefaults.js","components/feature/VanillaFeatures.js","components/noise/NoiseDefaults.js","components/processor/ProcessorDefaults.js","components/surface/SurfaceBuilderDefaults.js","context/Paths.js","utils/fetch.js","utils/data.js","hooks/context.js","context/DataContext.jsx","ui/Toggle.jsx","ui/DarkModeToggle.jsx","ui/Menu.jsx","utils/math.js","utils/color.js","ui/Input.jsx","components/biome/BiomeDefaults.js","hooks/form.js","ui/Select.jsx","components/state/Tags.js","components/state/BlockPredicate.jsx","ui/Button.jsx","components/state/BlockState.jsx","components/biome/BiomeEffects.jsx","hooks/ui.js","components/biome/BiomeSpawners.jsx","components/biome/BiomeStarts.jsx","ui/Modal.jsx","ui/JsonViewer.jsx","components/NamespacedKey.jsx","hooks/select.js","components/carver/ConfiguredCarver.jsx","components/biome/Features.jsx","components/biome/Biome.jsx","viewers/biome_multi_noise/PerlinSamplers.js","utils/hash.js","viewers/biome_multi_noise/MultiNoiseDimension.js","components/dimension/MultiNoiseBiomeSource.jsx","ui/NumberList.jsx","components/dimension/BiomeSource.jsx","components/noise/Structures.jsx","components/dimension/FlatChunkSettings.jsx","components/noise/NoiseSettings.jsx","components/dimension/DimensionGenerator.jsx","components/dimension/DimensionType.jsx","components/dimension/Dimension.jsx","components/processor/PositionPredicate.jsx","components/processor/ProcessorList.jsx","components/feature/config/FeatureConfigDefaults.js","components/feature/DecoratedFeatureDefaults.js","components/utils/UniformInt.jsx","components/state/BlockStateProvider.jsx","components/feature/config/BlockPileFeature.jsx","components/feature/config/DecoratedFeature.jsx","components/feature/decorator/DecoratorDefaults.js","components/feature/decorator/DecoratorConfig.jsx","components/feature/decorator/Decorator.jsx","components/feature/config/DiskFeature.jsx","components/utils/BlockPosition.jsx","components/feature/config/EndSpikeFeature.jsx","components/feature/config/HugeMushroomFeature.jsx","components/feature/config/OreFeature.jsx","components/feature/config/ProbabilityFeature.jsx","components/feature/InlineFeature.jsx","components/feature/config/RandomPatchFeature.jsx","components/feature/config/SingleStateFeature.jsx","components/feature/config/TreeFeature.jsx","components/feature/ConfiguredFeature.jsx","components/feature/config/BasaltColumnsFeature.jsx","components/feature/config/DeltaFeature.jsx","components/feature/config/EmeraldOreFeature.jsx","components/feature/config/EndGatewayFeature.jsx","components/feature/config/FillLayerFeature.jsx","components/feature/config/HugeFungusFeature.jsx","components/feature/config/NetherrackReplaceBlobsFeature.jsx","components/feature/config/RandomBooleanFeature.jsx","components/feature/config/RandomFeature.jsx","components/feature/config/CountFeature.jsx","components/feature/config/SimpleBlockFeature.jsx","components/feature/config/SimpleRandomFeature.jsx","components/feature/config/SpringFeature.jsx","components/surface/SurfaceBuilder.jsx","utils/zip.js","components/Datapack.jsx","components/DatapackForm.jsx","App.js","index.js"],"names":["Boolean","window","location","hostname","match","VANILLA_CARVERS","value","label","probability","map","option","DIMENSION","generator","type","seed","biome_source","biome","settings","CHUNK_GENERATOR_TYPES","VANILLA_DIMENSION_TYPES","NOISES_NAMES","MULTI_NOISE_BIOME_SOURCE","temperature_noise","firstOctave","amplitudes","humidity_noise","altitude_noise","weirdness_noise","biomes","DIMENSION_TYPE_EFFECTS","DIMENSION_TYPE_INFINIBURN","OVERWORLD_DIMENSION_TYPE","has_raids","logical_height","infiniburn","effects","ambient_light","piglin_safe","bed_works","respawn_anchor_works","ultrawarm","natural","coordinate_scale","has_skylight","has_ceiling","OVERWORLD_CAVES_DIMENSION_TYPE","THE_NETHER_DIMENSION_TYPE","fixed_time","THE_END_DIMENSION_TYPE","VANILLA_FEATURES","VANILLA_NOISES","STRUCTURES","tag","OVERWORLD_NOISE","bedrock_roof_position","bedrock_floor_position","sea_level","disable_mob_generation","structures","stronghold","distance","spread","count","spacing","separation","salt","noise","height","sampling","xz_scale","y_scale","xz_factor","y_factor","top_slide","target","size","offset","bottom_slide","size_horizontal","size_vertical","density_factor","density_offset","simplex_surface_noise","default_block","Name","default_fluid","Properties","level","VANILLA_PROCESSORS","processor_list","PROCESSORS_OPTIONS","o","PROCESSOR_RULE_DEFAULTS","output_state","age","input_predicate","block","predicate_type","location_predicate","VANILLA_SURFACE_BUILDERS","SURFACE_TYPES_OPTIONS","SURFACE_BUILDER","config","top_material","snowy","under_material","underwater_material","PATHS","dimensions","dimension_types","carvers","features","surfaces","noises","processors","getAbsolutePath","namespace","identifier","replace","jsonFetch","url","options","a","headers","Accept","fetch","response","json","responseData","ok","objectsEqual","b","Object","keys","length","every","p","capitalize","str","toUpperCase","substr","displayNamespacedKey","key","defaultNamespace","startsWith","split","findDecorators","feature","decorators","f","find","obj","unshift","name","buildDecorated","decorated","current","forEach","decorator","i","dataUpper","group","data","hasOwnProperty","sky_color","refitKeys","build","destKey","source","some","n","shrunk","useData","initial","useState","setData","updateData","object","previous","stored","splice","findIndex","existing","push","indexOf","useKeyedListOptions","category","includeCustom","empty","context","useContext","DataContext","custom","keyed","struct","vanilla","displayName","React","createContext","blocks","entities","sounds","getVanillaResource","updateBiomes","updateCarvers","carver","updateDimensions","dimension","updateDimensionTypes","dimension_type","updateFeatures","updateNoises","updateProcessors","processor","updateSurfacesBuilders","surface_builder","DataContextProvider","children","setBiomes","setBlocks","setEntities","setSounds","customBiomes","vanillaZip","setVanillaZip","useEffect","then","entity","values","sound","useCallback","zip","blob","JSZip","loadAsync","Promise","reject","Error","message","absolute","file","JSON","async","parse","resolve","Provider","filter","includes","Toggle","ariaLabel","checked","id","onChange","className","aria-label","htmlFor","DarkModeToggle","darkMode","useDarkMode","title","onClick","disable","tabIndex","toggle","enable","MenuItem","active","href","role","aria-current","NavBar","rel","maintainPrecision","parseFloat","toFixed","e","console","error","perlinFade","t","lerp","delta","start","end","lerp2","deltaX","deltaY","n00","n10","n01","n11","grad","hash","x","y","z","h","u","v","hexColorToInteger","color","parseInt","integerColorToHex","toString","padStart","ConfInput","memo","attr","defaultChecked","defaultValue","min","max","step","style","uId","Math","random","isNaN","data-name","NumberInput","upChange","required","val","setValue","prevVal","setPrevValue","click","setClick","handleChange","endsWith","stepUpDown","addition","handleMouseDown","preventDefault","classList","contains","setInterval","handleClick","handleMouseUp","clearInterval","width","numeric","decimals","countDecimals","ceil","smooth","getNumberSize","onMouseDown","onMouseOut","onMouseUp","ColorInput","FEATURES","STARTS","SPAWNERS_DEFAULTS","ambient","weight","minCount","maxCount","creature","misc","monster","water_ambient","water_creature","BIOME_DEFAULTS","mood_sound","tick_delay","block_search_extent","fog_color","water_color","water_fog_color","air","starts","spawners","precipitation","scale","downfall","depth","temperature","player_spawn_friendly","spawn_costs","PARTICLES","particle","PARTICLE_DEFAULTS","crudReducer","state","action","ADD","payload","UPDATE","arrayMove","element","REMOVE","REPLACE","useCrudState","useReducer","useCrudPreset","add","update","oldIndex","newIndex","remove","useBlocksOptions","mapped","useMemo","useJsonEffect","props","stringify","CRUD","styles","control","backgroundColor","borderColor","boxShadow","transition","singleValue","menuList","input","menu","isFocused","isSelected","cursor","multiValue","multiValueLabel","multiValueRemove","TAGS_OPTIONS","BlockPredicate","handleTypeChange","handleBlockChange","handleBlockStateChange","block_state","handleTagChange","content","BlockSelect","BlockState","RandomBlockMatch","flexGrow","inputId","Button","loading","cat","buttonProps","states","properties","actual","getStateValue","handlePropertiesChange","BlockStateProperties","BlocksList","addButton","list","handleAdd","handleRemove","filteredOptions","d","BlocksNamesList","handlePropertyChange","handleCheckboxChange","dataset","handleNumberChange","selects","possible","num_values","BiomeEffects","blockColor","setBlockColor","setParticle","handleColorChange","handleBlockColorChange","handleAmbientSoundChange","ambient_sound","handleMoodSoundChange","handleParticleChange","handleBlockColorToggle","foliage_color","grass_color","handleParticleToggle","blockColorChecked","particleChecked","ParticleEffect","flexShrink","isClearable","MoodSound","handleSoundChange","marginTop","handleScaleChange","handleProbabilityChange","op","DustColor","r","g","undefined","useToggle","status","setState","BiomeSpawners","groupSpawners","SpawnGroup","visibility","text","s","insert","spawner","index","SpawnDefinition","onDelete","handleValueChange","handleCountChange","handleDelete","selectedOption","BiomeStarts","selectedOptions","isMulti","Modal","open","onClose","modal","useModal","el","document","createElement","body","appendChild","removeChild","createPortal","JsonViewer","toggleModal","xmlns","viewBox","NamespacedKey","example","expectBreakage","inline","mayReplaceVanilla","defaultReplace","onSelect","onSelectLoad","hidden","useRef","setKey","fill","toggleFill","mayFill","setMayFill","handleKeyChange","toLowerCase","handleReplaceTargetChange","selected","catch","handleKeyDown","form","dispatchEvent","Event","cancelable","handleToggle","handleFillToggle","inputValue","hiddenInputValue","apply","isFinite","dummyOnChange","log","pattern","placeholder","autoCapitalize","spellCheck","autoComplete","onKeyPress","ref","opacity","position","useInlineResources","resources","mutable","getInline","resource","res","ConfiguredCarver","handleAirChange","handleLiquidChange","liquid","handleNewClick","handleCarverCreated","optionsAir","selectedAir","optionsLiquid","selectedLiquid","ConfiguredCarverForm","onSave","setCarver","handleSelectChange","handleSubmit","stopPropagation","c","fromEntries","FormData","onSubmit","GenFeatures","handleLevelChange","priority","GenFeaturesLevel","Biome","handleCarversChange","handleStartsChange","handleEffectsChange","handleFeaturesChange","handleSpawnersChange","handleSurfaceBuilderChange","handlePrecipitationChange","handleCategoryChange","handleSpawnFriendlyChange","formData","BiomeCategory","BiomePrecipitation","SurfaceBuilder","creature_spawn_probability","DoublePerlinSampler","this","firstSampler","OctaveSimplexNoise","secondSampler","amplitude","createAmplitude","sample","sampler","PerlinNoiseSampler","j","k","octaveSamplers","Array","l","consumeRandom","m","random2","Random","lacunarity","pow","persistence","bl","originY","originX","nextDouble","originZ","permutations","buildPermutationsTable","Uint8Array","nextInt","rx","ry","rz","fx","floor","fy","fz","dx","dy","dz","fadeX","fadeY","fadeZ","_sample","sectionX","sectionY","sectionZ","localX","localY","localZ","fadeLocalX","fadeLocalY","fadeLocalZ","n001","n101","n011","n111","getGradient","q","hashCode","imul","charCodeAt","MultiNoiseDimension","temperatureNoise","humidityNoise","altitudeNoise","weirdnessNoise","biomeX","biomeY","biomeZ","humidity","altitude","weirdness","minDistance","Number","MAX_SAFE_INTEGER","getDistanceToBiome","parameters","image","offsetX","offsetY","buffer","ArrayBuffer","buf8","Uint8ClampedArray","data32","Uint32Array","endX","endY","biomesColors","getBiomesColors","getBiomeAt","set","MultiNoiseRepresentation","auto","setScale","reference","render","canvas","ctx","getContext","alpha","img","createImageData","putImageData","display","alignItems","moz-opaque","justifyContent","entries","marginLeft","marginRight","verticalAlign","NumberList","numbers","pos","BiomeSource","handleSeedChange","handleFixedSourceChange","SeedField","CheckerboardBiomeSource","FixedBiomeSource","MultiNoiseBiomeSource","VanillaLayeredBiomeSource","handleBiomesChange","selection","isArray","advanced","toggleAdvanced","handleNoiseChange","entry","BiomeSelection","biomesOptions","PerlinNoiseParameters","objects","hasDuplicatedObjects","handleLegacyBiomeToggle","legacy_biome_init_layer","handleLargeBiomesToggle","large_biomes","handleFirstOctaveChange","handleAmplitudesChange","margin","handleBiomeChange","rainfall","handleParameterChange","Structures","handleStrongholdChange","handleStructuresChange","Stronghold","StructuresList","enabled","setStronghold","dispatch","setPrevious","original","structure","def","Structure","handleSpacingChange","handleSaltChange","FlatChunkSettings","layers","handleLayersChange","handleLakesToggle","lakes","GeneratorLayers","shouldCancelStart","parentNode","handleReversedSort","SortableLayersList","onRemove","onSortEnd","SortableContainer","layer","Layer","reverse","SortableElement","handleHeightChange","NoiseGenerator","NoiseSettings","handleDisableMobGenerationChange","NoiseConfig","changeCallback","handleSamplingChange","handleTopSlideChange","handleBottomSlideChange","random_density_offset","island_noise_override","amplified","NoiseSamplingConfig","SlideConfig","DimensionGenerator","previousGenerator","setPreviousGenerator","handleChunkGeneratorChange","handleSettingsChange","handleBiomeSourceChange","fontWeight","fontSize","setText","DimensionType","handleTypeCreated","DimensionTypeForm","setConfig","handleVanillaSelect","handleFixedTimeToggle","InfiniburnIdentifier","marginBottom","textAlign","Dimension","handleGeneratorChange","PositionPredicate","predicate","LinearPosPredicate","AxisAlignedLinearPos","min_chance","max_chance","min_dist","max_dist","axis","handleAxisChange","ProcessorList","processor_type","StructureProcessor","handleAddBlockClick","handleAddProcessorClick","rules","CustomTag","BlockAgeProcessor","BlockIgnoreProcessor","BlockRotProcessor","BlockGravityProcessor","RuleProcessor","mossiness","integrity","rule","ProcessorRule","handleInputPredicate","handleLocationPredicate","handlePositionPredicate","position_predicate","handleOutputState","TREE_DECORATORS_OPTIONS","default","BLOCK_PILE_FEATURE_CONFIG","state_provider","HUGE_FUNGUS_FEATURE_CONFIG","hat_state","decor_state","planted","valid_base_block","stem_state","RANDOM_PATCH_FEATURE_CONFIG","whitelist","blacklist","tries","block_placer","DECORATED_BLOCK_PILE","chance","DECORATED_DECORATED","DECORATED_HUGE_RED_MUSHROOM","DECORATED_ORE","bottom_offset","top_offset","maximum","DECORATED_RANDOM_PATCH","outer","inner","DECORATED_SPRING_FEATURE","rock_count","hole_count","valid_blocks","falling","requires_block_below","DECORATED_TREE","heightmap","minimum_size","limit","lower_size","upper_size","trunk_provider","leaves_provider","persistent","foliage_placer","radius","trunk_placer","base_height","height_rand_a","height_rand_b","extra_chance","extra_count","UniformInt","minBase","maxBase","maxSpread","base","BlockStateProvider","similarities","handleSimpleStateChange","handleWeighestStateChange","filteredBlocks","WeightedStateProvider","handleStateChange","handleWeightChange","BlockPileFeature","configuration","DecoratedFeature","CARVERS_OPTIONS","DECORATOR_RANGE","CarvingMaskDecorator","handleStepChange","ChanceDecorator","CountDecorator","CountExtraDecorator","CountNoiseDecorator","noise_level","below_noise","above_noise","CountNoiseBiasedDecorator","noise_to_count_ratio","noise_factor","noise_offset","DecoratedDecorator","handleInnerChange","handleOuterChange","Decorator","DECORATORS_OPTIONS","DepthAverageDecorator","baseline","RangeDecorator","DECORATORS","DecoratorsList","SortableDecoratorsList","SortableDecorator","handleConfigChange","DecoratorConfig","DiskFeature","handleTargetsChange","targets","half_height","BlockPosition","optional","handleXChange","handleYChange","handleZChange","Spike","spike","handleGuardedChange","guarded","centerX","centerZ","HugeMushroomFeature","handleCapProviderChange","cap_provider","handleFoliageRadiusChange","foliage_radius","handleStemProviderChange","stem_provider","OreFeature","handlePredicateChange","ProbabilityFeature","InlineFeature","legend","FEATURES_OPTIONS","FeatureConfig","FeatureField","RandomPatchFeature","handleStateProviderChange","handleWhitelistChange","handleBlacklistChange","handleBlockPlacerChange","min_size","extra_size","handleBlockPlacerValueChange","material","blockPlacers","xspread","yspread","zspread","need_water","project","can_replace","SingleStateFeature","FoliagePlacer","placer","crown_height","trunk_height","TrunkPlacer","TreeDecorators","TreeDecorator","handleAlterGroundChange","provider","reach","handleReachChange","contents","rim","rim_size","handleContentsChange","handleRimChange","handleTargetChange","exit","exact","handleExitChange","handleExactChange","crystal_invulnerable","spikes","handleBeamTargetChange","crystal_beam_target","handleCrystalChange","west","up","south","north","east","down","handleDecorStateChange","handleHatStateChange","handlePlantedChange","handleStemStateChange","handleValidBaseBlockChange","feature_true","feature_false","handleFeatureTrueChange","handleFeatureFalseChange","handleChanceChange","handleDefaultChange","default_","handleFeatureChange","to_place","place_on","place_in","place_under","handleToPlaceChange","handlePlaceOnChange","handlePlaceInChange","handlePlaceUnderChange","hasInline","handlRequiresBlockBelowChange","handleValidBlocksChange","handleTrunkProviderChange","handleLeavesProviderChange","handleFoliagePlacerChange","handleTrunkPlacerChange","handleDecoratorsChange","Tag","RawConfiguredFeature","decorators_","feature_","setFeature","setDecorators","handleDecoratedChange","configured_feature","get","handleTopMaterialChange","handleUnderMaterialChange","handleUnderwaterMaterialChange","DIMENSIONS_PATH","WORLDGEN_PATH","LEGACY_DIMENSIONS_PATH","LEGACY_WORLDGEN_PATH","buildZip","modified","elements","pack","pack_format","description","path","w","filename","folder","writeFile","generateAsync","saveAs","readZip","extractDatapack","legacy","mcmeta","promises","dir","regex","parseFile","all","getFolderType","pathRegex","contentPromise","exec","success","Datapack","page","setPage","useMenu","setMenu","handleSave","method","scrollTo","mayGenerate","surface","disabled","Main","Masonry","itemSelector","gutter","StatsTitle","invisible","confirm","DatapackForm","onCreate","setError","handleFile","dataTransfer","files","handleDrag","onDragStart","onDragEnter","onDragOver","onDrop","aria-describedby","accept","App","addEventListener","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gMAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,4EClBOC,EAAkB,CAC3B,CAAEC,MAAO,SAAUC,MAAO,SAAUC,YAAa,KACjD,CAAEF,MAAO,OAAQC,MAAO,OAAQC,YAAa,MAC7C,CAAEF,MAAO,cAAeC,MAAO,cAAeC,YAAa,IAC3D,CAAEF,MAAO,oBAAqBC,MAAO,oBAAqBC,YAAa,KACvE,CAAEF,MAAO,kBAAmBC,MAAO,kBAAmBC,YAAa,OACrEC,KAAI,SAAAC,GAEF,OADAA,EAAOJ,MAAQ,aAAeI,EAAOJ,MAC9BI,K,OCREC,EAAY,CACrBC,UAAW,CACPC,KAAM,kBACNC,KAAM,UACNC,aAAc,CACVF,KAAM,kBACNC,KAAM,UACNE,MAAO,oBAEXC,SAAU,uBAEdJ,KAAM,uBAGGK,EAAwB,CACjC,CAAEZ,MAAO,iBAAkBC,MAAO,wBAClC,CAAED,MAAO,kBAAmBC,MAAO,yBACnC,CAAED,MAAO,kBAAmBC,MAAO,0BAG1BY,EAA0B,CACnC,CAAEb,MAAO,sBAAuBC,MAAO,aACvC,CAAED,MAAO,4BAA6BC,MAAO,mBAC7C,CAAED,MAAO,uBAAwBC,MAAO,cACxC,CAAED,MAAO,oBAAqBC,MAAO,YAG5Ba,EAAe,CACxB,oBACA,iBACA,iBACA,mBAGSC,EAA2B,CACpCR,KAAM,wBACNC,KAAM,UACNQ,kBAAmB,CACfC,aAAc,EACdC,WAAY,CAAC,EAAG,IAEpBC,eAAgB,CACZF,aAAc,EACdC,WAAY,CAAC,EAAG,IAEpBE,eAAgB,CACZH,aAAc,EACdC,WAAY,CAAC,EAAG,IAEpBG,gBAAiB,CACbJ,aAAc,EACdC,WAAY,CAAC,EAAG,IAEpBI,OAAQ,IAGCC,EAAyB,CAClC,CAAEvB,MAAO,sBAAuBC,MAAO,aACvC,CAAED,MAAO,uBAAwBC,MAAO,cACxC,CAAED,MAAO,oBAAqBC,MAAO,YAG5BuB,EAA4B,CACrC,CAAExB,MAAO,iCAAkCC,MAAO,aAClD,CAAED,MAAO,8BAA+BC,MAAO,cAC/C,CAAED,MAAO,2BAA4BC,MAAO,YAGnCwB,EAA2B,CACpCC,WAAW,EACXC,eAAgB,IAChBC,WAAY,iCACZC,QAAS,sBACTC,cAAe,EACfC,aAAa,EACbC,WAAW,EACXC,sBAAsB,EACtBC,WAAW,EACXC,SAAS,EACTC,iBAAkB,EAClBC,cAAc,EACdC,aAAa,GAGJC,EAA8B,2BAAQd,GAAR,IAAkCa,aAAa,IAE7EE,EAA4B,CACrCd,WAAW,EACXC,eAAgB,IAChBC,WAAY,8BACZC,QAAS,uBACTC,cAAe,GACfC,aAAa,EACbC,WAAW,EACXC,sBAAsB,EACtBC,WAAW,EACXC,SAAS,EACTC,iBAAkB,EAClBK,WAAY,KACZJ,cAAc,EACdC,aAAa,GAGJI,EAAyB,CAClChB,WAAW,EACXC,eAAgB,IAChBC,WAAY,2BACZC,QAAS,oBACTC,cAAe,EACfC,aAAa,EACbC,WAAW,EACXC,sBAAsB,EACtBC,WAAW,EACXC,SAAS,EACTC,iBAAkB,EAClBK,WAAY,IACZJ,cAAc,EACdC,aAAa,GCrHJK,EAAmB,CAC5B,YACA,cACA,sBACA,eACA,aACA,uBACA,QACA,uBACA,uBACA,eACA,mBACA,kBACA,YACA,4BACA,2BACA,iBACA,iBACA,gBACA,gBACA,gBACA,qBACA,kBACA,iBACA,gBACA,iBACA,gBACA,qBACA,aACA,YACA,YACA,cACA,kBACA,iBACA,eACA,YACA,YACA,WACA,eACA,SACA,QACA,aACA,YACA,YACA,cACA,YACA,mBACA,cACA,sBACA,eACA,cACA,SACA,qBACA,cACA,eACA,gBACA,uBACA,cACA,eACA,WACA,aACA,YACA,WACA,eACA,aACA,kBACA,uBACA,qBACA,sBACA,kBACA,gBACA,oBACA,mBACA,oBACA,qBACA,uBACA,sBACA,qBACA,sBACA,oBACA,qBACA,oBACA,kBACA,2BACA,cACA,qBACA,wBACA,mBACA,qBACA,mBACA,mBACA,eACA,sBACA,yBACA,yBACA,0BACA,4BACA,mBACA,wBACA,sBACA,wBACA,sBACA,uBACA,qBACA,uBACA,qBACA,uBACA,qBACA,YACA,gBACA,kBACA,oBACA,kBACA,oBACA,oBACA,iBACA,WACA,aACA,cACA,cACA,eACA,WACA,WACA,iBACA,WACA,eACA,cACA,YACA,eACA,cACA,mBACA,mBACA,gBACA,wBACA,eACA,uBACA,sBACA,oBACA,MACA,WACA,QACA,SACA,SACA,OACA,cACA,YACA,sBACA,mBACA,cACA,YACA,wBACA,aACA,cACA,gBACA,eACA,eACA,kBACA,iBACA,iBACA,sBACA,qBACA,qBACA,eACA,eACA,cACA,iBACA,gBACA,eACA,eACA,yBACA,kCACA,2BACA,+BACA,6BACA,wBACA,sBACA,mBACA,0BACA,gBACA,aACA,cACA,sBACA,iBACA,cACA,cACA,mBACA,oBACA,qBACA,cACA,eACA,oBACA,6BC/LSC,EAAiB,CAC1B,CAAE5C,MAAO,sBAAuBC,MAAO,aACvC,CAAED,MAAO,mBAAoBC,MAAO,UACpC,CAAED,MAAO,gBAAiBC,MAAO,OACjC,CAAED,MAAO,sBAAuBC,MAAO,aACvC,CAAED,MAAO,kBAAmBC,MAAO,SACnC,CAAED,MAAO,6BAA8BC,MAAO,qBAGrC4C,EAAa,CACtB,aACA,kBACA,WACA,gBACA,QACA,YACA,YACA,iBACA,UACA,gBACA,UACA,kBACA,UACA,WACA,aACA,mBACA,iBACA,aACF1C,KAAI,SAAA2C,GAAG,MAAK,CAAE9C,MAAO,aAAe8C,EAAK7C,MAAO6C,MAErCC,EAAkB,CAC3BC,uBAAwB,GACxBC,uBAAwB,EACxBC,UAAW,GACXC,wBAAwB,EACxBC,WAAY,CACRC,WAAY,CACRC,SAAU,GACVC,OAAQ,EACRC,MAAO,KAEXJ,WAAY,CACR,uBAAwB,CACpBK,QAAS,GACTC,WAAY,EACZC,KAAM,UAEV,4BAA6B,CACzBF,QAAS,GACTC,WAAY,EACZC,KAAM,UAEV,qBAAsB,CAClBF,QAAS,GACTC,WAAY,EACZC,KAAM,UAEV,0BAA2B,CACvBF,QAAS,EACTC,WAAY,EACZC,KAAM,UAEV,kBAAmB,CACfF,QAAS,GACTC,WAAY,EACZC,KAAM,UAEV,sBAAuB,CACnBF,QAAS,GACTC,WA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ADd,IAEIE,gBAAiB,8BACjBC,YAAa,wBAEjB,SAAS,2BACFH,EAAO,WADd,IAEII,UAAW,iCAEfC,WAAY,SAEhBC,YAAa,SAAAN,GAAM,kCACZA,GADY,IAEf5G,MAAO,0BAEXmH,SAAU,SAAAP,GAAM,kCACTA,GADS,IAEZ5G,MAAO,uBACP8G,gBAAiB,0BACjB,SAAS,2BACFF,EAAO,WADd,IAEI5G,MAAO,mCAGfoH,MAAO,SAAAR,GAAM,kCACNA,GADM,IAET5G,MAAO,0BAEXqH,KAAM,SAAAT,GAAM,kCACLA,GADK,IAERE,gBAAiB,6BAErBhZ,OAAQ,SAAC8Y,EAAD,OAAWU,EAAX,EAAWA,UAAWC,EAAtB,EAAsBA,WAAtB,mBAAC,eACFX,GADC,IAEJ5G,MAAO,uBACPwH,OAAQ,UACRV,gBAAiBS,EACX,+BACAD,EACI,8BACA,KACV,UAAU,2BACHV,EAAO,YADd,IAEIE,gBAAiBS,EACX,+BACA,mCAGdE,WAAY,SAAAb,GAAM,kCACXA,GADW,IAEd5G,MAAO,uBACP8G,gBAAiB,yBAErBY,gBAAiB,SAAAd,GAAM,kCAChBA,GADgB,IAEnB5G,MAAO,uBACP8G,gBAAiB,yBAErBa,iBAAkB,SAAAf,GAAM,kCACjBA,GADiB,IAEpB,SAAS,2BACFA,EAAO,WADd,IAEIE,gBAAiB,6BAIzBL,OC7EHmB,GAAe,CACxB,cACA,QACA,sBACA,UACA,oBACA,uBACA,qBACA,OACA,gBACA,WACA,aACA,UACA,YACA,UACA,YACA,eACA,eACA,SACA,gBACA,QACA,gBACA,QACA,gBACA,oBACA,cACA,SACA,OACA,cACA,UACA,YACA,qBACA,oBACA,MACA,cACA,iBACA,oBACA,uBACA,cACA,SACA,OACA,iBACA,sBACA,qBACA,SACA,WACA,oBACA,SACA,UACA,kBACA,8BACA,QACA,OACA,WACA,gBACA,QACA,QACA,gBACA,wBACA,oBACA,cACA,SACA,iBACA,eACA,wBACA,sBACA,eACA,YACA,uBACA,yBACA,cACA,cACA,qBACA,aACA,QACA,eACA,cACA,gBACA,4BACA,iBACA,eACA,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","file":"static/js/main.647a7a49.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const VANILLA_CARVERS = [\n    { value: 'canyon', label: 'Canyon', probability: 0.02 },\n    { value: 'cave', label: 'Cave', probability: 0.143 },\n    { value: 'nether_cave', label: 'Nether cave', probability: 0.2 },\n    { value: 'underwater_canyon', label: 'Underwater canyon', probability: 0.02  },\n    { value: 'underwater_cave', label: 'Underwater cave', probability: 0.067 }\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n","export const DIMENSION = {\n    generator: {\n        type: \"minecraft:noise\",\n        seed: 286956243,\n        biome_source: {\n            type: \"minecraft:fixed\",\n            seed: 286956243,\n            biome: \"minecraft:plains\"\n        },\n        settings: \"minecraft:overworld\"\n    },\n    type: \"minecraft:overworld\"\n};\n\nexport const CHUNK_GENERATOR_TYPES = [\n    { value: 'minecraft:flat', label: 'Flat chunk generator' },\n    { value: 'minecraft:debug', label: 'Debug chunk generator' },\n    { value: 'minecraft:noise', label: 'Noise chunk generator' }\n];\n\nexport const VANILLA_DIMENSION_TYPES = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:overworld_caves', label: 'Overworld caves' },\n    { value: 'minecraft:the_nether', label: 'The Nether' },\n    { value: 'minecraft:the_end', label: 'The End' }\n];\n\nexport const NOISES_NAMES = [\n    'temperature_noise',\n    'humidity_noise',\n    'altitude_noise',\n    'weirdness_noise'\n];\n\nexport const MULTI_NOISE_BIOME_SOURCE = {\n    type: 'minecraft:multi_noise',\n    seed: 286956243,\n    temperature_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    humidity_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    altitude_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    weirdness_noise: {\n        firstOctave: -7,\n        amplitudes: [1, 1]\n    },\n    biomes: []\n};\n\nexport const DIMENSION_TYPE_EFFECTS = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:the_nether', label: 'The Nether' },\n    { value: 'minecraft:the_end', label: 'The End' }\n];\n\nexport const DIMENSION_TYPE_INFINIBURN = [\n    { value: 'minecraft:infiniburn_overworld', label: 'Overworld' },\n    { value: 'minecraft:infiniburn_nether', label: 'The Nether' },\n    { value: 'minecraft:infiniburn_end', label: 'The End' }\n];\n\nexport const OVERWORLD_DIMENSION_TYPE = {\n    has_raids: true,\n    logical_height: 256,\n    infiniburn: \"minecraft:infiniburn_overworld\",\n    effects: \"minecraft:overworld\",\n    ambient_light: 0.0,\n    piglin_safe: false,\n    bed_works: true,\n    respawn_anchor_works: false,\n    ultrawarm: false,\n    natural: true,\n    coordinate_scale: 1,\n    has_skylight: true,\n    has_ceiling: false\n}\n\nexport const OVERWORLD_CAVES_DIMENSION_TYPE = { ...OVERWORLD_DIMENSION_TYPE, has_ceiling: true };\n\nexport const THE_NETHER_DIMENSION_TYPE = {\n    has_raids: false,\n    logical_height: 128,\n    infiniburn: \"minecraft:infiniburn_nether\",\n    effects: \"minecraft:the_nether\",\n    ambient_light: 0.1,\n    piglin_safe: true,\n    bed_works: false,\n    respawn_anchor_works: true,\n    ultrawarm: true,\n    natural: false,\n    coordinate_scale: 8,\n    fixed_time: 18000,\n    has_skylight: false,\n    has_ceiling: true\n}\n\nexport const THE_END_DIMENSION_TYPE = {\n    has_raids: true,\n    logical_height: 256,\n    infiniburn: \"minecraft:infiniburn_end\",\n    effects: \"minecraft:the_end\",\n    ambient_light: 0.0,\n    piglin_safe: false,\n    bed_works: false,\n    respawn_anchor_works: false,\n    ultrawarm: false,\n    natural: false,\n    coordinate_scale: 1,\n    fixed_time: 6000,\n    has_skylight: false,\n    has_ceiling: false\n}\n","export const VANILLA_FEATURES = [\n    \"end_spike\",\n    \"end_gateway\",\n    \"end_gateway_delayed\",\n    \"chorus_plant\",\n    \"end_island\",\n    \"end_island_decorated\",\n    \"delta\",\n    \"small_basalt_columns\",\n    \"large_basalt_columns\",\n    \"basalt_blobs\",\n    \"blackstone_blobs\",\n    \"glowstone_extra\",\n    \"glowstone\",\n    \"crimson_forest_vegetation\",\n    \"warped_forest_vegetation\",\n    \"nether_sprouts\",\n    \"twisting_vines\",\n    \"weeping_vines\",\n    \"basalt_pillar\",\n    \"seagrass_cold\",\n    \"seagrass_deep_cold\",\n    \"seagrass_normal\",\n    \"seagrass_river\",\n    \"seagrass_deep\",\n    \"seagrass_swamp\",\n    \"seagrass_warm\",\n    \"seagrass_deep_warm\",\n    \"sea_pickle\",\n    \"ice_spike\",\n    \"ice_patch\",\n    \"forest_rock\",\n    \"seagrass_simple\",\n    \"iceberg_packed\",\n    \"iceberg_blue\",\n    \"kelp_cold\",\n    \"kelp_warm\",\n    \"blue_ice\",\n    \"bamboo_light\",\n    \"bamboo\",\n    \"vines\",\n    \"lake_water\",\n    \"lake_lava\",\n    \"disk_clay\",\n    \"disk_gravel\",\n    \"disk_sand\",\n    \"freeze_top_layer\",\n    \"bonus_chest\",\n    \"void_start_platform\",\n    \"monster_room\",\n    \"desert_well\",\n    \"fossil\",\n    \"spring_lava_double\",\n    \"spring_lava\",\n    \"spring_delta\",\n    \"spring_closed\",\n    \"spring_closed_double\",\n    \"spring_open\",\n    \"spring_water\",\n    \"pile_hay\",\n    \"pile_melon\",\n    \"pile_snow\",\n    \"pile_ice\",\n    \"pile_pumpkin\",\n    \"patch_fire\",\n    \"patch_soul_fire\",\n    \"patch_brown_mushroom\",\n    \"patch_red_mushroom\",\n    \"patch_crimson_roots\",\n    \"patch_sunflower\",\n    \"patch_pumpkin\",\n    \"patch_taiga_grass\",\n    \"patch_berry_bush\",\n    \"patch_grass_plain\",\n    \"patch_grass_forest\",\n    \"patch_grass_badlands\",\n    \"patch_grass_savanna\",\n    \"patch_grass_normal\",\n    \"patch_grass_taiga_2\",\n    \"patch_grass_taiga\",\n    \"patch_grass_jungle\",\n    \"patch_dead_bush_2\",\n    \"patch_dead_bush\",\n    \"patch_dead_bush_badlands\",\n    \"patch_melon\",\n    \"patch_berry_sparse\",\n    \"patch_berry_decorated\",\n    \"patch_waterlilly\",\n    \"patch_tall_grass_2\",\n    \"patch_tall_grass\",\n    \"patch_large_fern\",\n    \"patch_cactus\",\n    \"patch_cactus_desert\",\n    \"patch_cactus_decorated\",\n    \"patch_sugar_cane_swamp\",\n    \"patch_sugar_cane_desert\",\n    \"patch_sugar_cane_badlands\",\n    \"patch_sugar_cane\",\n    \"brown_mushroom_nether\",\n    \"red_mushroom_nether\",\n    \"brown_mushroom_normal\",\n    \"red_mushroom_normal\",\n    \"brown_mushroom_taiga\",\n    \"red_mushroom_taiga\",\n    \"brown_mushroom_giant\",\n    \"red_mushroom_giant\",\n    \"brown_mushroom_swamp\",\n    \"red_mushroom_swamp\",\n    \"ore_magma\",\n    \"ore_soul_sand\",\n    \"ore_gold_deltas\",\n    \"ore_quartz_deltas\",\n    \"ore_gold_nether\",\n    \"ore_quartz_nether\",\n    \"ore_gravel_nether\",\n    \"ore_blackstone\",\n    \"ore_dirt\",\n    \"ore_gravel\",\n    \"ore_granite\",\n    \"ore_diorite\",\n    \"ore_andesite\",\n    \"ore_coal\",\n    \"ore_iron\",\n    \"ore_gold_extra\",\n    \"ore_gold\",\n    \"ore_redstone\",\n    \"ore_diamond\",\n    \"ore_lapis\",\n    \"ore_infested\",\n    \"ore_emerald\",\n    \"ore_debris_large\",\n    \"ore_debris_small\",\n    \"crimson_fungi\",\n    \"crimson_fungi_planted\",\n    \"warped_fungi\",\n    \"warped_fungi_planted\",\n    \"huge_brown_mushroom\",\n    \"huge_red_mushroom\",\n    \"oak\",\n    \"dark_oak\",\n    \"birch\",\n    \"acacia\",\n    \"spruce\",\n    \"pine\",\n    \"jungle_tree\",\n    \"fancy_oak\",\n    \"jungle_tree_no_vine\",\n    \"mega_jungle_tree\",\n    \"mega_spruce\",\n    \"mega_pine\",\n    \"super_birch_bees_0002\",\n    \"swamp_tree\",\n    \"jungle_bush\",\n    \"oak_bees_0002\",\n    \"oak_bees_002\",\n    \"oak_bees_005\",\n    \"birch_bees_0002\",\n    \"birch_bees_002\",\n    \"birch_bees_005\",\n    \"fancy_oak_bees_0002\",\n    \"fancy_oak_bees_002\",\n    \"fancy_oak_bees_005\",\n    \"oak_badlands\",\n    \"spruce_snowy\",\n    \"flower_warm\",\n    \"flower_default\",\n    \"flower_forest\",\n    \"flower_swamp\",\n    \"flower_plain\",\n    \"flower_plain_decorated\",\n    \"forest_flower_vegetation_common\",\n    \"forest_flower_vegetation\",\n    \"dark_forest_vegetation_brown\",\n    \"dark_forest_vegetation_red\",\n    \"warm_ocean_vegetation\",\n    \"forest_flower_trees\",\n    \"taiga_vegetation\",\n    \"trees_shattered_savanna\",\n    \"trees_savanna\",\n    \"birch_tall\",\n    \"trees_birch\",\n    \"trees_mountain_edge\",\n    \"trees_mountain\",\n    \"trees_water\",\n    \"birch_other\",\n    \"plain_vegetation\",\n    \"trees_jungle_edge\",\n    \"trees_giant_spruce\",\n    \"trees_giant\",\n    \"trees_jungle\",\n    \"bamboo_vegetation\",\n    \"mushroom_field_vegetation\"\n];\n","export const VANILLA_NOISES = [\n    { value: 'minecraft:overworld', label: 'Overworld' },\n    { value: 'minecraft:nether', label: 'Nether' },\n    { value: 'minecraft:end', label: 'End' },\n    { value: 'minecraft:amplified', label: 'Amplified' },\n    { value: 'minecraft:caves', label: 'Caves' },\n    { value: 'minecraft:floating_islands', label: 'Floating islands' }\n];\n\nexport const STRUCTURES = [\n    \"ocean_ruin\",\n    \"bastion_remnant\",\n    \"fortress\",\n    \"nether_fossil\",\n    \"igloo\",\n    \"shipwreck\",\n    \"swamp_hut\",\n    \"jungle_pyramid\",\n    \"village\",\n    \"ruined_portal\",\n    \"endcity\",\n    \"buried_treasure\",\n    \"mansion\",\n    \"monument\",\n    \"stronghold\",\n    \"pillager_outpost\",\n    \"desert_pyramid\",\n    \"mineshaft\"\n].map(tag => ({ value: 'minecraft:' + tag, label: tag }));;\n\nexport const OVERWORLD_NOISE = {\n    bedrock_roof_position: -10,\n    bedrock_floor_position: 0,\n    sea_level: 63,\n    disable_mob_generation: false,\n    structures: {\n        stronghold: {\n            distance: 32,\n            spread: 3,\n            count: 128\n        },\n        structures: {\n            \"minecraft:ocean_ruin\": {\n                spacing: 20,\n                separation: 8,\n                salt: 14357621\n            },\n            \"minecraft:bastion_remnant\": {\n                spacing: 27,\n                separation: 4,\n                salt: 30084232\n            },\n            \"minecraft:fortress\": {\n                spacing: 27,\n                separation: 4,\n                salt: 30084232\n            },\n            \"minecraft:nether_fossil\": {\n                spacing: 2,\n                separation: 1,\n                salt: 14357921\n            },\n            \"minecraft:igloo\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357618\n            },\n            \"minecraft:shipwreck\": {\n                spacing: 24,\n                separation: 4,\n                salt: 165745295\n            },\n            \"minecraft:swamp_hut\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357620\n            },\n            \"minecraft:jungle_pyramid\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357619\n            },\n            \"minecraft:village\": {\n                spacing: 32,\n                separation: 8,\n                salt: 10387312\n            },\n            \"minecraft:ruined_portal\": {\n                spacing: 40,\n                separation: 15,\n                salt: 34222645\n            },\n            \"minecraft:endcity\": {\n                spacing: 20,\n                separation: 11,\n                salt: 10387313\n            },\n            \"minecraft:buried_treasure\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            },\n            \"minecraft:mansion\": {\n                spacing: 80,\n                separation: 20,\n                salt: 10387319\n            },\n            \"minecraft:monument\": {\n                spacing: 32,\n                separation: 5,\n                salt: 10387313\n            },\n            \"minecraft:stronghold\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            },\n            \"minecraft:pillager_outpost\": {\n                spacing: 32,\n                separation: 8,\n                salt: 165745296\n            },\n            \"minecraft:desert_pyramid\": {\n                spacing: 32,\n                separation: 8,\n                salt: 14357617\n            },\n            \"minecraft:mineshaft\": {\n                spacing: 1,\n                separation: 0,\n                salt: 0\n            }\n        }\n    },\n    noise: {\n        height: 256,\n        sampling: {\n            xz_scale: 1,\n            y_scale: 1,\n            xz_factor: 80.0,\n            y_factor: 160.0\n        },\n        top_slide: {\n            target: -10,\n            size: 3,\n            offset: 0\n        },\n        bottom_slide: {\n            target: -30,\n            size: 0,\n            offset: 0\n        },\n        size_horizontal: 1,\n        size_vertical: 2,\n        density_factor: 1.0,\n        density_offset: -0.47,\n        simplex_surface_noise: true\n    },\n    default_block: {\n        Name: \"minecraft:stone\"\n    },\n    default_fluid: {\n        Properties: {\n            level: \"0\"\n        },\n        Name: \"minecraft:water\"\n    }\n}\n","export const VANILLA_PROCESSORS = [\n    'empty',\n    'zombie_plains',\n    'zombie_savanna',\n    'zombie_snowy',\n    'zombie_taiga',\n    'zombie_desert',\n    'mossify_10_percent',\n    'mossify_20_percent',\n    'mossify_70_percent',\n    'street_plains',\n    'street_savanna',\n    'street_snowy_or_taiga',\n    'farm_plains',\n    'farm_savanna',\n    'farm_snowy',\n    'farm_taiga',\n    'farm_desert',\n    'outpost_rot',\n    'bottom_rampart',\n    'treasure_rooms',\n    'housing',\n    'side_wall_degradation',\n    'stable_degradation',\n    'bastion_generic_degradation',\n    'rampart_degradation',\n    'entrance_replacement',\n    'bridge',\n    'roof',\n    'high_wall',\n    'high_rampart'\n].map(processor_list => ({ value: 'minecraft:' + processor_list, label: processor_list }));\n\nexport const PROCESSORS_OPTIONS = [\n    { value: 'blackstone_replace', label: 'Blackstone replace' },\n    { value: 'block_age', label: 'Block age' },\n    { value: 'block_ignore', label: 'Block ignore' },\n    { value: 'block_rot', label: 'Block rot' },\n    { value: 'gravity', label: 'Gravity' },\n    { value: 'jigsaw_replacement', label: 'Jigsaw replacement' },\n    { value: 'lava_submerged_block', label: 'Lava submerged block' },\n    { value: 'nop', label: 'Nop' },\n    { value: 'rule', label: 'Rule' }\n].map(o => {\n    o.value = 'minecraft:' + o.value;\n    return o;\n});\n\nexport const PROCESSOR_RULE_DEFAULTS = {\n    output_state: {\n        Properties: {\n            age: \"0\"\n        },\n        Name: \"minecraft:potatoes\"\n    },\n    input_predicate: {\n        block: \"minecraft:wheat\",\n        probability: 0.2,\n        predicate_type: \"minecraft:random_block_match\"\n    },\n    location_predicate: {\n        predicate_type: \"minecraft:always_true\"\n    }\n};\n","export const VANILLA_SURFACE_BUILDERS = [\n    { value: 'badlands', label: 'Badlands' },\n    { value: 'basalt_deltas', label: 'Basalt Deltas' },\n    { value: 'crimson_forest', label: 'Crimson forest' },\n    { value: 'desert', label: 'Desert' },\n    { value: 'end', label: 'End' },\n    { value: 'eroded_badlands', label: 'Eroded Badlands' },\n    { value: 'frozen_ocean', label: 'Frozen ocean' },\n    { value: 'full_sand', label: 'Full sand' },\n    { value: 'giant_tree_taiga', label: 'Giant tree taiga' },\n    { value: 'grass', label: 'Grass' },\n    { value: 'gravelly_mountain', label: 'Gravelly mountain' },\n    { value: 'ice_spikes', label: 'Ice spikes' },\n    { value: 'mountain', label: 'Mountain' },\n    { value: 'mycelium', label: 'Mycelium' },\n    { value: 'nether', label: 'Nether' },\n    { value: 'nope', label: 'Nope' },\n    { value: 'ocean_sand', label: 'Ocean sand' },\n    { value: 'shattered_savanna', label: 'Shattered savanna' },\n    { value: 'soul_sand_valley', label: 'Soul sand valley' },\n    { value: 'stone', label: 'Stone' },\n    { value: 'swamp', label: 'Swamp' },\n    { value: 'warped_forest', label: 'Warped forest' },\n    { value: 'wooded_badlands', label: 'Wooded badlands' },\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n\nexport const SURFACE_TYPES_OPTIONS = [\n    { value: 'default', label: 'Default' },\n    { value: 'mountain', label: 'Mountain' },\n    { value: 'shattered_savanna', label: 'Shattered savanna' },\n    { value: 'gravelly_mountain', label: 'Gravelly mountain' },\n    { value: 'giant_tree_taiga', label: 'Giant tree taiga' },\n    { value: 'swamp', label: 'Swamp' },\n    { value: 'badlands', label: 'Badlands' },\n    { value: 'wooded_badlands', label: 'Wooded badlands' },\n    { value: 'eroded_badlands', label: 'Eroded badlands' },\n    { value: 'frozen_ocean', label: 'Frozen ocean' },\n    { value: 'nether', label: 'Nether' },\n    { value: 'nether_forest', label: 'Nether forest' },\n    { value: 'soul_sand_valley', label: 'Soul sand valley' },\n    { value: 'basalt_deltas', label: 'Basalt deltas' },\n    { value: 'nope', label: 'Nope' }\n].map(option => {\n    option.value = 'minecraft:' + option.value;\n    return option;\n});\n\nexport const SURFACE_BUILDER = {\n    config: {\n        top_material: {\n            Properties: {\n                snowy: \"false\"\n            },\n            Name: \"minecraft:grass_block\"\n        },\n        under_material: {\n            Name: \"minecraft:dirt\"\n        },\n        underwater_material: {\n            Name: \"minecraft:gravel\"\n        }\n    },\n    type: \"minecraft:default\"\n}","const namespace = '%namespace%';\nexport const PATHS = {\n    dimensions: `data/${namespace}/dimension`,\n    dimension_types: `data/${namespace}/dimension_type`,\n    biomes: `data/${namespace}/worldgen/biome`,\n    carvers: `data/${namespace}/worldgen/configured_carver`,\n    features: `data/${namespace}/worldgen/configured_feature`,\n    surfaces: `data/${namespace}/worldgen/configured_surface_builder`,\n    noises: `data/${namespace}/worldgen/noise_settings`,\n    processors: `data/${namespace}/worldgen/processor_list`\n};\n\n/**\n * @param {('dimensions'|'dimension_types'|'biomes'|'carvers'|'features'|'surfaces'|'noises'|'processors')} type \n * @param {string} namespace \n * @param {string} identifier \n * @returns {string}\n */\nexport function getAbsolutePath(type, namespace, identifier) {\n    return PATHS[type].replace('%namespace%', namespace) + '/' + identifier + '.json';\n}\n","/**\n * @param {string} url\n * @param {object} options\n * @param {object} [headers]\n * @returns {Promise<object>}\n */\nexport async function jsonFetch(url, options, headers = {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n}) {\n    const response = await fetch(url, {\n        headers,\n        ...options\n    });\n\n    const responseData = await response.json();\n    if (response.ok) {\n        return responseData;\n    }\n    throw responseData;\n}\n","import { MULTI_NOISE_BIOME_SOURCE, NOISES_NAMES } from './../components/dimension/DimensionDefaults';\n\n/**\n * @param {object} a \n * @param {object} b \n * @returns {boolean}\n */\nexport function objectsEqual(a, b) {\n    return Object.keys(a).length === Object.keys(b).length\n        && Object.keys(a).every(p => a[p] === b[p]);\n}\n\n/**\n * @param {string} str \n * @returns {string}\n */\nexport function capitalize(str) {\n    return str[0].toUpperCase() + str.substr(1);\n}\n\n/**\n * @param {string} key \n * @param {string} [defaultNamespace]\n * @returns {string}\n */\nexport function displayNamespacedKey(key = 'undefined', defaultNamespace) {\n    return key.startsWith(defaultNamespace + ':') ? key.split(':')[1] : key;\n}\n\nexport function getStateValue(state, properties = {}) {\n    const actual = properties[state.name];\n    switch (state.type) {\n        case 'bool':\n            return actual === 'true' ? 'true' : 'false';\n        case 'int':\n            return typeof actual === 'string' ? actual : '0';\n        default:\n            return actual || state.values[0];\n    }\n}\n\nexport function hasDuplicatedObjects(objects) {\n    for (const a of objects) {\n        for (const b of objects) {\n            if (a !== b && objectsEqual(a, b)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n/**\n * @param {object} feature Unserialized feature\n * @returns {{type: string, config: object}[]} Decorators list\n */\nexport function findDecorators(feature) {\n    const decorators = [];\n\n    let f = feature;\n    (function find(obj) {\n        for (const key of Object.keys(obj)) {\n            if (key === 'decorator') {\n                decorators.unshift(obj[key]);\n                if ((obj.feature.type || obj.feature.name) !== 'minecraft:decorated') {\n                    f = obj.feature;\n                }\n            } else if (typeof obj[key] === 'object') {\n                find(obj[key]);\n            }\n        }\n    }(feature));\n\n    if (f === null) {\n        f = {};\n    }\n    return [decorators, f];\n}\n\n/**\n * @param {string|object} feature \n * @param {{type: string, config: object}[]} decorators \n * @param {string} name\n * @returns {object} Decorated feature\n */\nexport function buildDecorated(feature, decorators, name) {\n    if (decorators.length < 1) {\n        feature.key = name;\n        return feature;\n    }\n\n    const decorated = { type: 'minecraft:decorated', key: name };\n    let current = decorated;\n    decorators.forEach((decorator, i) => {\n        const f = i === (decorators.length - 1) ? feature : { type: 'minecraft:decorated' };\n        current.config = {\n            feature: f,\n            decorator\n        };\n        current = f;\n        if (i < 1 && typeof f === 'object') {\n            f.name = name;\n        }\n    });\n    return decorated;\n}\n\n/**\n * Rename object keys.\n * \n * @param {object} obj \n * @param {object} map \n * @returns {object}\n */\nfunction refitKeys(obj, map) {\n    const build = {};\n    for (const key in obj) {\n        const destKey = map[key] || key;\n\n        let value = obj[key];\n        if (typeof value === 'object') {\n            value = refitKeys(value, map);\n        }\n        build[destKey] = value;\n    }\n    return build;\n}\n\n/**\n * @param {string} group \n * @param {object} data \n * @returns {object}\n */\nexport function dataUpper(group, data) {\n    switch (group) {\n        case 'biomes':\n            // 20w30a: sky_color into effects\n            if (data.hasOwnProperty('sky_color')) {\n                data.effects.sky_color = data.sky_color;\n            }\n            return data;\n        case 'features':\n            // 20w30a: name -> type\n            const [decorators, feature] = findDecorators(data);\n            if (!feature.hasOwnProperty('type')) {\n                feature.type = feature.name;\n                delete feature.name;\n                return buildDecorated(\n                    feature,\n                    decorators.map(decorator => refitKeys(decorator, { name: 'type' })),\n                    data.key\n                );\n            }\n            return data;\n        case 'dimensions':\n            // 20w30a: multi_noise: firstOctave and amplitudes parameters\n            const source = data.generator.biome_source;\n            if (source.type === 'minecraft:multi_noise' && NOISES_NAMES.some(n => !source.hasOwnProperty(n))) {\n                data.generator.biome_source = { ...MULTI_NOISE_BIOME_SOURCE, ...source };\n            }\n            return data;\n        case 'dimension_types':\n            // 1.16.2-pre-2 : shrunk -> coordinate_scale\n            if (data.hasOwnProperty('shrunk')) {\n                data.coordinate_scale = data.shrunk ? 8 : 1;\n                delete data.shrunk;\n            }\n            return data;\n        default:\n            // 20w30a: name -> type\n            if (data.hasOwnProperty('name') && !data.hasOwnProperty('type')) {\n                data.type = data.name;\n            }\n            return data;\n    }\n}\n","import { useContext, useState } from \"react\";\nimport { DataContext } from \"../context/DataContext\";\nimport { displayNamespacedKey } from \"../utils/data\";\n\n/**\n * @param {object[]} initial\n * @returns {[object[], function(object): void]} \n */\nexport function useData(initial = []) {\n    const [data, setData] = useState(initial);\n\n    const updateData = function(object, previous) {\n        setData(stored => {\n            if (!object.hasOwnProperty('key')) {\n                stored.splice(stored.findIndex(obj => obj === (previous || object)), 1);\n                return stored;\n            }\n\n            const existing = stored.find(({ key }) => object.key === key);\n            if (typeof existing !== 'undefined' && existing !== previous) {\n                do {\n                    object.key += '2';\n                } while (stored.findIndex(({ key }) => object.key === key) > -1)\n                stored.push(object);\n                return stored;\n            }\n\n            if (typeof previous === 'undefined' || !previous.hasOwnProperty('key')) {\n                stored.push(object);\n            } else {\n                stored[stored.indexOf(previous)] = object;\n            }\n            return stored;\n        });\n    }\n    return [data, updateData];\n}\n\n/**\n * @param {('dimensions'|'dimension_types'|'biomes'|'carvers'|'features'|'surfaces'|'noises')} category Data category\n * @param {boolean} [includeCustom]\n * @param {boolean} [empty]\n * @returns {{ value: string, label: string }[]} Options list for react-select\n */\nexport function useKeyedListOptions(category, includeCustom = true, empty = false) {\n    const context = useContext(DataContext);\n    if (empty) {\n        return [];\n    }\n\n    const options = includeCustom ? context.custom[category]\n        .map(keyed => {\n            const name = displayNamespacedKey(keyed.key, context.namespace);\n            return { value: keyed.key, label: '(Custom) ' + name };\n        }) : [];\n\n    let struct = null;\n    context.vanilla[category].forEach(keyed => {\n        if (struct === null) {\n            struct = keyed.hasOwnProperty('displayName') ? 1 : (keyed.hasOwnProperty('label') ? 2 : 3);\n        }\n        switch(struct) {\n            case 1: // displayName\n                options.push({ value: 'minecraft:' + keyed.name, label: keyed.displayName });\n                return;\n            case 2: // already option\n                options.push(keyed);\n                return;\n            default:\n                options.push({ value: 'minecraft:' + keyed, label: keyed });\n        }\n    });\n    return options;\n}\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport JSZip from 'jszip';\nimport { VANILLA_CARVERS } from '../components/carver/CarverDefaults';\nimport { VANILLA_DIMENSION_TYPES } from '../components/dimension/DimensionDefaults';\nimport { VANILLA_FEATURES } from '../components/feature/VanillaFeatures';\nimport { VANILLA_NOISES } from '../components/noise/NoiseDefaults';\nimport { VANILLA_PROCESSORS } from '../components/processor/ProcessorDefaults';\nimport { VANILLA_SURFACE_BUILDERS } from '../components/surface/SurfaceBuilderDefaults';\nimport { getAbsolutePath } from './Paths';\nimport { jsonFetch } from '../utils/fetch';\nimport { useData } from '../hooks/context';\n\nexport const DataContext = React.createContext({\n    vanilla: {\n        biomes: [],\n        blocks: [],\n        carvers: [],\n        dimensions: [],\n        dimension_types: [],\n        entities: [],\n        features: [],\n        noises: [],\n        processors: [],\n        sounds: [],\n        surfaces: [],\n        /**\n         * @param {string} type \n         * @param {string} key \n         * @returns {Promise<object>}  \n         */\n        getVanillaResource: (type, key) => {}\n    },\n    custom: {\n        biomes: [],\n        carvers: [],\n        dimensions: [],\n        dimension_types: [],\n        features: [],\n        noises: [],\n        processors: [],\n        surfaces: [],\n        updateBiomes: (biome) => {},\n        updateCarvers: (carver) => {},\n        updateDimensions: (dimension) => {},\n        updateDimensionTypes: (dimension_type) => {},\n        updateFeatures: (feature) => {},\n        updateNoises: (noise) => {},\n        updateProcessors: (processor) => {},\n        updateSurfacesBuilders: (surface_builder) => {}\n    },\n    namespace: ''\n});\n\nexport function DataContextProvider({children, namespace, initial = {}}) {\n    const [biomes, setBiomes] = useState([]);\n    const [blocks, setBlocks] = useState([]);\n    const [entities, setEntities] = useState([]);\n    const [sounds, setSounds] = useState([]);\n\n    const [customBiomes, updateBiomes] = useData(initial.biomes);\n    const [carvers, updateCarvers] = useData(initial.carvers);\n    const [dimensions, updateDimensions] = useData(initial.dimensions);\n    const [dimension_types, updateDimensionTypes] = useData(initial.dimension_types);\n    const [features, updateFeatures] = useData(initial.features);\n    const [noises, updateNoises] = useData(initial.noises);\n    const [processors, updateProcessors] = useData(initial.processors);\n    const [surfaces, updateSurfacesBuilders] = useData(initial.surfaces);\n\n    const [vanillaZip, setVanillaZip] = useState(null);\n\n    useEffect(() => {\n        (async function () {\n            jsonFetch('https://unpkg.com/minecraft-data@2.65.0/minecraft-data/data/pc/1.16.1/biomes.json')\n                .then(biomes => setBiomes(biomes));\n            jsonFetch('https://unpkg.com/minecraft-data@2.65.0/minecraft-data/data/pc/1.16.1/blocks.json')\n                .then(blocks => setBlocks(blocks));\n            jsonFetch('https://unpkg.com/minecraft-data@2.65.0/minecraft-data/data/pc/1.16.1/entities.json')\n                .then(entities => setEntities(entities.map(entity => ({ value: 'minecraft:' + entity.name, label: entity.displayName }))));\n            jsonFetch('https://raw.githubusercontent.com/Arcensoth/mcdata/master/processed/reports/registries/sound_event/data.min.json', {}, {})\n                .then(sounds => setSounds(sounds.values.map(sound => ({ value: sound, label: sound.substr(10) }))));\n        })();\n    }, []);\n\n    const getVanillaResource = useCallback(async function (type, key) {\n        let zip = vanillaZip;\n        if (zip === null) {\n            const blob = (await fetch('https://raw.githubusercontent.com/slicedlime/examples/master/vanilla_worldgen.zip')).blob();\n            try {\n                zip = await JSZip.loadAsync(blob);\n            } catch (e) {\n                setVanillaZip(e);\n                return Promise.reject(new Error(`Unable to download the vanilla resource archive for reference.\\n${e.message}`));\n            }\n            setVanillaZip(zip);\n        } else if (zip instanceof Error) {\n            return Promise.reject(zip);\n        }\n        const absolute = getAbsolutePath(type, 'minecraft', key).substr(15).replace('minecraft:', '');\n        const file = zip.file(absolute);\n        if (file === null) {\n            return Promise.reject(new Error(`Unable to find the associated vanilla file (tested ${absolute}).`));\n        }\n        return Promise.resolve(JSON.parse(await file.async('text')));\n    }, [vanillaZip]);\n\n    return <DataContext.Provider value={{\n        vanilla: {\n            biomes,\n            blocks,\n            carvers: VANILLA_CARVERS,\n            dimensions: VANILLA_DIMENSION_TYPES.filter(o => !o.value.includes('cave')),\n            dimension_types: VANILLA_DIMENSION_TYPES,\n            entities,\n            features: VANILLA_FEATURES,\n            noises: VANILLA_NOISES,\n            processors: VANILLA_PROCESSORS,\n            sounds,\n            surfaces: VANILLA_SURFACE_BUILDERS,\n            getVanillaResource\n        },\n        custom: {\n            biomes: customBiomes, carvers, dimensions, dimension_types, features, noises, processors, surfaces,\n            updateBiomes, updateCarvers, updateDimensions, updateDimensionTypes, updateFeatures, updateNoises, updateProcessors, updateSurfacesBuilders\n        },\n        namespace\n    }}>{children}</DataContext.Provider>\n}","import React from 'react';\n\nexport const Toggle = ({ ariaLabel, checked, id, onChange }) => (\n    <span className=\"toggle-control\">\n        <input\n            aria-label={ariaLabel}\n            className=\"dmcheck\"\n            type=\"checkbox\"\n            checked={checked}\n            onChange={onChange}\n            id={id}\n        />\n        <label htmlFor={id} />\n    </span>\n);\n","import React from 'react';\nimport { Toggle } from './Toggle';\nimport useDarkMode from 'use-dark-mode';\n\nexport function DarkModeToggle() {\n    const darkMode = useDarkMode(true);\n\n    return <div className=\"dark-mode-toggle\" title=\"Dark mode toggle\">\n        <button type=\"button\" onClick={darkMode.disable} tabIndex=\"-1\">☀</button>\n        <Toggle ariaLabel=\"Dark mode toggle\" checked={darkMode.value} onChange={darkMode.toggle} />\n        <button type=\"button\" onClick={darkMode.enable} tabIndex=\"-1\">☾</button>\n    </div>\n}","import { DarkModeToggle } from './DarkModeToggle';\nimport React from 'react';\n\nexport function MenuItem({active, children, onClick}) {\n    return <li><a href=\"#_\" role=\"menuitem\" aria-current={active} onClick={onClick}>{children}</a></li>\n}\n\nexport function NavBar({ children }) {\n    return <div className=\"navbar\">\n        {children}\n        <p className=\"github\"><a href=\"https://github.com/syldium/worldgen\" target=\"_blank\" rel=\"noopener noreferrer\">View on GitHub</a></p>\n        <DarkModeToggle />\n    </div>\n}\n","export const INT_MIN_VALUE = 0x80000000 & 0x80000000;\nexport const INT_MAX_VALUE = 0x7FFFFFFF;\n\n/**\n * @param {number} n \n * @returns {number}\n */\nexport function maintainPrecision(n) {\n    try {\n        return parseFloat(n.toFixed(12));\n    } catch (e) {\n        console.error(e);\n        return n;\n    }\n}\n\n/**\n * @param {number} t \n * @returns {number}\n */\nexport function perlinFade(t) {\n    return t * t * t * (t * (t * 6 - 15) + 10);\n}\n\nexport function lerp(delta, start, end) {\n    return start + delta * (end - start);\n}\n\nexport function lerp2(deltaX, deltaY, n00, n10, n01, n11) {\n    return lerp(deltaY, lerp(deltaX, n00, n10), lerp(deltaX, n01, n11));\n}\n\nexport function lerp3(deltaX, deltaY, deltaZ, n000, n100, n010, n110, n001, n101, n011, n111) {\n    return lerp(deltaZ, lerp2(deltaX, deltaY, n000, n100, n010, n110), lerp2(deltaX, deltaY, n001, n101, n011, n111));\n}\n\nexport function grad(hash, x, y, z) {\n    const h = hash & 15;\n    const u = h < 8 ? x : y;\n    const v = h < 4 ? y : h === 12 || h === 14 ? x : z;\n    return ((h & 1) === 0 ? u : -u) + ((h & 2) === 0 ? v : -v);\n}\n","export function hexColorToInteger(color) {\n    return parseInt(color.replace(/^#/, ''), 16);\n}\n\nexport function integerColorToHex(color) {\n    return '#' + (color & 0xFFFFFF).toString(16).padStart(6, '0');\n}","import { INT_MAX_VALUE, maintainPrecision } from '../utils/math';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { hexColorToInteger, integerColorToHex } from '../utils/color';\n\nexport const ConfInput = React.memo(function ({\n    attr, type,\n    checked, defaultChecked,\n    children,\n    name, id,\n    onChange,\n    value, defaultValue,\n    min, max, step,\n    className, style\n}) {\n\n    const uId = name || Math.random().toString(36).substr(2, 5) + '-' + id;\n\n    if (typeof type !== 'string') {\n        if (typeof checked !== 'undefined' || typeof defaultChecked !== 'undefined') {\n            type = 'checkbox';\n        } else if (typeof step === 'number' || typeof max === 'number' || !isNaN(typeof value === 'undefined' ? defaultValue : value)) {\n            type = 'number';\n        } else {\n            type = 'text';\n        }\n    }\n\n    if (type === 'checkbox') {\n        return <div className={className}>\n            <label htmlFor={uId}>{children}</label>&nbsp;:&nbsp;<input type={type || 'checkbox'} data-name={name || id} name={name} id={uId} className=\"checkbox\" {...{ ...attr, checked, defaultChecked, onChange, value, style }} />\n        </div>\n    }\n    return <div className={className}>\n        {typeof children === 'undefined' || <><label htmlFor={uId}>{children}</label> : </>}\n        <input\n            type={type} data-name={name || id} name={name} id={uId}\n            {...{ ...attr, value, onChange, defaultValue, min, max, step, style }} />\n    </div>\n});\n\nexport const NumberInput = React.memo(function ({\n    className, style = {}, children, defaultValue = 0,\n    id, name, onChange, upChange,\n    required = true, title, value,\n    type = 'number', step = 1, min = 0, max = INT_MAX_VALUE\n}) {\n\n    const uId = name || Math.random().toString(36).substr(2, 5) + '-' + id;\n    const n = parseFloat(typeof value === 'number' || typeof value === 'string' ? value : defaultValue);\n    const [val, setValue] = useState(n);\n    const [prevVal, setPrevValue] = useState(n);\n    const [click, setClick] = useState(null);\n\n    value = parseFloat(value);\n    min = parseFloat(min);\n    step = parseFloat(step);\n    max = parseFloat(max);\n\n    if (n !== prevVal && n !== val && !isNaN(val) && val !== '') {\n        setValue(n);\n        setPrevValue(n);\n    }\n\n    const handleChange = useCallback(function (e) {\n        const value = e.target.value;\n        const n = parseFloat(value);\n        if (value === '') {\n            setValue(value);\n        } else if (value.length <= INT_MAX_VALUE.toString().length) {\n            if (value.endsWith('.00001')) {\n                // Fix browser step\n                setValue(val => maintainPrecision(val + (n > val ? step : -step)));\n            } else {\n                setValue(value);\n            }\n        }\n    }, [step]);\n\n    const stepUpDown = useCallback(function (addition) {\n        setValue(val => {\n            if (!isNaN(val)) {\n                const n = maintainPrecision(val + (addition ? step : -step));\n                if (n >= min && n <= max) {\n                    return n;\n                }\n                return val;\n            }\n            return val;\n        });\n    }, [max, min, step]);\n\n    const handleMouseDown = useCallback(function (e) {\n        e.preventDefault();\n        const addition = e.target.classList.contains('btn-plus');\n        if (val === '') {\n            return;\n        }\n        stepUpDown(addition);\n        setClick(window.setInterval(() => stepUpDown(addition), 150));\n    }, [stepUpDown, val]);\n\n    const handleClick = useCallback(function (e) {\n        e.preventDefault();\n    }, []);\n\n    const handleMouseUp = useCallback(function (e) {\n        e.preventDefault();\n        window.clearInterval(click);\n        setClick(null);\n    }, [click]);\n\n    useEffect(function () {\n        let n = val;\n        if (typeof n === 'string') {\n            const value = val.replace(',', '.');\n            const parse = typeof step === 'undefined' ? parseInt : parseFloat;\n            n = parse(value);\n        }\n\n        if (isNaN(value) && n === defaultValue && !required) {\n            return;\n        }\n\n        if (!isNaN(n) && val !== value && n >= min && n < max && click === null) {\n            if (typeof upChange === 'function') {\n                upChange({ [id || name]: n });\n            } else if (typeof onChange === 'function') {\n                onChange(n);\n            }\n        }\n    }, [click, defaultValue, id, min, max, name, onChange, required, step, type, upChange, val, value]);\n\n    style.width = getNumberSize(val, max, step);\n    className = (className || '') + ' number-wrapper';\n\n    return <div className={className} title={title}>\n        {typeof children === 'undefined' || <div className=\"label\"><label htmlFor={uId}>{children}</label> :&nbsp;</div>}\n            <div className=\"number-input-wrapper\"><input\n                type={type} name={name} id={uId} style={style}\n                min={min} max={max}\n                value={val} data-name={name || id} required={required}\n                step={step < 1 ? 'any' : 1} onChange={handleChange}\n            />\n            {type === 'number' &&\n                <div className=\"number-controls\">\n                    <button className=\"btn-plus\" tabIndex=\"-1\" onMouseDown={handleMouseDown} onClick={handleClick} onMouseOut={handleMouseUp} onMouseUp={handleMouseUp}></button>\n                    <button className=\"btn-minus\" tabIndex=\"-1\" onMouseDown={handleMouseDown} onClick={handleClick} onMouseOut={handleMouseUp} onMouseUp={handleMouseUp}></button>\n                </div>\n            }</div>\n    </div>\n});\n\nexport const ColorInput = React.memo(function({ children, defaultValue = 0, id, onChange, upChange, value }) {\n    const uId = Math.random().toString(36).substr(2, 5) + '-' + id;\n\n    const handleChange = useCallback(function(e) {\n        const value = e.target.value;\n\n        if (typeof upChange === 'function') {\n            upChange({ [id]: hexColorToInteger(value) });\n        } else if (typeof onChange === 'function') {\n            onChange(hexColorToInteger(value));\n        }\n    }, [id, onChange, upChange]);\n\n    \n    useEffect(() => {\n        if (typeof value !== 'number' && defaultValue !== 0) {\n            if (typeof upChange === 'function') {\n                upChange({ [id]: parseFloat(defaultValue) });\n            } else if (typeof onChange === 'function') {\n                onChange(parseFloat(defaultValue));\n            }\n        }\n    }, [defaultValue, id, onChange, upChange, value]);\n\n    return <div>\n        {typeof children === 'undefined' || <><label htmlFor={uId}>{children}</label> : </>}\n        <input type=\"color\" id={uId} data-name={id} onChange={handleChange} value={integerColorToHex(value || defaultValue)} />\n    </div>\n});\n\nfunction getNumberSize(numeric, max = 10, step = 1) {\n    if (numeric === '') {\n        return 12 + 'ch';\n    }\n    const decimals = countDecimals(step);\n\n    let n, str;\n    if (typeof numeric === 'number') {\n        n = numeric;\n        str = numeric.toString();\n    } else {\n        n = parseFloat(numeric);\n        str = numeric;\n    }\n\n    let length = str.length;\n    if (!isNaN(n)) {\n        length = Math.max(length, n.toFixed(decimals).toString().length);\n    }\n    const ceil = max > 9 && n < 10;\n    const smooth = step === 1 ? 4 : 2;\n    return length + smooth + (ceil ? 1 : 0) + 'ch';\n}\nfunction countDecimals(n) {\n    if (typeof n !== 'number') {\n        return 0;\n    }\n    if ((n % 1) !== 0)\n        return n.toString().split(\".\")[1].length;\n    return 0;\n}\n","export const EFFECTS = {\n    mood_sound: {\n        sound: \"minecraft:ambient.cave\",\n        tick_delay: 6000,\n        block_search_extent: 8,\n        offset: 2.0\n    },\n    sky_color: 7907327,\n    fog_color: 12638463,\n    water_color: 4159204,\n    water_fog_color: 329011\n}\n\nexport const FEATURES = [\n    [],\n    [\n        \"minecraft:lake_water\",\n        \"minecraft:lake_lava\"\n    ],\n    [],\n    [\n        \"minecraft:monster_room\"\n    ],\n    [],\n    [],\n    [\n        \"minecraft:ore_dirt\",\n        \"minecraft:ore_gravel\",\n        \"minecraft:ore_granite\",\n        \"minecraft:ore_diorite\",\n        \"minecraft:ore_andesite\",\n        \"minecraft:ore_coal\",\n        \"minecraft:ore_iron\",\n        \"minecraft:ore_gold\",\n        \"minecraft:ore_redstone\",\n        \"minecraft:ore_diamond\",\n        \"minecraft:ore_lapis\",\n        \"minecraft:disk_sand\",\n        \"minecraft:disk_clay\",\n        \"minecraft:disk_gravel\"\n    ],\n    [],\n    [\n        \"minecraft:patch_tall_grass_2\",\n        \"minecraft:plain_vegetation\",\n        \"minecraft:flower_plain_decorated\",\n        \"minecraft:patch_grass_plain\",\n        \"minecraft:brown_mushroom_normal\",\n        \"minecraft:red_mushroom_normal\",\n        \"minecraft:patch_sugar_cane\",\n        \"minecraft:patch_pumpkin\",\n        \"minecraft:spring_water\",\n        \"minecraft:spring_lava\"\n    ],\n    [\n        \"minecraft:freeze_top_layer\"\n    ]\n]\n\nexport const STARTS = [\n    \"minecraft:village_plains\",\n    \"minecraft:pillager_outpost\",\n    \"minecraft:mineshaft\",\n    \"minecraft:stronghold\",\n    \"minecraft:ruined_portal\"\n]\n\nconst SPAWNERS_AMBIENT = [\n    {\n        type: \"minecraft:bat\",\n        weight: 10,\n        minCount: 8,\n        maxCount: 8\n    }\n];\n\nconst SPAWNERS_CREATURE = [\n    {\n        type: \"minecraft:sheep\",\n        weight: 12,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:pig\",\n        weight: 10,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:chicken\",\n        weight: 10,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:cow\",\n        weight: 8,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:horse\",\n        weight: 5,\n        minCount: 2,\n        maxCount: 6\n    },\n    {\n        type: \"minecraft:donkey\",\n        weight: 1,\n        minCount: 1,\n        maxCount: 3\n    }\n];\n\nconst SPAWNERS_MONSTER = [\n    {\n        type: \"minecraft:spider\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:zombie\",\n        weight: 95,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:zombie_villager\",\n        weight: 5,\n        minCount: 1,\n        maxCount: 1\n    },\n    {\n        type: \"minecraft:skeleton\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:creeper\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:slime\",\n        weight: 100,\n        minCount: 4,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:enderman\",\n        weight: 10,\n        minCount: 1,\n        maxCount: 4\n    },\n    {\n        type: \"minecraft:witch\",\n        weight: 5,\n        minCount: 1,\n        maxCount: 1\n    },\n];\n\nexport const SPAWNERS_DEFAULTS = {\n    ambient: SPAWNERS_AMBIENT,\n    creature: SPAWNERS_CREATURE,\n    misc: [],\n    monster: SPAWNERS_MONSTER,\n    water_ambient: [],\n    water_creature: []\n};\n\nexport const BIOME_DEFAULTS = {\n    effects: EFFECTS,\n    carvers: {\n        air: [\n            \"minecraft:cave\",\n            \"minecraft:canyon\"\n        ]\n    },\n    starts: STARTS,\n    features: FEATURES,\n    spawners: SPAWNERS_DEFAULTS,\n    category: \"plains\",\n    precipitation: \"rain\",\n    surface_builder: \"minecraft:grass\",\n    scale: 0.05,\n    downfall: 0.4,\n    depth: 0.12,\n    temperature: 0.8,\n    player_spawn_friendly: true,\n    spawn_costs: {}\n}\n\nexport const PARTICLES = [\n    'ambient_entity_effect',\n    'angry_villager',\n    'ash',\n    'barrier',\n    'block',\n    'bubble',\n    'bubble_column_up',\n    'bubble_pop',\n    'campfire_cosy_smoke',\n    'campfire_signal_smoke',\n    'cloud',\n    'composter',\n    'crimson_spore',\n    'crit',\n    'current_down',\n    'damage_indicator',\n    'dolphin',\n    'dragon_breath',\n    'dripping_honey',\n    'dripping_lava',\n    'dripping_obsidian_tear',\n    'dripping_water',\n    'dust',\n    'effect',\n    'elder_guardian',\n    'enchant',\n    'enchanted_hit',\n    'end_rod',\n    'entity_effect',\n    'explosion',\n    'explosion_emitter',\n    'falling_dust',\n    'falling_honey',\n    'falling_lava',\n    'falling_nectar',\n    'falling_obsidian_tear',\n    'falling_water',\n    'firework',\n    'fishing',\n    'flame',\n    'flash',\n    'happy_villager',\n    'heart',\n    'instant_effect',\n    'item',\n    'item_slime',\n    'item_snowball',\n    'landing_honey',\n    'landing_lava',\n    'landing_obsidian_tear',\n    'large_smoke',\n    'lava',\n    'mycelium',\n    'nautilus',\n    'note',\n    'poof',\n    'portal',\n    'rain',\n    'reverse_portal',\n    'smoke',\n    'sneeze',\n    'soul',\n    'soul_fire_flame',\n    'spit',\n    'splash',\n    'squid_ink',\n    'sweep_attack',\n    'totem_of_undying',\n    'underwater',\n    'warped_spore',\n    'white_ash',\n    'witch'\n].map(particle => ({ value: 'minecraft:' + particle, label: particle }));\n\nexport const PARTICLE_DEFAULTS = {\n    options: {\n        type: \"minecraft:crimson_spore\"\n    },\n    probability: 0.015\n}\n","import { useCallback, useContext, useEffect, useMemo, useReducer, useState } from \"react\";\n\nimport { DataContext } from \"../context/DataContext\";\nimport arrayMove from \"array-move\";\nimport { useKeyedListOptions } from \"./context\";\n\nfunction crudReducer(state, action) {\n    switch (action.type) {\n        case ADD:\n            if (action.unshift) {\n                return [action.payload, ...state];\n            }\n            return [...state, action.payload];\n        case UPDATE:\n            if (typeof action.target === 'number' && typeof action.payload === 'number') {\n                return arrayMove(state, action.target, action.payload);\n            }\n            if (typeof action.target === 'undefined') {\n                throw new Error('Cannot update an element without its previous state.');\n            }\n            return state.map(element => element === action.target ? action.payload : element);\n        case REMOVE:\n            return state.filter(element => element !== action.payload);\n        case REPLACE:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport function useCrudState(data = []) {\n    return useReducer(crudReducer, data);\n}\n\n/**\n * @param {object[]} [data] \n * @param {object|function (object[]): object} [initial] \n * @returns {[object[], function (SyntheticEvent): void, function (number|object, number|object): void, function (SyntheticEvent, number): void, function (object[]): void}\n */\nexport function useCrudPreset(onChange, data = [], initial = {}, unshift = false) {\n    const add = useCallback(function(e) {\n        e.preventDefault();\n        const n = typeof initial === 'function' ? initial(data) : { ...initial };\n        if (unshift) {\n            onChange([n, ...data]);\n        }\n        onChange([...data, n]);\n    }, [data, initial, onChange, unshift]);\n    const update = useCallback(function(state, previous) {\n        if (state.hasOwnProperty('oldIndex') && state.hasOwnProperty('newIndex')) {\n            onChange(arrayMove(data, state.oldIndex, state.newIndex));\n        } else {\n            if (typeof previous === 'undefined') {\n                throw new Error('Cannot update an element without its previous state.');\n            }\n            onChange(data.map(element => element === previous ? state : element));\n        }\n    }, [data, onChange]);\n    const remove = useCallback(function(e, entity) {\n        e.preventDefault();\n        if (typeof entity === 'number') {\n            entity = data[entity];\n        }\n        onChange(data.filter(element => element !== entity));\n    }, [data, onChange]);\n    const replace = useCallback(function(entities) {\n        onChange(entities);\n    }, [onChange]);\n\n    return [data, add, update, remove, replace];\n}\n\nexport function useBlocksOptions(mapped = true) {\n    const blocks = useContext(DataContext).vanilla.blocks;\n    return useMemo(function() {\n        return mapped ? blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName })): blocks;\n    }, [blocks, mapped]);\n}\n\n/**\n * @param {number} [initial] \n * @returns {function(SyntheticEvent|string|number): void} \n */\nexport function useNumber(initial = 0) {\n    const [n, setState] = useState(initial);\n    const setNumber = function(n) {\n        if (typeof n === 'object') {\n            n = n.target.value;\n        }\n        if (typeof n === 'string') {\n            n = isNaN(n) ? initial : parseInt(n);\n        }\n        setState(n);\n    }\n    return [n, setNumber];\n}\n\nexport function useValueChange(changeCallback, obj) {\n    return useCallback(function(e) {\n        if (e.target.type === 'checkbox') {\n            changeCallback({ ...obj, [e.target.dataset.name || e.target.id || e.target.name]: e.target.checked });\n            return;\n        }\n        const value = isNaN(e.target.value) ? e.target.value : parseFloat(e.target.value);\n        changeCallback({ ...obj, [e.target.dataset.name || e.target.id || e.target.name]: value });\n    }, [changeCallback, obj]);\n}\n\nexport function useJsonEffect(state, props, onChange) {\n    useEffect(() => {\n        if (state === props) {\n            return;\n        }\n        if (JSON.stringify(state) !== JSON.stringify(props)) {\n            onChange(state, props);\n        }\n    }, [state, props, onChange]);\n    return state;\n}\n\n/**\n * Fast way to provide a list of options for react-select\n * and store selection as string (list).\n * \n * @param {('biomes'|'dimensions'|'dimension_types'|'features'|'noises'|'surfaces')} category Data category\n * @param {string|string[]} initial Initial selection\n * @param {boolean} [multiple]\n * @returns {[{ value: string, label: string }[], string|string[], function({ value: string }): void]} Options list, currently selected list and his updater\n */\nexport function useKeyedOptionsState(category, initial, multiple) {\n    const options = useKeyedListOptions(category); // Get options\n\n    // Default value for 'multiple' argument\n    if (typeof multiple === 'undefined') {\n        multiple = Array.isArray(initial);\n    }\n\n    // Enhanced use state - usage of options for default value if needed\n    const [selection, setSelection] = useState(initial || function() {\n        if (multiple) {\n            return options.length > 0 ? [options[0].value] : [];\n        }\n        return options.length > 0 ? options[0].value : '';\n    }());\n\n    // End chain react-select change handler\n    const setSelectionFromOptions = useCallback(function(selected) {\n        if (multiple) {\n            setSelection(selected === null ? [] : selected.map(o => o.value));\n        } else {\n            setSelection(selected.value);\n        }\n    }, [multiple]);\n\n    return [options, selection, setSelectionFromOptions];\n}\n\nconst ADD = 'ADD';\nconst UPDATE = 'UPDATE';\nconst REMOVE = 'REMOVE';\nconst REPLACE = 'REPLACE';\nexport const CRUD = { ADD, UPDATE, REMOVE, REPLACE };","import React from 'react';\nimport ReactSelect from 'react-select';\n\nconst Select = props => {\n    return (\n        <ReactSelect\n            styles={{\n                control: styles => ({\n                    ...styles,\n                    backgroundColor: 'var(--bg-color-input)',\n                    borderColor: 'var(--border-color)',\n                    ':hover': {\n                        ...styles[':hover'],\n                        backgroundColor: 'var(--bg-color-input-hover)',\n                        borderColor: 'var(--border-color)'\n                    },\n                    ':focus': {\n                        ...styles[':focus'],\n                        boxShadow: '0 0 0 1px var(--focus-color)'\n                    },\n                    transition: '.1s',\n                }),\n                singleValue: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                }),\n                menuList: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    backgroundColor: 'var(--bg-color-section)',\n                    ':hover': {\n                        ...styles[':hover'],\n                        color: 'var(--bg-color-input-hover)',\n                    },\n                }),\n                input: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                }),\n                menu: styles => ({\n                    ...styles,\n                    backgroundColor: 'var(--bg-color-section)',\n                }),\n                option: (styles, { isFocused, isSelected }) => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    cursor: 'pointer',\n                    backgroundColor: isSelected\n                        ? 'var(--bg-color-select-focus)'\n                        : isFocused\n                            ? 'var(--bg-color-input-hover)'\n                            : null,\n                    ':active': {\n                        ...styles[':active'],\n                        backgroundColor: isSelected\n                            ? 'var(--bg-color-select-focus)'\n                            : 'var(--bg-color-input-hover)',\n                    },\n                }),\n                multiValue: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    backgroundColor: 'var(--select-label)'\n                }),\n                multiValueLabel: styles => ({\n                    ...styles,\n                    color: 'var(--primary-color)',\n                    backgroundColor: 'var(--select-label)'\n                }),\n                multiValueRemove: styles => ({\n                    ...styles,\n                    ':hover': {\n                        ...styles[':hover'],\n                        backgroundColor: 'var(--select-label)',\n                    },\n                }),\n            }}\n            {...props}\n        />\n    );\n};\n\nexport default React.memo(Select);\n","export const TAGS_OPTIONS = [\n    'acacia_logs',\n    'anvil',\n    'bamboo_plantable_on',\n    'banners',\n    'base_stone_nether',\n    'base_stone_overworld',\n    'beacon_base_blocks',\n    'beds',\n    'bee_growables',\n    'beehives',\n    'birch_logs',\n    'buttons',\n    'campfires',\n    'carpets',\n    'climbable',\n    'coral_blocks',\n    'coral_plants',\n    'corals',\n    'crimson_stems',\n    'crops',\n    'dark_oak_logs',\n    'doors',\n    'dragon_immune',\n    'enderman_holdable',\n    'fence_gates',\n    'fences',\n    'fire',\n    'flower_pots',\n    'flowers',\n    'gold_ores',\n    'guarded_by_piglins',\n    'hoglin_repellents',\n    'ice',\n    'impermeable',\n    'infiniburn_end',\n    'infiniburn_nether',\n    'infiniburn_overworld',\n    'jungle_logs',\n    'leaves',\n    'logs',\n    'logs_that_burn',\n    'mushroom_grow_block',\n    'non_flammable_wood',\n    'nylium',\n    'oak_logs',\n    'piglin_repellents',\n    'planks',\n    'portals',\n    'pressure_plates',\n    'prevent_mob_spawning_inside',\n    'rails',\n    'sand',\n    'saplings',\n    'shulker_boxes',\n    'signs',\n    'slabs',\n    'small_flowers',\n    'soul_fire_base_blocks',\n    'soul_speed_blocks',\n    'spruce_logs',\n    'stairs',\n    'standing_signs',\n    'stone_bricks',\n    'stone_pressure_plates',\n    'strider_warm_blocks',\n    'tall_flowers',\n    'trapdoors',\n    'underwater_bonemeals',\n    'unstable_bottom_center',\n    'valid_spawn',\n    'wall_corals',\n    'wall_post_override',\n    'wall_signs',\n    'walls',\n    'warped_stems',\n    'wart_blocks',\n    'wither_immune',\n    'wither_summon_base_blocks',\n    'wooden_buttons',\n    'wooden_doors',\n    'wooden_fences',\n    'wooden_pressure_plates',\n    'wooden_slabs',\n    'wooden_stairs',\n    'wooden_trapdoors',\n    'wool'\n].map(tag => ({ value: 'minecraft:' + tag, label: tag }));\n","import React, { useCallback, useContext, useMemo } from \"react\";\n\nimport { BlockState } from \"./BlockState\";\nimport { DataContext } from \"../../context/DataContext\";\nimport { NumberInput } from \"../../ui/Input\";\nimport Select from \"../../ui/Select\";\nimport { TAGS_OPTIONS } from \"./Tags\";\n\nexport const BlockPredicate = React.memo(function({target, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:always_true', label: 'Always true' },\n            { value: 'minecraft:block_match', label: 'Block match' },\n            { value: 'minecraft:blockstate_match', label: 'Block state match' },\n            { value: 'minecraft:random_block_match', label: 'Random block match' },\n            { value: 'minecraft:random_blockstate_match', label: 'Random block state match' },\n            { value: 'minecraft:tag_match', label: 'Tag match' }\n        ];\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ predicate_type: option.value });\n    }, [onChange]);\n    const handleBlockChange = useCallback(function(option) {\n        onChange({ ...target, block: option.value });\n    }, [target, onChange]);\n    const handleBlockStateChange = useCallback(function(block_state) {\n        onChange({ ...target, block_state });\n    }, [target, onChange]);\n    const handleTagChange = useCallback(function(option) {\n        onChange({ ...target, tag: option.value });\n    }, [target, onChange]);\n    const handleChange = useCallback(function(content) {\n        onChange({ ...target, ...content });\n    }, [target, onChange]);\n\n    const type = target.predicate_type;\n\n    return <div>\n        <label>Predicate type</label>\n        <Select options={options} value={options.find(o => o.value === type)} onChange={handleTypeChange} />\n        {type === 'minecraft:block_match' && <BlockSelect block={target.block} onChange={handleBlockChange} />}\n        {type === 'minecraft:blockstate_match' && <BlockState block={target.block_state} onChange={handleBlockStateChange} />}\n        {(type === 'minecraft:random_block_match' || type === 'minecraft:random_blockstate_match') &&\n            <RandomBlockMatch block={target.block} probability={target.probability} onChange={handleChange} type={type} />\n        }\n        {type === 'minecraft:tag_match' && <Select options={TAGS_OPTIONS} value={TAGS_OPTIONS.find(t => t.value === target.tag)} onChange={handleTagChange} />}\n    </div>;\n});\n\nconst RandomBlockMatch = React.memo(function({block, onChange, type, probability}) {\n    const handleBlockChange = useCallback(function(option) {\n        onChange({ block: option.value });\n    }, [onChange]);\n    const handleBlockStateChange = useCallback(function(block_state) {\n        onChange({ block_state });\n    }, [onChange]);\n\n    return <div className=\"form-group form-row\">\n        <div style={{ flexGrow: 1 }}>\n        {type === 'minecraft:random_block_match' && <BlockSelect block={block} onChange={handleBlockChange} />}\n        {type === 'minecraft:random_blockstate_match' && <BlockState block={block} onChange={handleBlockStateChange} />}\n        </div>\n        <NumberInput id=\"probability\" value={probability} defaultValue=\"0.1\"\n            step=\"0.01\" min=\"0\" max=\"1\" className=\"mlm\" upChange={onChange}>\n                Probability\n        </NumberInput>\n    </div>\n});\n\nexport const BlockSelect = React.memo(function({block, inputId, onChange, options}) {\n    const context = useContext(DataContext);\n    const blocks = useMemo(function () {\n        if (typeof options === 'undefined') {\n            return context.vanilla.blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n        }\n        return options;\n    }, [context.vanilla.blocks, options]);\n    return <Select options={blocks} value={blocks.find(b => b.value === block)} onChange={onChange} inputId={inputId} />;\n});\n","import React from 'react';\n\nexport function Button ({loading, cat = 'primary', ...buttonProps}) {\n    return <button className={`btn btn--${cat}`} {...buttonProps} tabIndex=\"0\"></button>\n}\n","import { ConfInput, NumberInput } from \"../../ui/Input\";\nimport React, { useCallback, useContext, useMemo } from \"react\";\nimport { useBlocksOptions, useCrudPreset } from \"../../hooks/form\";\n\nimport { BlockSelect } from \"./BlockPredicate\";\nimport { Button } from '../../ui/Button';\nimport { DataContext } from \"../../context/DataContext\";\nimport Select from \"../../ui/Select\";\nimport { getStateValue } from \"../../utils/data\";\n\nexport const BlockState = React.memo(function ({ block = {}, children, className = 'form-group', inputId, name, onChange, options }) {\n    const context = useContext(DataContext);\n\n    const handleTypeChange = useCallback(function (option) {\n        const Name = option.value;\n        const Properties = {};\n        (context.vanilla.blocks.find(b => 'minecraft:' + b.name === Name) || { states: [] }).states.forEach(state => {\n            Properties[state.name] = getStateValue(state, block.Properties);\n        })\n        delete block.Properties;\n        if (Object.keys(Properties).length > 0) {\n            onChange({ ...block, Name, Properties }, block);\n        } else {\n            onChange({ ...block, Name }, block);\n        }\n    }, [block, context.vanilla.blocks, onChange]);\n    const handlePropertiesChange = useCallback(function (properties) {\n        onChange({ ...block, Properties: { ...block.Properties, ...properties } }, block);\n    }, [block, onChange]);\n\n    const blocks = useMemo(function () {\n        if (typeof options === 'undefined') {\n            return context.vanilla.blocks.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n        }\n        return options;\n    }, [context.vanilla.blocks, options]);\n\n    return <div className={className}>\n        <div className=\"form-row\">\n            <div style={{ flexGrow: 1 }}><Select options={blocks} value={blocks.find(o => o.value === block.Name) || null} name={name} onChange={handleTypeChange} inputId={inputId} /></div>\n            {children}\n        </div>\n        <BlockStateProperties block={block.Name} properties={block.Properties} onChange={handlePropertiesChange} />\n    </div>;\n});\n\nexport const BlocksList = React.memo(function ({ addButton = true, list, onChange }) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, list, function (blocks) {\n        // Get the first non taken block name\n        return { Name: (options.find(o => !blocks.some(b => b.Name === o.value)) || { value: 'minecraft:stone' }).value };\n    });\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block.Name || !blocks.some(d => d.Name === o.value));\n            return <BlockState block={block} options={filteredOptions} key={block.Name} onChange={handleChange}>\n                <Button cat=\"danger mlm\" onClick={e => handleRemove(e, i)}>Remove</Button>\n            </BlockState>\n        })}\n        {addButton && <Button onClick={handleAdd}>Add block</Button>}\n    </div>;\n});\n\nexport const BlocksNamesList = React.memo(function ({ list, onChange }) {\n    const options = useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, list, function (blocks) {\n        // Get the first non taken block name\n        return (options.find(o => !blocks.some(b => b === o.value)) || { value: 'minecraft:stone' }).value;\n    });\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block || !blocks.some(d => d === o.value));\n            return <div className=\"form-group form-row\" key={block}>\n                <div style={{ flexGrow: 1 }}><BlockSelect block={block} options={filteredOptions} onChange={o => handleChange(o.value, block)} /></div>\n                <Button cat=\"danger mlm\" onClick={e => handleRemove(e, i)}>Remove</Button>\n            </div>\n        })}\n        <Button cat=\"primary mts\" onClick={handleAdd}>Add block</Button>\n    </div>;\n});\n\nfunction BlockStateProperties({ block, children, onChange, properties = {} }) {\n    const states = (useContext(DataContext).vanilla.blocks.find(b => 'minecraft:' + b.name === block) || { states: [] }).states;\n\n    const handlePropertyChange = useCallback(function (option) {\n        onChange({ ...properties, [option.name]: option.value });\n    }, [onChange, properties]);\n    const handleCheckboxChange = useCallback(function (e) {\n        const value = e.target.checked.toString();\n        onChange({ ...properties, [e.target.dataset.name]: value });\n    }, [onChange, properties]);\n    const handleNumberChange = useCallback(function (value) {\n        const key = Object.keys(value)[0];\n        onChange({ ...properties, [key]: value[key].toString() });\n    }, [onChange, properties]);\n\n    const selects = [];\n    states.forEach(possible => {\n        switch (possible.type) {\n            case 'bool':\n                selects.push(\n                    <ConfInput key={possible.name} id={possible.name}\n                        checked={properties[possible.name] === 'true'}\n                        onChange={handleCheckboxChange}>\n                        {possible.name}\n                    </ConfInput>\n                );\n                break;\n            case 'int':\n                selects.push(\n                    <NumberInput key={possible.name} id={possible.name}\n                        value={properties[possible.name] || 0} upChange={handleNumberChange}\n                        min=\"0\" max={possible.num_values - 1}>\n                        {possible.name}\n                    </NumberInput>\n                );\n                break;\n            default:\n                const options = possible.values.map(value => ({ value, name: possible.name, label: value }));\n                const defaultValue = options.find(o => o.value === properties[possible.name]) || options[0];\n                selects.push(<div key={possible.name}>\n                    <label>{possible.name}</label> : <div className=\"inbl\">\n                        <Select options={options} value={defaultValue} onChange={handlePropertyChange} />\n                    </div>\n                </div>);\n        }\n    });\n    return <div className=\"form-group form-row\">\n        {selects}{children}\n    </div>;\n}\n","import { ColorInput, ConfInput, NumberInput } from '../../ui/Input';\nimport { PARTICLES, PARTICLE_DEFAULTS } from './BiomeDefaults';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { BlockState } from '../state/BlockState';\nimport { DataContext } from '../../context/DataContext';\nimport Select from '../../ui/Select';\nimport { useJsonEffect } from '../../hooks/form';\n\nexport const BiomeEffects = React.memo(function ({ effects, onChange }) {\n\n    const [blockColor, setBlockColor] = useState(effects);\n    const [particle, setParticle] = useState(effects.particle);\n\n    const sounds = useContext(DataContext).vanilla.sounds;\n\n    const handleColorChange = useCallback(function (color) {\n        onChange({ ...effects, ...color });\n    }, [effects, onChange]);\n\n    const handleBlockColorChange = useCallback(function (color) {\n        onChange({ ...effects, ...color });\n        setBlockColor({ ...blockColor, ...color });\n    }, [blockColor, effects, onChange]);\n    const handleAmbientSoundChange = useCallback(function (option) {\n        if (option === null) {\n            onChange((({ ambient_sound, ...effects }) => effects)(effects));\n        } else {\n            onChange({ ...effects, ambient_sound: option.value });\n        }\n    }, [effects, onChange]);\n    const handleMoodSoundChange = useCallback(function (mood_sound) {\n        if (mood_sound === null) {\n            onChange((({ mood_sound, ...effects }) => effects)(effects));\n        } else {\n            if (typeof effects.mood_sound === 'undefined') {\n                onChange({\n                    ...effects, mood_sound: {\n                        tick_delay: 6000,\n                        block_search_extent: 8,\n                        offset: 2.0, ...mood_sound\n                    }\n                });\n            } else {\n                onChange({ ...effects, mood_sound: { ...effects.mood_sound, ...mood_sound } });\n            }\n        }\n    }, [effects, onChange]);\n    const handleParticleChange = useCallback(function (particle) {\n        onChange({ ...effects, particle });\n        setParticle(particle);\n    }, [effects, onChange]);\n\n    const handleBlockColorToggle = useCallback(function (e) {\n        if (e.target.checked) {\n            onChange({ ...effects, foliage_color: blockColor.foliage_color || 10387789, grass_color: blockColor.grass_color || 9470285 });\n        } else {\n            onChange((({ foliage_color, grass_color, ...effects }) => effects)(effects));\n        }\n    }, [blockColor, effects, onChange]);\n    const handleParticleToggle = useCallback(function (e) {\n        if (e.target.checked) {\n            onChange({ ...effects, particle: particle || PARTICLE_DEFAULTS });\n        } else {\n            onChange((({ particle, ...effects }) => effects)(effects));\n        }\n    }, [onChange, effects, particle]);\n\n    const blockColorChecked = effects.hasOwnProperty('foliage_color') || effects.hasOwnProperty('grass_color');\n    const particleChecked = effects.hasOwnProperty('particle');\n\n    return <>\n        <fieldset>\n            <legend>Biome effects</legend>\n            <div className=\"form-group form-row\">\n                <ColorInput id=\"sky_color\" value={effects.sky_color} upChange={handleColorChange}>Sky color</ColorInput>\n                <ColorInput id=\"fog_color\" value={effects.fog_color} upChange={handleColorChange}>Fog color</ColorInput>\n                <ColorInput id=\"water_color\" value={effects.water_color} upChange={handleColorChange}>Water color</ColorInput>\n                <ColorInput id=\"water_fog_color\" value={effects.water_fog_color} upChange={handleColorChange}>Water fog color</ColorInput>\n                {blockColorChecked && <>\n                    <ColorInput id=\"foliage_color\" value={effects.foliage_color || 10387789} upChange={handleBlockColorChange}>Foliage color</ColorInput>\n                    <ColorInput id=\"grass_color\" value={effects.grass_color || 9470285} upChange={handleBlockColorChange}>Grass color</ColorInput>\n                </>}\n                <ConfInput id=\"block-toggle\" checked={blockColorChecked} onChange={handleBlockColorToggle}>Optionals</ConfInput>\n                <ConfInput id=\"particle\" checked={particleChecked} onChange={handleParticleToggle}>Particle</ConfInput>\n            </div>\n            {particleChecked && <ParticleEffect particle={effects.particle} onChange={handleParticleChange} />}\n        </fieldset>\n        <fieldset>\n            <legend>Optionals sounds</legend>\n            <div className=\"form-group form-row\">\n                Ambient :\n            <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={sounds} value={sounds.find(o => effects.ambient_sound === o.value)} onChange={handleAmbientSoundChange} isClearable={true} /></div>\n            </div>\n            <MoodSound options={sounds} sound={effects.mood_sound} onChange={handleMoodSoundChange} />\n        </fieldset>\n    </>\n});\n\nconst MoodSound = React.memo(function ({ onChange, options, sound }) {\n    const handleSoundChange = useCallback(function (option) {\n        onChange(option === null ? null : { sound: option.value });\n    }, [onChange]);\n\n    return <>\n        <div className=\"form-group form-row\">\n            Mood :\n            <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={options} value={options.find(o => (sound || {}).sound === o.value)} onChange={handleSoundChange} isClearable={true} /></div>\n        </div>\n        {typeof sound === 'object' && <div className=\"form-row\" style={{ marginTop: '0.5rem' }}>\n            <NumberInput id=\"tick_delay\" value={sound.tick_delay} upChange={onChange} className=\"mls\">Tick delay</NumberInput>\n            <NumberInput id=\"block_search_extent\" value={sound.block_search_extent} upChange={onChange} className=\"mls\">Block search extent</NumberInput>\n            <NumberInput id=\"offset\" value={sound.offset} upChange={onChange} step={0.1} className=\"mls\">Offset</NumberInput>\n        </div>}\n    </>\n});\n\nconst ParticleEffect = React.memo(function ({ onChange, particle }) {\n\n    particle = useJsonEffect(particle || PARTICLE_DEFAULTS, particle, onChange);\n    const handleTypeChange = useCallback(function (option) {\n        onChange({ ...particle, options: { type: option.value } });\n    }, [particle, onChange]);\n    const handleBlockChange = useCallback(function (block) {\n        onChange({ ...particle, options: { ...particle.options, ...block } });\n    }, [particle, onChange]);\n    const handleColorChange = useCallback(function (color) {\n        onChange({ ...particle, options: { ...particle.options, ...color } });\n    }, [particle, onChange]);\n    const handleScaleChange = useCallback(function (scale) {\n        onChange({ ...particle, options: { ...particle.options, scale } });\n    }, [particle, onChange]);\n    const handleProbabilityChange = useCallback(function (probability) {\n        onChange({ ...particle, probability });\n    }, [particle, onChange]);\n\n    const o = particle.options;\n    return <div className=\"form-group form-row\">\n        <div style={{ flexGrow: 0.95, flexShrink: 1 }}><Select options={PARTICLES} value={PARTICLES.find(op => o.type === op.value)} onChange={handleTypeChange} /></div>\n        {(o.type === 'minecraft:block' || o.type === 'minecraft:falling_dust') && <div style={{ flexGrow: 1 }}><BlockState block={o} onChange={handleBlockChange} /></div>}\n        {o.type === 'minecraft:dust' && <>\n            <DustColor r={o.r} g={o.g} b={o.b} onChange={handleColorChange} />\n            <NumberInput id=\"scale\" value={o.scale} onChange={handleScaleChange} defaultValue=\"1\" step=\"0.1\" className=\"mls\">Scale</NumberInput>\n        </>}\n        <NumberInput id=\"probability\" value={particle.probability} onChange={handleProbabilityChange} step=\"0.005\" className=\"mlm\">Probability</NumberInput>\n    </div>\n});\n\nconst DustColor = React.memo(function ({ r, g, b, onChange }) {\n    const handleColorChange = useCallback(function (color) {\n        const r = ((color >> 16) & 0xFF) / 0xFF;\n        const g = ((color >> 8) & 0xFF) / 0xFF;\n        const b = (color & 0xFF) / 0xFF;\n        onChange({ r, g, b });\n    }, [onChange]);\n\n    let value = undefined;\n    if (typeof r === 'number' && typeof g === 'number' && typeof b === 'number') {\n        r = (r * 0xFF) & 0xFF;\n        g = (g * 0xFF) & 0xFF;\n        b = (b * 0xFF) & 0xFF;\n        value = ((r << 16) | (g << 8) | b);\n    }\n\n    return <ColorInput value={value} defaultValue={0x38470} onChange={handleColorChange} className=\"mls\">Color</ColorInput>\n});\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\n/**\n * @param {boolean} initial \n * @returns {[boolean, function(): void]}\n */\nexport function useToggle(initial = false) {\n    const [status, setState] = useState(initial);\n    const toggle = useCallback(function (e = null) {\n        if (e !== null && (typeof e === 'boolean' || typeof e.target.checked === 'boolean')) {\n            setState(typeof e === 'boolean' ? e : e.target.checked);\n            return;\n        }\n        \n        if (e !== null && typeof e.preventDefault === 'function') {\n            e.preventDefault();\n        }\n        setState(current => !current);\n    }, []);\n    return [status, toggle];\n}\n\n/**\n * \n * @param {string} [page] \n * @param {number} [index] \n * @returns {[string, number, function (SyntheticEvent, string, number): void]}\n */\nexport function useMenu(page = 'main', index = -1) {\n    const [state, setState] = useState({ page, index });\n\n    const setPage = function (e, page = 'main', index = -1) {\n        if (e !== null) {\n            e.preventDefault();\n        }\n        if (index < 0) {\n            setState({ page });\n        } else {\n            setState({ page, index });\n        }\n    }\n\n    return [\n        state.page,\n        state.index,\n        setPage\n    ];\n}\n\n/**\n * @param {function(HTMLCanvasElement, CanvasRenderingContext2D): void} callback\n * @returns {React.MutableRefObject}\n */\nexport function useCanvas(callback) {\n    const reference = useRef(null);\n\n    useEffect(function() {\n        const canvas = reference.current;\n        const ctx = canvas.getContext('2d');\n        callback(canvas, ctx);\n    }, [callback]);\n\n    return reference;\n}","import React, { useCallback, useContext, useMemo } from 'react';\nimport { useCrudPreset, useJsonEffect } from \"../../hooks/form\";\n\nimport { Button } from '../../ui/Button';\nimport { DataContext } from '../../context/DataContext';\nimport { NumberInput } from '../../ui/Input';\nimport { SPAWNERS_DEFAULTS } from './BiomeDefaults';\nimport Select from '../../ui/Select';\nimport { useToggle } from '../../hooks/ui';\n\nexport const BiomeSpawners = React.memo(function({onChange, data}) {\n\n    const spawners = useJsonEffect(data || SPAWNERS_DEFAULTS, data, onChange);\n    const entities = useContext(DataContext).vanilla.entities;\n\n    const handleChange = useCallback(function(group, groupSpawners) {\n        onChange({ ...spawners, [group]: groupSpawners });\n    }, [spawners, onChange]);\n\n    return <div>\n        <SpawnGroup group=\"ambient\" data={spawners.ambient} onChange={handleChange} entities={entities}>Ambient</SpawnGroup>\n        <SpawnGroup group=\"creature\" data={spawners.creature} onChange={handleChange} entities={entities}>Creature</SpawnGroup>\n        <SpawnGroup group=\"misc\" data={spawners.misc} onChange={handleChange} entities={entities}>Miscellaneous</SpawnGroup>\n        <SpawnGroup group=\"monster\" data={spawners.monster} onChange={handleChange} entities={entities}>Monster</SpawnGroup>\n        <SpawnGroup group=\"water_ambient\" data={spawners.water_ambient} onChange={handleChange} entities={entities}>Water ambient</SpawnGroup>\n        <SpawnGroup group=\"water_creature\" data={spawners.water_creature} onChange={handleChange} entities={entities}>Water creature</SpawnGroup>\n    </div>;\n});\n\nconst SpawnGroup = React.memo(function({children, entities, data = [], group, onChange}) {\n    const [visibility, toggle] = useToggle();\n    const text = visibility ? 'Less...' : 'More...';\n\n    const [spawners, insert, handleChange, handleRemove] = useCrudPreset(spawners => onChange(group, spawners), data, function(spawners) {\n        // Get the first non taken entity\n        return { type: (entities.filter(o => !spawners.some(s => s.type === o.value))[0] || { value: 'minecraft:cow' }).value, minCount: 1, maxCount: 1, weight: 1 };\n    }, true);\n\n    const handleAdd = useCallback(function(e) {\n        insert(e);\n        if (!visibility) {\n            toggle();\n        }\n    }, [insert, toggle, visibility]);\n\n    if (visibility) {\n        return <div>\n            <div className=\"toggle-label\">\n                {children}\n                <div className=\"btn-group\">\n                    {entities.length > spawners.length && <Button onClick={handleAdd}>Add</Button>}\n                    {spawners.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{text}</Button>} \n                </div>\n            </div>\n            {spawners.map((spawner, index) => {\n                const options = entities.filter(o => spawner.type === o.value || !spawners.some(s => s.type === o.value));\n                return <SpawnDefinition data={spawner} key={spawner.type} onChange={handleChange} onDelete={handleRemove} index={index} options={options} />;\n            })}\n        </div>;\n    }\n    \n    return <div className=\"toggle-label\">\n        {children}\n        <div className=\"btn-group\">\n            {spawners.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{text}</Button>}\n            {(spawners.length < 1) && <Button onClick={handleAdd}>Add</Button>}\n        </div>\n    </div>;\n});\n\nconst SpawnDefinition = React.memo(function({data, index, options, onChange, onDelete}) {\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ ...data, type: option.value }, data);\n    }, [data, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...data, ...value }, data);\n    }, [data, onChange]);\n    const handleCountChange = function(count) {\n        const name = Object.keys(count)[0];\n        const value = count[name];\n        if ((name === 'minCount' && value <= data.maxCount)\n            || (name === 'maxCount' && value >= data.minCount)) {\n                onChange({ ...data, [name]: value }, data);\n        } \n    };\n    const handleDelete = useCallback(function(e) {\n        onDelete(e, index);\n    }, [index, onDelete]);\n\n    const selectedOption = useMemo(function() {\n        return options.find(o => o.value === data.type);\n    }, [data.type, options]);\n\n    return <div>\n        <div className=\"form-group\">\n            <label>Mob type</label> : <Select options={options} value={selectedOption} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"weight\" value={data.weight} upChange={handleValueChange}>Weight</NumberInput>\n            <NumberInput id=\"minCount\" value={data.minCount} max={data.maxCount} upChange={handleCountChange}>Min count</NumberInput>\n            <NumberInput id=\"maxCount\" value={data.maxCount} min={data.minCount} upChange={handleCountChange}>Max count</NumberInput>\n            <div className=\"form-inline\"><Button cat=\"danger\" onClick={handleDelete}>Delete</Button></div>\n        </div>\n        <hr /> \n    </div>\n});\n","import React, { useCallback, useMemo } from 'react';\n\nimport { STARTS } from './BiomeDefaults';\nimport Select from '../../ui/Select';\nimport { useJsonEffect } from '../../hooks/form';\n\nexport const BiomeStarts = React.memo(function({onChange, starts}) {\n    starts = useJsonEffect(starts || STARTS, starts, onChange);\n\n    const handleChange = useCallback(function(selectedOptions) {\n        onChange(selectedOptions === null ? [] : selectedOptions.map(option => option.value));\n    }, [onChange]);\n\n    const options = useMemo(function() {\n        return [\n            \"pillager_outpost\",\n            \"mineshaft\",\n            \"mineshaft_mesa\",\n            \"mansion\",\n            \"jungle_pyramid\",\n            \"desert_pyramid\",\n            \"igloo\",\n            \"shipwreck\",\n            \"shipwreck_beached\",\n            \"swamp_hut\",\n            \"stronghold\",\n            \"monument\",\n            \"ocean_ruin_cold\",\n            \"ocean_ruin_warm\",\n            \"fortress\",\n            \"nether_fossil\",\n            \"end_city\",\n            \"buried_treasure\",\n            \"bastion_remnant\",\n            \"village_plains\",\n            \"village_desert\",\n            \"village_savanna\",\n            \"village_snovy\",\n            \"village_taiga\",\n            \"ruined_portal\",\n            \"ruined_portal_desert\",\n            \"ruined_portal_jungle\",\n            \"ruined_portal_swamp\",\n            \"ruined_portal_mountain\",\n            \"ruined_portal_ocean\",\n            \"ruined_portal_nether\"\n        ].map(option => ({ value: 'minecraft:' + option, label: 'minecraft:' + option }));\n    }, []);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"starts\">Structures</label>\n        <Select isMulti id=\"starts\" options={options} onChange={handleChange} value={options.filter(o => starts.includes(o.value))} />\n    </div>;\n});\n","import React, { useEffect } from 'react';\n\nimport { Button } from './Button';\nimport { createPortal } from 'react-dom';\nimport useModal from '@delangle/use-modal';\n\nexport const Modal = ({ children, open, onClose }) => {\n    const modal = useModal({ open, onClose: () => onClose(false) });\n\n    const el = document.createElement('div');\n    el.classList.add('modal-wrapper');\n\n    useEffect(() => {\n        document.body.appendChild(el);\n        return () => document.body.removeChild(el);\n    }, [el]);\n\n    return createPortal(\n        <dialog open={modal.state === 'opened'}>\n            <Button cat=\"close\" onClick={onClose}></Button>\n            {children}\n        </dialog>\n    , el);\n}\n","import React, { useCallback } from 'react';\n\nimport { JsonView } from 'json-view-for-react'\nimport { Modal } from './Modal';\nimport { useToggle } from '../hooks/ui';\n\nexport function JsonViewer({ data }) {\n    const [open, toggleModal] = useToggle();\n\n    const obj = useCallback(function () {\n        const obj = typeof data === 'object' ? { ...data } : data();\n        delete obj.key;\n        delete obj.index;\n        return obj;\n    }, [data]);\n\n    return <>\n        <i className=\"code mls\" onClick={toggleModal}><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M.7 9.3l4.8-4.8 1.4 1.4-4 4.1 4 4-1.4 1.5L0 10l.7-.7zm18.6 1.4l.7-.7-5.5-5.5L13.1 6l4 4.1-4 4 1.4 1.5 4.8-4.8z\"/></svg></i>\n        {open &&\n            <Modal open={open} onClose={toggleModal}><JsonView obj={obj()} /></Modal>\n        }\n    </>\n}\n","import React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { Button } from '../ui/Button';\nimport { DataContext } from '../context/DataContext';\nimport Select from '../ui/Select';\nimport { useKeyedListOptions } from '../hooks/context';\nimport { useToggle } from '../hooks/ui';\n\nexport function NamespacedKey({ children, example = 'daily_resource', type, value = '', expectBreakage = false, inline = true, mayReplaceVanilla = true, defaultReplace = false, onChange, onSelect, onSelectLoad }) {\n    // To trigger form submit\n    const hidden = useRef(null);\n\n    // Final namespaced key\n    const [key, setKey] = useState(value);\n    const [fill, toggleFill] = useToggle(true);\n    const [mayFill, setMayFill] = useToggle(value !== '');\n\n    const options = useKeyedListOptions(type, false, !mayReplaceVanilla);\n\n    const context = useContext(DataContext);\n    const defaultNamespace = context.namespace;\n    const [replace, toggle] = useToggle(value === '' ? defaultReplace : options.some(o => key === o.value));\n\n    // Adjust value with default namespace if needed\n    const handleKeyChange = useCallback(function (e) {\n        const value = e.target.value.toLowerCase();\n        if (value.includes(':')) {\n            setKey(value);\n        } else {\n            setKey(defaultNamespace + ':' + value);\n        }\n    }, [defaultNamespace, setKey]);\n\n    const handleReplaceTargetChange = useCallback((selected) => {\n        const key = selected.value;\n        setKey(key);\n        setMayFill(true);\n        if (typeof onSelect === 'function') {\n            onSelect(key);\n        }\n        if (fill && typeof onSelectLoad === 'function') {\n            context.vanilla.getVanillaResource(type, key)\n                .then(onSelectLoad)\n                .then(setMayFill)\n                .catch(console.error);\n        }\n    }, [context.vanilla, fill, onSelect, onSelectLoad, setKey, setMayFill, type]);\n\n    // Fire onChange\n    useEffect(function() {\n        if (typeof onChange === 'function' && key !== value) {\n            onChange(key);\n        }\n    }, [key, onChange, value]);\n\n    // Allow form submit by pressing enter\n    const handleKeyDown = useCallback(function (e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            const form = hidden.current.form;\n            if (form !== null) {\n                form.dispatchEvent(new Event('submit', { cancelable: true }));\n            }\n        }\n    }, []);\n\n    // Remove the \"minecraft:\" part when changing mode\n    const handleToggle = useCallback(function (e) {\n        if (replace && key.startsWith('minecraft:')) {\n            setKey(key => defaultNamespace + ':' + key.split(':')[1]);\n        }\n        toggle(e);\n    }, [defaultNamespace, key, setKey, replace, toggle]);\n\n    const handleFillToggle = useCallback(function (e) {\n        if (e.target.checked && mayFill && typeof onSelectLoad === 'function') {\n            context.vanilla.getVanillaResource(type, key)\n                .then(onSelectLoad)\n                .then(setMayFill)\n                .catch(console.error);\n        }\n        toggleFill(e);\n    }, [context.vanilla, key, mayFill, onSelectLoad, setMayFill, toggleFill, type]);\n\n    // Displayed input value - trim namespace if default\n    const inputValue = useMemo(function () {\n        if (key.startsWith(defaultNamespace + ':')) {\n            return key.split(':')[1];\n        }\n        return key;\n    }, [defaultNamespace, key]);\n\n    // Hidden input value - set to empty when nothing is selected (keeps the key from text mode)\n    const hiddenInputValue = useMemo(function () {\n        if (replace && !options.some(o => o.value === key)) {\n            return '';\n        }\n        return key;\n    }, [key, options, replace]);\n\n    // Adapt select width to its content\n    const style = useMemo(function () {\n        let width = 8 * Math.max.apply(Math, options.map(o => o.label.length)) + 60;\n        if (!isFinite(width)) {\n            width = '250px';\n        }\n        return { width };\n    }, [options]);\n\n    const dummyOnChange = useCallback(console.log, []);\n\n    return <>\n        {typeof children !== 'undefined' && <h3>{(typeof value === 'undefined' || value === '') ? 'Create new ' : 'Edit '}{children}</h3>}\n        <div className=\"form-group\">\n            <label htmlFor=\"key\">{replace ? 'Replace' : 'Key'}</label> :&nbsp;\n            {replace && <div className=\"inbl\" style={style}>\n                <Select options={options} value={options.find(o => key === o.value)} onChange={handleReplaceTargetChange} inputId=\"key\" />\n            </div>}\n            {!replace &&\n                <input type=\"text\" id=\"key\" required pattern=\"^([\\w.-]+:[\\w/.-]+)$|^[\\w/.-]+$\" placeholder={`Example: ${example}`}\n                    autoCapitalize=\"none\" spellCheck=\"false\" autoComplete=\"off\" value={inputValue}\n                    onChange={handleKeyChange} onKeyPress={handleKeyDown} />\n            }\n            <input type={replace ? 'text' : 'hidden'} name=\"key\" value={hiddenInputValue} onChange={dummyOnChange} ref={hidden}\n                required tabIndex=\"-1\" style={{ opacity: 0, height: 0, position: 'absolute' }} />\n            {mayReplaceVanilla && <Button cat=\"info mlm\" onClick={handleToggle}>{replace ? 'Create a new one' : 'Replace vanilla'}</Button>}\n            {!inline && <br />}{replace && <><input type=\"checkbox\" className=\"checkbox mls\" id=\"fill-values\" checked={fill} onChange={handleFillToggle} /> Fill with values</>}\n        \n            {expectBreakage && value !== key && !key.startsWith('minecraft:') &&\n                <p className=\"alert--warning\">Warning: changing the name of a resource may break other resources that depend on it.</p>\n            }\n            {!mayReplaceVanilla && !replace && key.startsWith('minecraft:') &&\n                <p className=\"alert--warning\">Warning: datapacks cannot currently replace vanilla {type}.</p>\n            }\n        </div>\n    </>;\n}","import { useMemo } from \"react\";\n\n/**\n * @typedef RESOURCE_OPTION\n * @type {object}\n * @property {string} value Unique option value \n * @property {string} label Text label \n * @property {string|object} resource\n */\n\n/**\n * \n * @param {{ value: string, label: string }[]} options \n * @param {string|object[]} [resources] \n * @param {boolean} [mutable] \n * @returns {[RESOURCE_OPTION[], RESOURCE_OPTION[]]} Options and selected options\n */\nexport function useInlineResources(options, resources = [], mutable = true) {\n    const inline = getInline(resources);\n\n    let values = options.map(option => {\n        if (mutable) {\n            option.resource = option.value;\n            return option;\n        }\n        return { ...option, resource: option.value };\n    });\n    if (inline.length > 0) {\n        if (mutable) {\n            values.push(...inline);\n        } else {\n            values = [ ...options, ...inline ];\n        }\n    }\n    return [\n        values,\n        useMemo(() => values.filter(o => resources.includes(o.resource)), [resources, values])\n    ];\n}\n\n/**\n * @param {string|object[]} resources \n * @returns {RESOURCE_OPTION[]}\n */\nfunction getInline(resources) {\n    return resources\n        .filter(res => typeof res === 'object')\n        .map((res, i) => {\n            const inline = 'inline' + (i+1);\n            return {\n                value: inline,\n                label: inline,\n                resource: res\n            }\n        });\n}\n","import React, { useCallback, useContext, useState } from 'react';\n\nimport { Button } from '../../ui/Button';\nimport { DataContext } from '../../context/DataContext';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { Modal } from '../../ui/Modal';\nimport { NamespacedKey } from \"../NamespacedKey\";\nimport { NumberInput } from '../../ui/Input';\nimport Select from '../../ui/Select';\nimport { VANILLA_CARVERS } from './CarverDefaults';\nimport { useInlineResources } from '../../hooks/select';\nimport { useJsonEffect } from '../../hooks/form';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useToggle } from '../../hooks/ui';\n\nexport const ConfiguredCarver = React.memo(function({ carvers, onChange }) {\n\n    carvers = useJsonEffect(carvers || { air: [ 'minecraft:cave', 'minecraft:canyon' ] }, carvers, onChange);\n    const [open, toggleModal] = useToggle();\n\n    const options = useKeyedListOptions('carvers');\n\n    const handleAirChange = useCallback(function (options) {\n        onChange({ ...carvers, air: options === null ? [] : options.map(option => option.resource) });\n    }, [carvers, onChange]);\n    const handleLiquidChange = useCallback(function (options) {\n        onChange({ ...carvers, liquid: options === null ? [] : options.map(option => option.resource) });\n    }, [carvers, onChange]);\n    const handleNewClick = useCallback(function (e) {\n        e.preventDefault();\n        toggleModal(true);\n    }, [toggleModal]);\n    const handleCarverCreated = useCallback(function(carver) {\n        onChange({ ...carvers, air: [ ...(carvers.air || []), carver.key ] });\n        toggleModal(false);\n    }, [carvers, onChange, toggleModal]);\n\n    const [optionsAir, selectedAir] = useInlineResources(options, carvers.air);\n    const [optionsLiquid, selectedLiquid] = useInlineResources(options, carvers.liquid);\n\n    return <fieldset>\n        <legend>Carvers <Button onClick={handleNewClick}>Create new</Button></legend>\n\n        <label htmlFor=\"air\">Air</label>\n        <Select isMulti options={optionsAir} onChange={handleAirChange} value={selectedAir} inputId=\"air\" />\n        <div className=\"form-group\">\n            <label htmlFor=\"liquid\">Liquid</label>\n            <Select isMulti options={optionsLiquid} onChange={handleLiquidChange} value={selectedLiquid} inputId=\"liquid\" />\n        </div>\n        {open && <Modal open={open} onClose={toggleModal}>\n            <ConfiguredCarverForm onSave={handleCarverCreated} />\n        </Modal>}\n    </fieldset>\n});\n\nexport function ConfiguredCarverForm({ data = { type: 'minecraft:cave', config: { probability: 0.143 } }, onSave }) {\n\n    const [carver, setCarver] = useState(data);\n\n    const handleSelectChange = useCallback(function (option) {\n        setCarver({\n            config: {\n                probability: option.probability\n            },\n            type: option.value\n        });\n    }, []);\n    const handleProbabilityChange = useCallback(function (probability) {\n        setCarver(carver => ({ ...carver, config: { probability } }));\n    }, []);\n\n    const updateCarvers = useContext(DataContext).custom.updateCarvers;\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const c = ({\n            ...data,\n            ...carver,\n            ...Object.fromEntries(new FormData(e.target))\n        });\n        updateCarvers(c, data);\n        if (typeof onSave === 'function') {\n            onSave(c);\n        }\n    }, [data, carver, onSave, updateCarvers]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"pit\" type=\"carvers\" value={data.key} inline={false} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setCarver}>\n            configured carver\n            <JsonViewer data={carver} />\n        </NamespacedKey>\n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={VANILLA_CARVERS} value={VANILLA_CARVERS.find(o => o.value === carver.type)} onChange={handleSelectChange} inputId=\"type\" />\n        </div>\n        <div className=\"form-group\">\n            <NumberInput value={carver.config.probability} max=\"1\" step=\"0.001\" onChange={handleProbabilityChange}>Probability</NumberInput>\n        </div>\n        <Button type=\"submit\">Save</Button>\n    </form>\n}\n","import React, { useCallback } from 'react';\n\nimport { FEATURES } from './BiomeDefaults';\nimport Select from '../../ui/Select';\nimport { useJsonEffect } from '../../hooks/form';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport const GenFeatures = React.memo(function({ onChange, features }) {\n\n    const handleLevelChange = useCallback(function(priority, list) {\n        onChange(features.map((level, p) => priority === p ? list : level));\n    }, [features, onChange]);\n    useJsonEffect(features || FEATURES, features, onChange);\n\n    return <div className=\"form-group\">\n        <label>Features</label>\n        <p className=\"help\"><small className=\"text-muted\">Each generation feature is associated with a priority. The higher the priority, the later the feature will be applied.</small></p>\n        <ol>\n            {features.map((level, i) =>\n                <li key={i}><GenFeaturesLevel value={level} onChange={handleLevelChange} priority={i} /></li>\n            )}\n        </ol>\n    </div>;\n});\n\nexport const GenFeaturesLevel = React.memo(function({ onChange, priority, value }) {\n    const options = useKeyedListOptions('features');\n\n    const handleChange = useCallback(function(selectedOptions) {\n        onChange(priority, selectedOptions === null ? [] : selectedOptions.map(option => option.value));\n    }, [onChange, priority]);\n\n    return <Select isMulti options={options} onChange={handleChange} defaultValue={options.filter(o => value.includes(o.value))} />;\n});\n","import { ConfInput, NumberInput } from '../../ui/Input';\nimport React, { useCallback, useState } from 'react';\n\nimport { BIOME_DEFAULTS } from './BiomeDefaults';\nimport { BiomeEffects } from './BiomeEffects';\nimport { BiomeSpawners } from './BiomeSpawners';\nimport { BiomeStarts } from './BiomeStarts';\nimport { Button } from '../../ui/Button';\nimport { ConfiguredCarver } from '../carver/ConfiguredCarver';\nimport { GenFeatures } from './Features';\nimport { INT_MIN_VALUE } from '../../utils/math';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { NamespacedKey } from '../NamespacedKey';\nimport Select from '../../ui/Select';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport function Biome({data = BIOME_DEFAULTS, onSave}) {\n\n    const [state, setState] = useState(data);\n\n    const handleCarversChange = useCallback(function(carvers) {\n        setState(state => ({ ...state, carvers }));\n    }, []);\n    const handleStartsChange = useCallback(function(starts) {\n        setState(state => ({ ...state, starts }));\n    }, []);\n    const handleEffectsChange = useCallback(function(effects) {\n        setState(state => ({ ...state, effects }));\n    }, []);\n    const handleFeaturesChange = useCallback(function(features) {\n        setState(state => ({ ...state, features }));\n    }, []);\n    const handleSpawnersChange = useCallback(function(spawners) {\n        setState(state => ({ ...state, spawners }));\n    }, []);\n    const handleSurfaceBuilderChange = useCallback(function(option) {\n        setState(state => ({ ...state, surface_builder: option.value }));\n    }, []);\n    const handlePrecipitationChange = useCallback(function(option) {\n        setState(state => ({ ...state, precipitation: option.value }));\n    }, []);\n    const handleCategoryChange = useCallback(function(option) {\n        setState(state => ({ ...state, category: option.value }));\n    }, []);\n    const handleChange = useCallback(function(value) {\n        setState(state => ({ ...state, ...value }));\n    }, []);\n    const handleSpawnFriendlyChange = useCallback(function(e) {\n        const player_spawn_friendly = e.target.checked;\n        setState(state => ({ ...state, player_spawn_friendly }));\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const formData = Object.fromEntries(new FormData(e.target));\n        onSave({ ...state, ...formData });\n    }, [onSave, state]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"arctic\" type=\"biomes\" value={state.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setState}>\n            biome\n            <JsonViewer data={state} />\n        </NamespacedKey>\n\n        <BiomeEffects effects={state.effects} onChange={handleEffectsChange} />\n\n        <fieldset>\n            <BiomeCategory category={state.category} onChange={handleCategoryChange} />\n            <BiomePrecipitation value={state.precipitation} onChange={handlePrecipitationChange} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Generation</legend>\n            <SurfaceBuilder value={state.surface_builder} onChange={handleSurfaceBuilderChange} />\n            <BiomeStarts starts={state.starts} onChange={handleStartsChange} />\n            <GenFeatures features={state.features} onChange={handleFeaturesChange} />\n        </fieldset>\n\n        <ConfiguredCarver carvers={state.carvers} onChange={handleCarversChange} />\n\n        <fieldset>\n            <legend>Creatures</legend>\n            <BiomeSpawners data={state.spawners} onChange={handleSpawnersChange} />\n        </fieldset>\n\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"player_spawn_friendly\" checked={typeof state.player_spawn_friendly === 'boolean' ? state.player_spawn_friendly : true} onChange={handleSpawnFriendlyChange}>Player spawn friendly</ConfInput>\n                <NumberInput id=\"creature_spawn_probability\" value={state.creature_spawn_probability} defaultValue={0.1} step={0.1} required={false} upChange={handleChange}>Creature spawn probability</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"scale\" value={state.scale || 0.05} min={INT_MIN_VALUE} step={0.05} upChange={handleChange}>Scale</NumberInput>\n                <NumberInput id=\"downfall\" value={state.downfall || 0.4} min={INT_MIN_VALUE} step={0.1} upChange={handleChange}>Downfall</NumberInput>\n                <NumberInput id=\"depth\" value={state.depth || 0.12} min={INT_MIN_VALUE} step={0.01} upChange={handleChange}>Depth</NumberInput>\n                <NumberInput id=\"temperature\" value={state.temperature || 0.8} min={INT_MIN_VALUE} step={0.1} upChange={handleChange}>Temperature</NumberInput>\n                <p className=\"mts\"><small className=\"text-muted\">The <em>scale</em> parameter defines terrain amplitude, <em>downfall</em> controls grass and foliage color, <em>depth</em> is the difference from sea level, <em>temperature</em> controls some gameplay features like whether snow golems take damage. The default values are those of the plains biome.</small></p>\n            </div>\n        </fieldset>\n        <Button type=\"submit\">Save</Button>\n    </form>;\n}\n\nconst BiomeCategory = React.memo(function({ category = 'plains', onChange }) {\n\n    const options = [\n        { value: 'beach', label: 'Beach' },\n        { value: 'desert', label: 'Desert' },\n        { value: 'extreme_hills', label: 'Extreme hills' },\n        { value: 'forest', label: 'Forest' },\n        { value: 'icy', label: 'Icy' },\n        { value: 'jungle', label: 'Jungle' },\n        { value: 'mesa', label: 'Mesa' },\n        { value: 'nether', label: 'Nether' },\n        { value: 'none', label: 'None' },\n        { value: 'ocean', label: 'Ocean' },\n        { value: 'plains', label: 'Plains' },\n        { value: 'river', label: 'River' },\n        { value: 'savanna', label: 'Savanna' },\n        { value: 'swamp', label: 'Swamp' },\n        { value: 'taiga', label: 'Taiga' },\n        { value: 'the_end', label: 'The end' },\n    ];\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"category\">Category</label>\n        <Select options={options} value={options.find(o => o.value === category)} onChange={onChange} />\n    </div>;\n});\n\nconst BiomePrecipitation = React.memo(function({ onChange, value = 'rain' }) {\n\n    const options = [\n        { value: 'none', label: 'None' },\n        { value: 'rain', label: 'Rain' },\n        { value: 'snow', label: 'Snow' }\n    ];\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"precipitation\">Precipitation</label>\n        <Select options={options} value={options.find(o => o.value === value)} onChange={onChange} />\n    </div>;\n});\n\nconst SurfaceBuilder = React.memo(function({ onChange, value = 'minecraft:grass' }) {\n    const options = useKeyedListOptions('surfaces');\n    return <div className=\"form-group\">\n        <label htmlFor=\"surface_builder\">Surface builder</label>\n        <Select options={options} value={options.find(o => o.value === value)} onChange={onChange} />\n    </div>;\n});\n","import { INT_MAX_VALUE, INT_MIN_VALUE, grad, lerp3, perlinFade } from '../../utils/math';\n\nimport Random from 'java-random';\n\nexport class DoublePerlinSampler {\n    /**\n     * @param {JavaRandom} random \n     * @param {{ firstOctave: number, amplitudes: number[] }} settings \n     */\n    constructor(random, settings) {\n        this.firstSampler = new OctaveSimplexNoise(random, settings);\n        this.secondSampler = new OctaveSimplexNoise(random, settings);\n        this.amplitude = this.createAmplitude(settings.amplitudes);\n    }\n\n    /**\n     * @param {number[]} amplitudes \n     * @returns {number}\n     */\n    createAmplitude(amplitudes) {\n        let a = INT_MAX_VALUE;\n        let b = INT_MIN_VALUE;\n        amplitudes.forEach((n, index) => {\n            if (n !== 0) {\n                a = Math.min(a, index);\n                b = Math.max(b, index);\n            }\n        });\n        return (1/6) / (0.1 * (1.0 + 1.0 / (b - a + 1)));\n    }\n\n    /**\n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     */\n    sample(x, y, z) {\n        const d = x * 1.0181268882175227;\n        const e = y * 1.0181268882175227;\n        const f = z * 1.0181268882175227;\n        return (this.firstSampler.sample(x, y, z) + this.secondSampler.sample(d, e, f)) * this.amplitude;\n    }\n}\n\nclass OctaveSimplexNoise {\n\n    /**\n     * @param {Random} random \n     * @param {number[]} octaves \n     */\n    constructor(random, { firstOctave, amplitudes }) {\n        this.amplitudes = amplitudes;\n        const sampler = new PerlinNoiseSampler(random);\n        const j = amplitudes.length;\n        const k = -firstOctave;\n        this.octaveSamplers = new Array(j);\n\n        if (k >= 0 && k < j) {\n            const d = amplitudes[k];\n            if (d !== 0.0) {\n                this.octaveSamplers[k] = sampler;\n            }\n        }\n\n        for (let l = k - 1; l >= 0; --l) {\n            if (l < j) {\n                if (this.amplitudes[l] !== 0.0) {\n                    this.octaveSamplers[l] = new PerlinNoiseSampler(random);\n                } else {\n                    consumeRandom(random, 262);\n                }\n            } else {\n                consumeRandom(random, 262);\n            }\n        }\n\n        if (k < j - 1) {\n            const m = sampler.sample(0.0, 0.0, 0.0, 0.0, 0.0) * 9.223372036854776E18;\n            const random2 = new Random(m);\n\n            for (let n = k + 1; n < j; ++n) {\n                if (n >= 0) {\n                    if (this.amplitudes[n] !== 0.0) {\n                        this.octaveSamplers[n] = new PerlinNoiseSampler(random2);\n                    } else {\n                        consumeRandom(random, 262);\n                    }\n                } else {\n                    consumeRandom(random, 262);\n                }\n            }\n        }\n\n        this.lacunarity = Math.pow(2.0, -k);\n        this.persistence = Math.pow(2.0, j - 1) / (Math.pow(2.0, j) - 1.0);\n    }\n\n    /**\n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     * @param {number} d \n     * @param {number} e \n     * @param {boolean} bl \n     */\n    sample(x, y, z, d = 0.0, e = 0.0, bl = false) {\n        let noise = 0.0;\n        let lacunarity = this.lacunarity;\n        let persistence = this.persistence;\n\n        this.octaveSamplers.forEach((sampler, i) => {\n            if (typeof sampler === 'object') {\n                noise += this.amplitudes[i] * sampler.sample(\n                    x * lacunarity, bl ? -sampler.originY : y * lacunarity,\n                    z * lacunarity,\n                    d * lacunarity, e * lacunarity) * persistence;\n                lacunarity *= 2.0;\n                persistence /= 2.0;\n            }\n        });\n        return noise;\n    }\n}\n\nclass PerlinNoiseSampler {\n\n    /**\n     * @param {Random} random \n     */\n    constructor(random) {\n        this.originX = random.nextDouble() * 256;\n        this.originY = random.nextDouble() * 256;\n        this.originZ = random.nextDouble() * 256;\n        this.permutations = this.buildPermutationsTable(random);\n    }\n\n    /**\n     * @param {Random} random \n     */\n    buildPermutationsTable(random) {\n        const permutations = new Uint8Array(256);\n        for (let j = 0; j < 256; ++j) {\n            permutations[j] = j;\n        }\n        for (let j = 0; j < 256; ++j) {\n            const k = random.nextInt(256 - j);\n            const b = permutations[j];\n            permutations[j] = permutations[j + k];\n            permutations[j + k] = b;\n        }\n        return permutations;\n    }\n\n    /**\n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     * @param {number} d \n     * @param {number} e \n     * @returns {number}\n     */\n    sample(x, y, z, d, e) {\n        const rx = x + this.originX;\n        const ry = y + this.originY;\n        const rz = z + this.originZ;\n        const fx = Math.floor(rx);\n        const fy = Math.floor(ry);\n        const fz = Math.floor(rz);\n\n        const dx = rx - fx;\n        const dy = ry - fy;\n        const dz = rz - fz;\n        const fadeX = perlinFade(dx);\n        const fadeY = perlinFade(dy);\n        const fadeZ = perlinFade(dz);\n\n        const t = d === 0 ? 0 : Math.floor(Math.min(e, dy) / d) * d;\n        return this._sample(fx, fy, fz, dx, dy - t, dz, fadeX, fadeY, fadeZ);\n    }\n\n    /**\n     * @param {number} sectionX \n     * @param {number} sectionY \n     * @param {number} sectionZ \n     * @param {number} localX \n     * @param {number} localY \n     * @param {number} localZ \n     * @param {number} fadeLocalX \n     * @param {number} fadeLocalY \n     * @param {number} fadeLocalZ \n     * @returns {number}\n     */\n    _sample(sectionX, sectionY, sectionZ, localX, localY, localZ, fadeLocalX, fadeLocalY, fadeLocalZ) {\n        const i = this.getGradient(sectionX) + sectionY;\n        const j = this.getGradient(i) + sectionZ;\n        const k = this.getGradient(i + 1) + sectionZ;\n        const l = this.getGradient(sectionX + 1) + sectionY;\n        const m = this.getGradient(l) + sectionZ;\n        const n = this.getGradient(l + 1) + sectionZ;\n        const d = grad(this.getGradient(j), localX, localY, localZ);\n        const e = grad(this.getGradient(m), localX - 1.0, localY, localZ);\n        const f = grad(this.getGradient(k), localX, localY - 1.0, localZ);\n        const g = grad(this.getGradient(n), localX - 1.0, localY - 1.0, localZ);\n        const h = grad(this.getGradient(j + 1), localX, localY, localZ - 1.0);\n        const o = grad(this.getGradient(m + 1), localX - 1.0, localY, localZ - 1.0);\n        const p = grad(this.getGradient(k + 1), localX, localY - 1.0, localZ - 1.0);\n        const q = grad(this.getGradient(n + 1), localX - 1.0, localY - 1.0, localZ - 1.0);\n        return lerp3(fadeLocalX, fadeLocalY, fadeLocalZ, d, e, f, g, h, o, p, q);\n    }\n\n    getGradient(hash) {\n        return this.permutations[hash & 255];\n    }\n}\n\n/**\n * @param {Random} random \n * @param {number} count\n */\nfunction consumeRandom(random, count) {\n    for (let c = 0; c < count; c++) {\n        random.nextInt();\n    }\n}\n","export function hashCode(s) {\n    let hash;\n    for (let i = 0; i < s.length; i++) { \n        hash = Math.imul(31, hash) + s.charCodeAt(i) | 0;\n    }\n    return hash;\n}","import { DoublePerlinSampler } from './PerlinSamplers';\nimport Random from 'java-random';\nimport { hashCode } from '../../utils/hash';\n\n/**\n * @typedef Biome\n * @type {object}\n * @property {string} biome Biome name \n * @property {{\n        temperature: number,\n        humidity: number,\n        altitude: number,\n        weirdness: number,\n        offset: number\n    }} parameters Noise point parameters\n */\n\nexport class MultiNoiseDimension {\n\n    /**\n     * @param {{\n            temperature_noise: { firstOctave: number, amplitudes: number[] },\n            humidity_noise: { firstOctave: number, amplitudes: number[] },\n            altitude_noise: { firstOctave: number, amplitudes: number[] },\n            weirdness_noise: { firstOctave: number, amplitudes: number[] },\n            seed: number,\n            biomes: Biome[]\n        }} source\n    */\n    constructor(source) {\n        this.biomes = source.biomes;\n\n        this.temperatureNoise = new DoublePerlinSampler(new Random(source.seed), source.temperature_noise);\n        this.humidityNoise = new DoublePerlinSampler(new Random(source.seed + 1), source.humidity_noise);\n        this.altitudeNoise = new DoublePerlinSampler(new Random(source.seed + 2), source.altitude_noise);\n        this.weirdnessNoise = new DoublePerlinSampler(new Random(source.seed + 3), source.weirdness_noise);\n    }\n\n    /**\n     * Get biome for the given block position.\n     * \n     * @param {number} x \n     * @param {number} y \n     * @param {number} z \n     * @returns {Biome}\n     */\n    getBiomeAt(x, y, z) {\n        const biomeX = x >> 2;\n        const biomeY = y >> 2;\n        const biomeZ = z >> 2;\n\n        // Calculate a noise point using perlin noise samplers\n        const temperature = this.temperatureNoise.sample(biomeX, biomeY, biomeZ);\n        const humidity = this.humidityNoise.sample(biomeX, biomeY, biomeZ);\n        const altitude = this.altitudeNoise.sample(biomeX, biomeY, biomeZ);\n        const weirdness = this.weirdnessNoise.sample(biomeX, biomeY, biomeZ);\n\n        // Determine the biome with the parameters closest to the current noise point\n        let current = null;\n        let minDistance = Number.MAX_SAFE_INTEGER;\n        for (const biome of this.biomes) {\n            const distance = this.getDistanceToBiome(temperature, humidity, altitude, weirdness, biome.parameters);\n            if (distance < minDistance) {\n                current = biome;\n                minDistance = distance;\n            }\n        }\n        \n        return current;\n    }\n\n    /**\n     * Fill the image data with biome positions\n     * \n     * @param {ImageData} image \n     * @param {number} [scale] exponential\n     * @param {number} [every] x % every === 0 ? compute : use previous data\n     * @param {number} [offsetX] \n     * @param {number} [offsetY] \n     */\n    createImageData(image, scale = 4, every = 2, offsetX = 0, offsetY = 0) {\n        const width = image.width;\n        const height = image.height;\n        const buffer = new ArrayBuffer(image.data.length);\n        const buf8 = new Uint8ClampedArray(buffer);\n        const data32 = new Uint32Array(buffer);\n\n        const endX = offsetX + width;\n        const endY = offsetY + height;\n\n        const biomesColors = MultiNoiseDimension.getBiomesColors(this.biomes);\n\n        let color = null;\n        for (let x = offsetX; x < endX; x += 1) {\n            for (let y = offsetY; y < endY; y += 1) {\n                if (x % every === 0) {\n                    if (y % every === 0) {\n                        const biome = this.getBiomeAt(x << scale, 0, y << scale);\n                        color = biomesColors[biome.biome];\n                    }\n                    data32[y * width + x] = (255 << 24) | color;\n                } else {\n                    data32[y * width + x] = data32[y * width + x - 1];\n                }\n            }\n        }\n        image.data.set(buf8);\n    }\n\n    /**\n     * Calculates the distance from this noise point to another one.\n     * \n     * @param {number} temperature \n     * @param {number} humidity \n     * @param {number} altitude \n     * @param {number} weirdness \n     * @param {{ temperature: number, humidity: number, altitude: number, weirdness: number, offset: number }} parameters \n     */\n    getDistanceToBiome(temperature, humidity, altitude, weirdness, parameters) {\n        return (temperature - parameters.temperature) ** 2\n            + (humidity - parameters.humidity) ** 2\n            + (altitude - parameters.altitude) ** 2\n            + (weirdness - parameters.weirdness) ** 2\n            + (0 - parameters.offset) ** 2;\n    }\n\n    /**\n     * @param {Biome[]} biomes \n     * @returns {object}\n     */\n    static getBiomesColors(biomes = []) {\n        const biomesColors = {};\n        for (const biome of biomes) {\n            biomesColors[biome.biome] = hashCode(biome.biome);\n        }\n        return biomesColors;\n    }\n}\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { Button } from '../../ui/Button';\nimport { MultiNoiseDimension } from '../../viewers/biome_multi_noise/MultiNoiseDimension';\nimport { integerColorToHex } from '../../utils/color';\nimport { useToggle } from '../../hooks/ui';\n\nexport const MultiNoiseRepresentation = React.memo(function ({ source }) {\n\n    const [auto, toggle] = useToggle();\n    const [scale, setScale] = useState(4);\n    const reference = useRef(null);\n\n    const render = useCallback(function () {\n        if ((source.biomes || []).length < 1) {\n            return;\n        }\n        const canvas = reference.current;\n        const ctx = canvas.getContext('2d', { alpha: false });\n        const img = ctx.createImageData(canvas.width, canvas.height);\n        const dimension = new MultiNoiseDimension(source);\n        dimension.createImageData(img, scale);\n        ctx.putImageData(img, 0, 0);\n    }, [scale, source]);\n\n    const handleClick = useCallback(function (e) {\n        e.preventDefault();\n        render();\n    }, [render]);\n\n    const handleScaleChange = useCallback(function (e) {\n        setScale(parseInt(e.target.value));\n    }, []);\n\n    useEffect(function () {\n        if (auto) {\n            render();\n        }\n    }, [auto, render]);\n\n    return <fieldset>\n        <legend>Preview</legend>\n        <div className=\"form-row\">\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n                <canvas height=\"128\" width=\"384\" ref={reference} moz-opaque=\"true\"></canvas>\n            </div>\n            <div>\n                <label htmlFor=\"scale\">Scale</label> : <input type=\"range\" id=\"scale\" min=\"1\" max=\"8\" value={scale} onChange={handleScaleChange} /> ({1 << scale} block/px)<br />\n                <label htmlFor=\"auto-update\">Auto update (affects performance)</label> : <input type=\"checkbox\" className=\"checkbox\" checked={auto} onChange={toggle} id=\"auto-update\" /><br />\n                {(source.biomes || []).length > 0 && !auto && <Button onClick={handleClick}>Render</Button>}\n            </div>\n        </div>\n        <ul className=\"form-group form-row\" style={{ justifyContent: 'start' }}>\n            {Object.entries(MultiNoiseDimension.getBiomesColors(source.biomes)).map(([biome, color]) => {\n                const b = (color >> 16) & 0xFF;\n                const g = (color >> 8) & 0xFF;\n                const r = color & 0xFF;\n                return <li key={biome} style={{ display: 'inline', marginLeft: '8px', marginRight: '4px' }}>\n                    <div style={{\n                        backgroundColor: integerColorToHex(((r << 16) | (g << 8) | b)),\n                        width: '32px', height: '16px',\n                        display: 'inline-block',\n                        marginRight: '0.5rem',\n                        verticalAlign: 'middle'\n                    }}></div>\n                    {biome}\n                </li>\n            })}\n        </ul>\n    </fieldset>\n});\n","import React from 'react';\nimport { NumberInput } from './Input';\n\nexport const NumberList = React.memo(function ({ children, numbers = [], onChange, step }) {\n\n    const handleChange = function(val, pos) {\n        onChange(numbers.map((n, i) => i === pos ? val : n));\n    };\n\n    return <div className=\"form-row\">\n        <label>{children}</label>&nbsp;:&nbsp;{numbers.map((n, i) => <NumberInput key={i} step={step} value={n} onChange={(n) => handleChange(n, i)} />)}\n    </div>\n});\n","import { ConfInput, NumberInput } from '../../ui/Input';\nimport { MULTI_NOISE_BIOME_SOURCE, NOISES_NAMES } from './DimensionDefaults';\nimport React, { useCallback, useContext, useEffect } from 'react';\nimport { capitalize, hasDuplicatedObjects } from '../../utils/data';\n\nimport { Button } from '../../ui/Button';\nimport { DataContext } from '../../context/DataContext';\nimport { MultiNoiseRepresentation } from './MultiNoiseBiomeSource';\nimport { NumberList } from '../../ui/NumberList';\nimport { SeedField } from './DimensionGenerator';\nimport Select from '../../ui/Select';\nimport { useCrudPreset } from '../../hooks/form';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useMemo } from 'react';\nimport { useToggle } from '../../hooks/ui';\n\nexport const BiomeSource = React.memo(function({source = { type: 'minecraft:fixed' }, onChange}) {\n\n    const options = useMemo(function() {\n        return [\n            { value: 'minecraft:checkerboard', label: 'Checkerboard' },\n            { value: 'minecraft:fixed', label: 'Fixed' },\n            { value: 'minecraft:multi_noise', label: 'Multi noise' },\n            { value: 'minecraft:the_end', label: 'The end' },\n            { value: 'minecraft:vanilla_layered', label: 'Vanilla layered' }\n        ];\n    }, []);\n\n    const handleChange = useCallback(function(settings) {\n        onChange(({ ...source, ...settings }));\n    }, [onChange, source]);\n    const handleSeedChange = useCallback(function(seed) {\n        onChange(({ ...source, seed }));\n    }, [onChange, source]);\n    const handleTypeChange = useCallback(function(option) {\n        onChange(({ seed: source.seed, type: option.value }));\n    }, [onChange, source.seed]);\n    const handleFixedSourceChange = useCallback(function(biome) {\n        onChange(({ ...source, biome }));\n    }, [onChange, source]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === source.type);\n    }, [options, source.type]);\n\n    return <fieldset>\n        <legend>Biome source</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"biome-source-type\">Type</label><Select inputId=\"biome-source-type\" options={options} value={selected} onChange={handleTypeChange} />\n        </div>\n        <SeedField value={source.seed} onChange={handleSeedChange} />\n        <hr />\n        {source.type === 'minecraft:checkerboard' && <CheckerboardBiomeSource source={source} onChange={handleChange} />}\n        {source.type === 'minecraft:fixed' && <FixedBiomeSource biome={source.biome} onChange={handleFixedSourceChange} />}\n        {source.type === 'minecraft:multi_noise' && <MultiNoiseBiomeSource source={source} onChange={handleChange} />}\n        {source.type === 'minecraft:vanilla_layered' && <VanillaLayeredBiomeSource source={source} onChange={handleChange} />}\n    </fieldset>\n});\n\nconst CheckerboardBiomeSource = React.memo(function({source, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const handleBiomesChange = useCallback(function(selection) {\n        onChange({ ...source, biomes: selection === null ? [] : selection.map(o => o.value) });\n    }, [onChange, source]);\n    const handleScaleChange = useCallback(function(scale) {\n        onChange({ ...source, scale });\n    }, [onChange, source]);\n\n    const biomes = source.biomes || (options.length > 0 ? [options[0].value] : []);\n    useEffect(() => {\n        if (!Array.isArray(source.biomes)) {\n            onChange({ biomes, scale: source.scale || 2 });\n        }\n    }, [biomes, source.biomes, source.scale, onChange]);\n\n    return <div className=\"form-group\">\n        <div className=\"form-group\">\n            <label htmlFor=\"biomes\">Biomes</label><Select options={options} isMulti isClearable={false} value={options.filter(o => biomes.includes(o.value))} onChange={handleBiomesChange} id=\"biomes\" />\n        </div>\n        <div className=\"form-group\">\n            <NumberInput id=\"scale\" value={source.scale} onChange={handleScaleChange} max={62} required={false} defaultValue={2}>Scale (squares of 2<sup>scale</sup> chunks)</NumberInput>\n        </div>\n        {biomes.length < 1 && <p className=\"alert--warning\">Warning: a dimension must contain at least one biome!</p>}\n    </div>;\n});\n\nexport const FixedBiomeSource = React.memo(function({biome = 'minecraft:plains', inline = false, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const handleBiomesChange = useCallback(function(option) {\n        onChange(option.value);\n    }, [onChange]);\n\n    return <div className={inline ? 'form-row flex-grow' : 'form-group'}>\n        <label htmlFor=\"fixed-biome\">Biome{inline && ' :'}&nbsp;</label><div className={inline ? 'flex-grow' : undefined}><Select options={options} value={options.find(o => o.value === biome)} onChange={handleBiomesChange} /></div>\n    </div>;\n});\n\nconst MultiNoiseBiomeSource = React.memo(function({source = MULTI_NOISE_BIOME_SOURCE, onChange}) {\n    const options = useKeyedListOptions('biomes');\n    const [biomes, handleAdd, handleChange, handleRemove] = useCrudPreset(biomes => onChange({ ...source, biomes }), source.biomes, { biome: 'minecraft:plains', parameters: {\n        altitude: 0,\n        weirdness: 0,\n        offset: 0,\n        temperature: 0.8,\n        humidity: 0.4\n    } });\n\n    const [advanced, toggleAdvanced] = useToggle();\n    const handleNoiseChange = useCallback(function(type, noise) {\n        onChange(({ ...source, [type]: noise }));\n    }, [source, onChange]);\n\n    const vanilla = useContext(DataContext).vanilla.biomes;\n    const custom = useContext(DataContext).custom.biomes;\n    const namespace = useContext(DataContext).namespace;\n    useEffect(function() {\n        for (const noise of NOISES_NAMES) {\n            if (typeof source[noise] === 'undefined') {\n                onChange({ ...MULTI_NOISE_BIOME_SOURCE, ...source, biomes });\n                return;\n            }\n        }\n    }, [biomes, onChange, source]);\n\n    const values = [];\n    biomes.forEach((entry, i) => {\n        const key = i;\n        values.push(<BiomeSelection namespace={namespace} vanilla={vanilla} custom={custom} biomesOptions={options} entry={entry} key={key} onChange={handleChange}><Button cat=\"danger\" onClick={e => handleRemove(e, i)}>Delete</Button></BiomeSelection>);\n    });\n    return <>\n        <div className=\"flex-container\" style={{ alignItems: 'baseline' }}>\n            <h4>\n                Biomes list\n                <Button onClick={handleAdd} cat=\"primary mls\">Add biome</Button>\n                <Button onClick={toggleAdvanced} cat=\"secondary\">Advanced</Button>\n            </h4>\n        </div>\n        {advanced && <div className=\"grid-2-small-1 has-gutter mbm\">\n            {NOISES_NAMES\n                .map(noise => <PerlinNoiseParameters\n                    key={noise}\n                    noise={source[noise] || MULTI_NOISE_BIOME_SOURCE[noise]}\n                    onChange={(n) => handleNoiseChange(noise, n)}>{capitalize(noise.replace('_', ' '))}</PerlinNoiseParameters>)}\n        </div>}\n        {values}\n        {hasDuplicatedObjects(biomes.map(biome => biome.parameters)) && <p className=\"alert--warning\">Warning: every biome must have a unique combination of parameters!</p>}\n        <MultiNoiseRepresentation source={source} />\n    </>;\n});\n\nconst VanillaLayeredBiomeSource = React.memo(function({source, onChange}) {\n    const handleLegacyBiomeToggle = useCallback(function(e) {\n        onChange({ ...source, legacy_biome_init_layer: e.target.checked });\n    }, [onChange, source]);\n    const handleLargeBiomesToggle = useCallback(function(e) {\n        onChange({ ...source, large_biomes: e.target.checked });\n    }, [onChange, source]);\n\n    return <div className=\"form-row\">\n        <ConfInput checked={source.legacy_biome_init_layer || false} onChange={handleLegacyBiomeToggle}>Legacy biome init layer</ConfInput>\n        <ConfInput checked={source.large_biomes || false} onChange={handleLargeBiomesToggle}>Large biomes</ConfInput>\n    </div>;\n});\n\nconst PerlinNoiseParameters = React.memo(function({children, noise = { firstOctave: -7, amplitudes: [1, 1] }, onChange}) {\n\n    const handleFirstOctaveChange = useCallback(function(firstOctave) {\n        onChange({ ...noise, firstOctave });\n    }, [noise, onChange]);\n    const handleAmplitudesChange = useCallback(function(amplitudes) {\n        onChange({ ...noise, amplitudes });\n    }, [noise, onChange]);\n\n    return <fieldset style={{ margin: 0 }}>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"firstOctave\" value={noise.firstOctave} onChange={handleFirstOctaveChange} min={-1000}>First octave</NumberInput>\n            <NumberList numbers={noise.amplitudes} step={0.1} onChange={handleAmplitudesChange}>Amplitudes</NumberList>\n        </div>\n    </fieldset>;\n});\n\nconst BiomeSelection = React.memo(function({namespace, vanilla, custom, biomesOptions, entry, onChange, children}) {\n    const handleBiomeChange = useCallback(function(option) {\n        const biome = option.value;\n        const data = (vanilla.find(b => 'minecraft:' + b.name === biome) || custom.find(b => namespace + ':' + b.key === biome) || { rainfall: 0, temperature: 0 });\n        const parameters = {\n            altitude: entry.parameters.altitude || 0,\n            weirdness: entry.parameters.weirdness || 0,\n            offset: entry.parameters.offset || 0,\n            temperature: data.temperature || 0.8,\n            humidity: data.rainfall || 0.4\n        };\n        onChange({ biome, parameters }, entry);\n    }, [entry, custom, namespace, onChange, vanilla]);\n\n    const handleParameterChange = useCallback(function(value) {\n        onChange({ biome: entry.biome, parameters: { ...entry.parameters, ...value } }, entry);\n    }, [entry, onChange]);\n\n    const selected = useMemo(function() {\n        return biomesOptions.find(o => o.value === entry.biome);\n    }, [biomesOptions, entry.biome]);\n    return <div className=\"form-group\">\n        <Select options={biomesOptions} value={selected} onChange={handleBiomeChange} />\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"altitude\" value={entry.parameters.altitude} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Altitude</NumberInput>\n            <NumberInput id=\"weirdness\" value={entry.parameters.weirdness} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Weirdness</NumberInput>\n            <NumberInput id=\"offset\" value={entry.parameters.offset} upChange={handleParameterChange} step=\"0.1\" max=\"1\">Offset</NumberInput>\n            <NumberInput id=\"temperature\" value={entry.parameters.temperature} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Temperature</NumberInput>\n            <NumberInput id=\"humidity\" value={entry.parameters.humidity} upChange={handleParameterChange} step=\"0.1\" min=\"-2\" max=\"2\">Humidity</NumberInput>\n            {children}\n        </div>\n    </div>\n});\n","import { CRUD, useCrudState } from '../../hooks/form';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nimport { Button } from '../../ui/Button';\nimport { NumberInput } from '../../ui/Input';\nimport { STRUCTURES } from './NoiseDefaults';\nimport Select from '../../ui/Select';\nimport { useToggle } from '../../hooks/ui';\n\nexport const Structures = React.memo(function ({ data, onChange }) {\n\n    const handleStrongholdChange = useCallback(function(stronghold) {\n        if (stronghold === false) {\n            onChange({ structures: data.structures });\n        } else {\n            onChange({ structures: data.structures, stronghold });\n        }\n    }, [data.structures, onChange]);\n    const handleStructuresChange = useCallback(function(structures) {\n        onChange({ ...data, structures });\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Structures</legend>\n        <Stronghold data={data.stronghold} onChange={handleStrongholdChange} />\n        <StructuresList data={data.structures} onChange={handleStructuresChange} />\n    </fieldset>\n});\n\nconst Stronghold = React.memo(function ({ data, onChange }) {\n\n    const [enabled, toggle] = useToggle(typeof data === 'object');\n    const [stronghold, setStronghold] = useState(data || { distance: 32, spread: 3, count: 128 });\n\n    const handleChange = useCallback(function(value) {\n        setStronghold(stronghold => ({ ...stronghold, ...value }));\n    }, [setStronghold]);\n\n    useEffect(function() {\n        if ((data !== stronghold && enabled)\n            || (enabled && typeof data === 'undefined')\n            || (!enabled && typeof data === 'object')) {\n                onChange(enabled ? stronghold : false);\n        }\n    }, [data, enabled, onChange, stronghold]);\n\n    return <div>\n        <div className=\"toggle-label\">Stronghold<Button cat=\"secondary\" onClick={toggle}>{enabled ? 'Disable' : 'Enable'}</Button></div>\n        {enabled && <div className=\"form-group form-row\">\n            <NumberInput id=\"distance\" defaultValue={stronghold.distance} upChange={handleChange} max=\"1023\">Distance</NumberInput>\n            <NumberInput id=\"spread\" defaultValue={stronghold.spread} upChange={handleChange} max=\"1023\">Spread</NumberInput>\n            <NumberInput id=\"count\" defaultValue={stronghold.count} upChange={handleChange} min=\"1\" max=\"4095\">Count</NumberInput>\n        </div>}\n    </div>\n});\n\nconst StructuresList = React.memo(function({ data, onChange }) {\n    const [visibility, toggle] = useToggle();\n    const [structures, dispatch] = useCrudState(Object.entries(data).map(([type, d]) => ({ ...d, type })));\n\n    const [previous, setPrevious] = useState(data);\n    if (data !== previous) {\n        dispatch({ type: CRUD.REPLACE, payload: Object.entries(data).map(([type, d]) => ({ ...d, type })) });\n        setPrevious(data);\n    }\n\n    const handleAdd = useCallback(function(e) {\n        e.preventDefault();\n        dispatch({ type: CRUD.ADD, payload: {\n            type: 'minecraft:village',\n            spacing: 32,\n            separation: 8,\n            salt: 10387312\n        }, unshift: true });\n        if (!visibility) {\n            toggle();\n        }\n    }, [dispatch, toggle, visibility]);\n    const handleChange = useCallback(function(original, structure) {\n        dispatch({ type: CRUD.UPDATE, target: original, payload: structure });\n    }, [dispatch]);\n    const handleRemove = useCallback(function(structure) {\n        dispatch({ type: CRUD.REMOVE, payload: structure });\n    }, [dispatch]);\n\n    useEffect(function() {\n        if (previous !== data) {\n            return;\n        }\n\n        const obj = {};\n        for (const structure of structures) {\n            obj[structure.type] = {\n                spacing: structure.spacing,\n                separation: structure.separation,\n                salt: structure.salt\n            };\n        }\n        if (JSON.stringify(obj) !== JSON.stringify(data)) {\n            onChange(obj);\n        }\n    }, [data, onChange, previous, structures]);\n\n    return <div>\n        <div className=\"toggle-label\">\n            Structures\n            <div className=\"btn-group\">\n                <Button onClick={handleAdd}>Add structure</Button>\n                {structures.length > 0 && <Button cat=\"secondary\" onClick={toggle}>{visibility ? 'Less...' : 'More...'}</Button>}\n            </div>\n        </div>\n        {visibility && structures.map((def, i) => \n            <Structure data={def} key={i} onChange={handleChange} onDelete={handleRemove} />\n        )}\n    </div>\n});\n\nconst Structure = React.memo(function ({ data, onChange, onDelete }) {\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange(data, { ...data, type: option.value });\n    }, [data,  onChange]);\n    const handleSpacingChange = useCallback(function(value) {\n        const name = Object.keys(value)[0];\n        value = value[name];\n        if ((name === 'spacing' && value > data.separation)\n            || (name === 'separation' && value < data.spacing)) {\n            onChange(data, {...data, [name]: value});\n        } \n    }, [data,  onChange]);\n    const handleSaltChange = useCallback(function(salt) {\n        onChange(data, { ...data, salt });\n    }, [data,  onChange]);\n    const handleDelete = useCallback(function (e) {\n        e.preventDefault();\n        onDelete(data);\n    }, [data, onDelete]);\n\n    return <div>\n        <div className=\"form-group\">\n            <label>Type</label> : <Select options={STRUCTURES} value={STRUCTURES.find(s => s.value === data.type)} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"spacing\" value={data.spacing} min={data.separation + 1} upChange={handleSpacingChange} max=\"4096\">Spacing</NumberInput>\n            <NumberInput id=\"separation\" value={data.separation} upChange={handleSpacingChange} max={Math.min(data.spacing - 1, 4096)}>Separation</NumberInput>\n            <NumberInput id=\"salt\" value={data.salt} onChange={handleSaltChange} max={0x7FFFFFFF} style={{ width: '150px' }}>Salt</NumberInput>\n            <div className=\"form-inline\"><Button cat=\"danger\" onClick={handleDelete}>Delete</Button></div>\n        </div>\n        <hr /> \n    </div>\n});\n","import { ConfInput, NumberInput } from '../../ui/Input';\nimport React, { useCallback } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { useCrudPreset, useJsonEffect } from '../../hooks/form';\n\nimport { BlockSelect } from '../state/BlockPredicate';\nimport { Button } from '../../ui/Button';\nimport { FixedBiomeSource } from './BiomeSource';\nimport { Structures } from '../noise/Structures';\n\nexport const FlatChunkSettings = React.memo(function ({ settings, onChange }) {\n\n    settings = useJsonEffect(settings || {\n        structures: {\n            structures: []\n        },\n        layers: [\n            { block: 'minecraft:bedrock', height: 1 },\n            { block: 'minecraft:sandstone', height: 70 }\n        ],\n        biome: 'minecraft:plains'\n    }, settings, onChange);\n\n    const handleBiomeChange = useCallback(function (biome) {\n        onChange({ ...settings, biome });\n    }, [settings, onChange]);\n    const handleLayersChange = useCallback(function (layers) {\n        onChange({ ...settings, layers });\n    }, [settings, onChange]);\n    const handleStructuresChange = useCallback(function (structures) {\n        onChange({ ...settings, structures });\n    }, [settings, onChange]);\n    const handleLakesToggle = useCallback(function (e) {\n        onChange({ ...settings, lakes: e.target.checked });\n    }, [settings, onChange]);\n\n    return <div className=\"form-group\">\n        <div className=\"form-group form-row\">\n            <FixedBiomeSource biome={settings.biome} inline={true} onChange={handleBiomeChange} />\n            <ConfInput className=\"mls\" checked={settings.lakes || false} onChange={handleLakesToggle}>Lakes</ConfInput>\n        </div>\n        <GeneratorLayers config={settings.layers} onChange={handleLayersChange} />\n        <Structures data={settings.structures} onChange={handleStructuresChange} />\n    </div>\n});\n\nconst GeneratorLayers = React.memo(function ({ config, onChange }) {\n    const [layers, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, config, { block: 'minecraft:grass_block', height: 1 });\n\n    const shouldCancelStart = useCallback(function (e) {\n        return !e.target.parentNode.classList.contains('sortable-item');\n    }, []);\n\n    const handleReversedSort = useCallback(function ({ oldIndex, newIndex }) {\n        handleChange({ oldIndex: layers.length - 1 - oldIndex, newIndex: layers.length - 1 - newIndex });\n    }, [layers, handleChange]);\n\n    return <fieldset>\n        <legend>Layers <Button onClick={handleAdd}>Add layer</Button></legend>\n        <SortableLayersList layers={layers} onChange={handleChange} onRemove={handleRemove} onSortEnd={handleReversedSort} shouldCancelStart={shouldCancelStart} />\n    </fieldset>\n});\n\nconst SortableLayersList = SortableContainer(React.memo(function ({ layers, onChange, onRemove }) {\n    let key = 0;\n    return <ol className=\"sortable-container\">\n        {layers.map((layer, index) => {\n            key += layer.height + 1;\n            return <Layer i={index} index={layers.length - 1 - index} key={key} layer={layer} onChange={onChange} onRemove={onRemove} />\n        }).reverse()}\n    </ol>\n}));\n\nconst Layer = SortableElement(React.memo(function ({ i, layer, onChange, onRemove }) {\n    const handleHeightChange = useCallback(function (height, layer) {\n        onChange({ ...layer, height }, layer);\n    }, [onChange]);\n    const handleBlockChange = useCallback(function (block, layer) {\n        onChange({ ...layer, block }, layer);\n    }, [onChange]);\n\n    return <div className=\"sortable-item\"><div className=\"form-group form-row\">\n        <div className=\"flex-grow\"><BlockSelect block={layer.block} onChange={option => handleBlockChange(option.value, layer)} /></div>\n        <NumberInput id=\"height\" className=\"mls\" value={layer.height} max={256} onChange={height => handleHeightChange(height, layer)}>Height</NumberInput>\n        <Button cat=\"danger mlm\" onClick={e => onRemove(e, i)}>Remove</Button>\n    </div></div>\n}));\n","import { ConfInput, NumberInput } from '../../ui/Input';\nimport React, { useCallback, useState } from 'react';\n\nimport { BlockState } from '../state/BlockState';\nimport { Button } from '../../ui/Button';\nimport { INT_MIN_VALUE } from '../../utils/math';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { OVERWORLD_NOISE } from './NoiseDefaults';\nimport Select from '../../ui/Select';\nimport { Structures } from './Structures';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useValueChange } from '../../hooks/form';\n\nexport const NoiseGenerator = React.memo(function({onChange, settings = 'minecraft:overworld'}) {\n    const options = useKeyedListOptions('noises').map(option => {\n        option.resource = option.value;\n        return option;\n    });\n\n    const handleChange = useCallback(function(option) {\n        onChange(option.resource);\n    }, [onChange]);\n\n    if (typeof settings === 'object') {\n        options.push({ value: 'inline', label: 'inline', resource: settings });\n    }\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"settings\">Noise settings</label><Select options={options} value={options.find(o => o.resource === settings)} onChange={handleChange} inputId=\"settings\" />\n    </div>;\n});\n\nexport const NoiseSettings = React.memo(function ({ data = OVERWORLD_NOISE, onSave }) {\n\n    const [state, setState] = useState(data);\n\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        const formData = Object.fromEntries(new FormData(e.target));\n        onSave({ ...state, ...formData });\n    }, [onSave, state]);\n\n    const handleBlockChange = useCallback(function (name, s) {\n        setState(state => ({ ...state, [name]: s }));\n    }, []);\n    const handleStructuresChange = useCallback(function (structures) {\n        setState(state => ({ ...state, structures }));\n    }, []);\n    const handleNoiseChange = useCallback(function (noise) {\n        setState(state => ({ ...state, noise: { ...state.noise, ...noise } }));\n    }, []);\n    const handleChange = useCallback(function(value) {\n        setState(state => ({ ...state, ...value }));\n    }, []);\n    const handleDisableMobGenerationChange = useCallback(function(e) {\n        const disable_mob_generation = e.target.checked;\n        setState(state => ({ ...state, disable_mob_generation }));\n    }, []);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"epic\" type=\"noises\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setState}>\n            noise\n            <JsonViewer data={state} />\n        </NamespacedKey>\n\n        <Structures data={state.structures} onChange={handleStructuresChange} />\n\n        <fieldset>\n            <legend>Defaults</legend>\n            <div className=\"form-group\">\n                <label>Block</label> : <BlockState block={state.default_block} onChange={state => handleBlockChange('default_block', state)} />\n            </div>\n            <div className=\"form-group\">\n                <label>Fluid</label> : <BlockState block={state.default_fluid} onChange={state => handleBlockChange('default_fluid', state)} />\n            </div>\n        </fieldset>\n\n        <fieldset>\n            <legend>Main</legend>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"bedrock_roof_position\" value={state.bedrock_roof_position} min={-20} max={276} upChange={handleChange}>Bedrock roof position</NumberInput>\n                <NumberInput id=\"bedrock_floor_position\" value={state.bedrock_floor_position} min={-20} max={276} upChange={handleChange}>Bedrock floor position</NumberInput>\n                <NumberInput id=\"sea_level\" value={state.sea_level} max={255} upChange={handleChange}>Sea level</NumberInput>\n                <ConfInput id=\"disable_mob_generation\" checked={state.disable_mob_generation} onChange={handleDisableMobGenerationChange}>Disable mob generation</ConfInput>\n            </div>\n        </fieldset>\n\n        {Object.keys(state.structures.structures).includes('minecraft:nether_fossil') && (state.noise.height - 2 - state.sea_level) < 0 &&\n            <p className=\"alert--warning\">The game may crash when trying to generate nether fossils, because (height - 2 - sea_level) is negative (actually: {state.noise.height - 2 - state.sea_level}).</p>\n        }\n        <NoiseConfig data={state.noise} onChange={handleNoiseChange} />\n\n        <Button type=\"submit\">Save</Button>\n    </form>;\n});\n\nconst NoiseConfig = React.memo(function ({ data, onChange }) {\n\n    const handleChange = useValueChange(onChange, data);\n    const handleSamplingChange = useCallback(function (sampling) {\n        onChange({ ...data, sampling: { ...data.sampling, ...sampling } });\n    }, [data, onChange]);\n    const handleTopSlideChange = useCallback(function (top_slide) {\n        onChange({ ...data, top_slide: { ...data.top_slide, ...top_slide } });\n    }, [data, onChange]);\n    const handleBottomSlideChange = useCallback(function (bottom_slide) {\n        onChange({ ...data, bottom_slide: { ...data.bottom_slide, ...bottom_slide } });\n    }, [data, onChange]);\n\n    return <fieldset>\n        <legend>Noise config (advanced)</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"height\" value={data.height} upChange={onChange} max={256}>Height</NumberInput>\n            <NumberInput id=\"size_horizontal\" value={data.size_horizontal} upChange={onChange} min={1} max={4}>Size horizontal</NumberInput>\n            <NumberInput id=\"size_vertical\" value={data.size_vertical} upChange={onChange} min={1} max={4}>Size vertical</NumberInput>\n            <NumberInput id=\"density_factor\" value={data.density_factor} upChange={onChange} step={0.01}>Density factor</NumberInput>\n            <NumberInput id=\"density_offset\" value={data.density_offset} upChange={onChange} min={INT_MIN_VALUE} step={0.01}>Density offset</NumberInput>\n        </div>\n        <div className=\"form-group form-row\">\n            <ConfInput id=\"simplex_surface_noise\" checked={data.simplex_surface_noise} onChange={handleChange}>Simplex surface noise</ConfInput>\n            <ConfInput id=\"random_density_offset\" checked={data.random_density_offset || false} onChange={handleChange}>Random density offset</ConfInput>\n            <ConfInput id=\"island_noise_override\" checked={data.island_noise_override || false} onChange={handleChange}>Island noise override</ConfInput>\n            <ConfInput id=\"amplified\" checked={data.amplified || false} onChange={handleChange}>Amplified</ConfInput>\n        </div>\n\n        <NoiseSamplingConfig data={data.sampling} onChange={handleSamplingChange}>Sampling</NoiseSamplingConfig>\n        <SlideConfig data={data.top_slide} onChange={handleTopSlideChange}>Top slide</SlideConfig>\n        <SlideConfig data={data.bottom_slide} onChange={handleBottomSlideChange}>Bottom slide</SlideConfig>\n    </fieldset>\n});\n\nconst NoiseSamplingConfig = React.memo(function ({ children, data, onChange }) {\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"xz_scale\" value={data.xz_scale} min={0.001} max={1000} step={0.1} upChange={onChange}>XY scale</NumberInput>\n            <NumberInput id=\"y_scale\" value={data.y_scale} min={0.001} max={1000} step={0.1} upChange={onChange}>Y scale</NumberInput>\n            <NumberInput id=\"xz_factor\" value={data.xz_factor} min={0.001} max={1000} step={0.1} upChange={onChange}>XZ factor</NumberInput>\n            <NumberInput id=\"y_factor\" value={data.y_factor} min={0.001} max={1000} step={0.1} upChange={onChange}>Y factor</NumberInput>\n        </div>\n    </fieldset>\n});\n\nconst SlideConfig = React.memo(function ({ children, data, onChange }) {\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"target\" value={data.target} upChange={onChange} min={INT_MIN_VALUE}>Target</NumberInput>\n            <NumberInput id=\"size\" value={data.size} upChange={onChange} max={256}>Size</NumberInput>\n            <NumberInput id=\"offset\" value={data.offset} upChange={onChange} min={INT_MIN_VALUE}>Offset</NumberInput>\n        </div>\n    </fieldset>\n});\n","import { CHUNK_GENERATOR_TYPES, DIMENSION } from './DimensionDefaults';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nimport { BiomeSource } from './BiomeSource';\nimport { ConfInput } from '../../ui/Input';\nimport { FlatChunkSettings } from './FlatChunkSettings';\nimport { NoiseGenerator } from '../noise/NoiseSettings';\nimport Select from '../../ui/Select';\nimport { hashCode } from './../../utils/hash';\n\nexport function DimensionGenerator({generator, onChange}) {\n\n    const [previousGenerator, setPreviousGenerator] = useState({ type: null });\n\n    const handleChunkGeneratorChange = useCallback(function(option) {\n        if (option.value === previousGenerator.type) {\n            onChange(previousGenerator);\n        } else if (option.value === 'minecraft:noise') {\n            onChange(DIMENSION.generator);\n        } else {\n            onChange({ type: option.value });\n        }\n        setPreviousGenerator(generator);\n    }, [generator, previousGenerator, onChange]);\n\n    const handleSeedChange = useCallback(function(seed) {\n        onChange({ ...generator, seed });\n    }, [generator, onChange]);\n    const handleSettingsChange = useCallback(function(settings) {\n        onChange({ ...generator, settings });\n    }, [generator, onChange]);\n    const handleBiomeSourceChange = useCallback(function(biome_source) {\n        onChange({ ...generator, biome_source });\n    }, [generator, onChange]);\n\n    return <fieldset>\n        <legend style={{ fontWeight: 'normal', width: '28ch', fontSize: '1.05rem' }}><Select options={CHUNK_GENERATOR_TYPES} value={CHUNK_GENERATOR_TYPES.find(o => generator.type === o.value)} onChange={handleChunkGeneratorChange} /></legend>\n        <div className=\"form-group\">\n            {generator.type === 'minecraft:noise' && <>\n                <SeedField value={generator.seed} onChange={handleSeedChange} />\n                <NoiseGenerator settings={generator.settings} onChange={handleSettingsChange} />\n                <BiomeSource source={generator.biome_source} onChange={handleBiomeSourceChange} />\n            </>}\n            {generator.type === 'minecraft:flat' &&\n                <FlatChunkSettings settings={generator.settings} onChange={handleSettingsChange} />\n            }\n        </div>\n    </fieldset>;\n}\n\nexport const SeedField = React.memo(function({onChange, value}) {\n    const [text, setText] = useState(value || 286956243);\n\n    const handleChange = useCallback(function(e) {\n        const value = e.target.value;\n        setText(value);\n        onChange(isNaN(value) ? hashCode(value) : parseInt(value));\n    }, [onChange]);\n\n    useEffect(() => {\n        if (typeof value !== 'number') {\n            onChange(286956243);\n        }\n    }, [onChange, value]);\n\n    return <div className=\"form-group\">\n        <ConfInput type=\"text\" id=\"seed\" value={text} onChange={handleChange}>Seed</ConfInput>\n    </div>\n});\n","import { ConfInput, NumberInput } from '../../ui/Input';\nimport { DIMENSION_TYPE_EFFECTS, DIMENSION_TYPE_INFINIBURN, OVERWORLD_CAVES_DIMENSION_TYPE, OVERWORLD_DIMENSION_TYPE, THE_END_DIMENSION_TYPE, THE_NETHER_DIMENSION_TYPE } from './DimensionDefaults';\nimport React, { useCallback, useContext, useState } from 'react';\n\nimport { Button } from '../../ui/Button';\nimport { DataContext } from '../../context/DataContext';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { Modal } from '../../ui/Modal';\nimport { NamespacedKey } from '../NamespacedKey';\nimport Select from '../../ui/Select';\nimport { useKeyedListOptions } from '../../hooks/context';\nimport { useToggle } from '../../hooks/ui';\n\nexport function DimensionType({ type = 'minecraft:overworld', onChange }) {\n    const [open, toggleModal] = useToggle();\n    const options = useKeyedListOptions('dimension_types').map(option => {\n        option.resource = option.value;\n        return option;\n    });\n\n    if (typeof type === 'object') {\n        options.push({ value: 'inline', label: 'inline', resource: type });\n    }\n\n    const handleTypeChange = useCallback(function (option) {\n        onChange(option.resource);\n    }, [onChange]);\n    const handleNewClick = useCallback(function (e) {\n        e.preventDefault();\n        toggleModal(true);\n    }, [toggleModal]);\n    const handleTypeCreated = useCallback(function (type) {\n        onChange(type.key);\n        toggleModal(false);\n    }, [onChange, toggleModal]);\n\n    return <div className=\"form-group\">\n        <label htmlFor=\"dimension-type\">Dimension type <Button onClick={handleNewClick}>Create new</Button></label>\n        <Select inputId=\"dimension-type\" options={options} value={options.find(o => o.resource === type)} onChange={handleTypeChange} />\n        {open && <Modal open={open} onClose={toggleModal}>\n            <DimensionTypeForm onSave={handleTypeCreated} />\n        </Modal>}\n    </div>;\n}\n\nexport function DimensionTypeForm({ data = OVERWORLD_DIMENSION_TYPE, onSave }) {\n    const [config, setConfig] = useState(data);\n\n    const handleVanillaSelect = useCallback(function (value) {\n        setConfig({\n            ...{\n                'minecraft:overworld': OVERWORLD_DIMENSION_TYPE,\n                'minecraft:overworld_caves': OVERWORLD_CAVES_DIMENSION_TYPE,\n                'minecraft:the_nether': THE_NETHER_DIMENSION_TYPE,\n                'minecraft:the_end': THE_END_DIMENSION_TYPE\n            }[value]\n        });\n    }, []);\n    const handleNumberChange = useCallback(function (value) {\n        setConfig(config => ({ ...config, ...value }))\n    }, []);\n    const handleSelectChange = useCallback(function (name, option) {\n        setConfig(config => ({ ...config, [name]: option.value }))\n    }, []);\n    const handleCheckboxChange = useCallback(function (e) {\n        const name = e.target.dataset.name;\n        const checked = e.target.checked;\n        setConfig(config => ({ ...config, [name]: checked }))\n    }, []);\n    const handleFixedTimeToggle = useCallback(function (e) {\n        if (e.target.checked) {\n            setConfig(config => ({ ...config, fixed_time: 18000 }));\n        } else {\n            setConfig((({ fixed_time, ...config }) => config));\n        }\n    }, []);\n\n    const updateDimensionTypes = useContext(DataContext).custom.updateDimensionTypes;\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const d = ({\n            ...config,\n            ...Object.fromEntries(new FormData(e.target))\n        });\n        updateDimensionTypes(d, data);\n        if (typeof onSave === 'function') {\n            onSave(d);\n        }\n    }, [config, data, onSave, updateDimensionTypes]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"typed\" type=\"dimension_types\" value={data.key} onSelect={handleVanillaSelect} expectBreakage={typeof data.key !== 'undefined'}>\n            dimension type\n            <JsonViewer data={config} />\n        </NamespacedKey>\n        <fieldset>\n            <legend>Light</legend>\n            <div className=\"form-row\">\n                <NumberInput id=\"ambient_light\" value={config.ambient_light} upChange={handleNumberChange} step=\"0.1\">Ambient light</NumberInput>\n                <ConfInput id=\"has_skylight\" checked={config.has_skylight} onChange={handleCheckboxChange}>Has skylight</ConfInput>\n            </div>\n        </fieldset>\n        <fieldset>\n            <legend>Apparence</legend>\n            <div className=\"form-row\">\n                <InfiniburnIdentifier value={config.infiniburn} onChange={handleSelectChange} inputId=\"infiniburn\" />\n                <div>\n                    <label htmlFor=\"effects\">Sky effects : </label>\n                    <div className=\"inbl\" style={{ width: '16ch' }}>\n                        <Select options={DIMENSION_TYPE_EFFECTS} value={DIMENSION_TYPE_EFFECTS.find(o => config.effects === o.value) || DIMENSION_TYPE_EFFECTS[0]} onChange={o => handleSelectChange('effects', o)} inputId=\"effects\" />\n                    </div>\n                </div>\n            </div>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"logical_height\" value={config.logical_height} upChange={handleNumberChange} max={256} title=\"Logical height from vanilla dimensions cannot be replaced due to MC-197338.\">Logical height</NumberInput>\n                <div className=\"form-row\">\n                    {typeof config.fixed_time !== 'number' && <label htmlFor=\"fixed_time-toggle\">Fixed time : </label>}\n                    {typeof config.fixed_time === 'number' && <NumberInput id=\"fixed_time\" value={config.fixed_time} upChange={handleNumberChange} step={1200}>Fixed time</NumberInput>}\n                    <input type=\"checkbox\" checked={typeof config.fixed_time === 'number'} onChange={handleFixedTimeToggle} className=\"checkbox\" id=\"fixed_time-toggle\" />\n                </div>\n            </div>\n            <p style={{ marginBottom: 0, textAlign: 'center' }}><small className=\"text-muted\">These settings are only used for appearance and some game mechanics<br />such as chorus fruits tp. To modify the world generation, change the noise parameters.</small></p>\n        </fieldset>\n        <fieldset>\n            <legend>Overworld related behavior</legend>\n            <div className=\"form-row\">\n                <ConfInput id=\"bed_works\" checked={config.bed_works} onChange={handleCheckboxChange}>Bed works</ConfInput>\n                <ConfInput id=\"has_raids\" checked={config.has_raids} onChange={handleCheckboxChange}>Has raids</ConfInput>\n                <ConfInput id=\"natural\" checked={config.natural} onChange={handleCheckboxChange}>Natural</ConfInput>\n            </div>\n        </fieldset>\n        <fieldset>\n            <legend>Nether related behavior</legend>\n            <div className=\"form-row\">\n                <ConfInput id=\"has_ceiling\" checked={config.has_ceiling} onChange={handleCheckboxChange}>Has ceiling</ConfInput>\n                <NumberInput id=\"coordinate_scale\" value={config.coordinate_scale} upChange={handleNumberChange} min={10 ** -5} max={10 ** 7} step={0.1}>Coordinate scale</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"respawn_anchor_works\" checked={config.respawn_anchor_works} onChange={handleCheckboxChange}>Respawn anchor works</ConfInput>\n                <ConfInput id=\"piglin_safe\" checked={config.piglin_safe} onChange={handleCheckboxChange}>Piglin safe</ConfInput>\n                <ConfInput id=\"ultrawarm\" checked={config.ultrawarm} onChange={handleCheckboxChange}>Ultrawarm</ConfInput>\n            </div>\n        </fieldset>\n        <Button type=\"submit\">Save</Button>\n    </form>;\n}\n\nfunction InfiniburnIdentifier({ inputId, onChange, value }) {\n    return <div>\n        <label htmlFor={inputId}>Infiniburn : </label>\n        <div className=\"inbl\" style={{ width: '16ch' }}>\n            <Select options={DIMENSION_TYPE_INFINIBURN} value={DIMENSION_TYPE_INFINIBURN.find(o => value === o.value) || DIMENSION_TYPE_INFINIBURN[0]} onChange={o => onChange('infiniburn', o)} inputId={inputId} />\n        </div>\n    </div>\n}\n","import React, { useCallback, useState } from 'react';\n\nimport { Button } from '../../ui/Button';\nimport { DIMENSION } from './DimensionDefaults';\nimport { DimensionGenerator } from './DimensionGenerator';\nimport { DimensionType } from './DimensionType';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { NamespacedKey } from '../NamespacedKey';\n\nexport function Dimension({data = DIMENSION, onSave}) {\n\n    const [state, setState] = useState(data);\n\n    const handleTypeChange = useCallback(function(type) {\n        setState(state => ({ ...state, type }));\n    }, []);\n    const handleGeneratorChange = useCallback(function(generator) {\n        setState(state => ({ ...state, generator }));\n    }, []);\n\n    const handleVanillaSelect = function(dimension) {\n        if (state.generator.type === 'minecraft:noise') {\n            dimension.generator.seed = state.generator.seed;\n            dimension.generator.biome_source.seed = state.generator.biome_source.seed;\n        } else {\n            dimension.generator.seed = 286956243;\n            dimension.generator.biome_source.seed = 286956243;\n        }\n        setState(dimension);\n    };\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        onSave({\n            ...state,\n            ...Object.fromEntries(new FormData(e.target))\n        });\n    }, [onSave, state])\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"blue_dimension\" type=\"dimensions\" value={data.key} onSelectLoad={handleVanillaSelect}>\n            dimension\n            <JsonViewer data={state} />\n        </NamespacedKey>\n        <DimensionType type={state.type} onChange={handleTypeChange} />\n        <DimensionGenerator generator={state.generator} onChange={handleGeneratorChange} />\n        <Button type=\"submit\">Save</Button>\n    </form>\n}","import React, { useCallback, useMemo } from \"react\";\n\nimport { NumberInput } from \"../../ui/Input\";\nimport Select from \"../../ui/Select\";\n\nexport const PositionPredicate = React.memo(function ({ className = 'form-group', onChange, predicate = { predicate_type: 'minecraft:always_true' } }) {\n\n    const handleTypeChange = useCallback(function (option) {\n        onChange({ predicate_type: option.value }, predicate);\n    }, [onChange, predicate]);\n    const handleChange = useCallback(function (value) {\n        onChange({ ...predicate, ...value }, predicate);\n    }, [onChange, predicate]);\n\n    const options = useMemo(function () {\n        return [\n            { value: 'minecraft:always_true', label: 'Always true' },\n            { value: 'minecraft:linear_pos', label: 'Linear pos' },\n            { value: 'minecraft:axis_aligned_linear_pos', label: 'Axis aligned linear pos' }\n        ];\n    }, []);\n\n    const type = predicate.predicate_type;\n    return <div className={className}>\n        <label>Predicate type</label>\n        <Select options={options} value={options.find(o => o.value === type)} onChange={handleTypeChange} />\n        {type === 'minecraft:linear_pos' && <LinearPosPredicate predicate={predicate} onChange={handleChange} />}\n        {type === 'minecraft:axis_aligned_linear_pos' && <AxisAlignedLinearPos predicate={predicate} onChange={handleChange} />}\n    </div>\n});\n\n\nconst LinearPosPredicate = React.memo(function ({ children, onChange, predicate }) {\n    return <div className=\"form-group form-row\">\n        <NumberInput id=\"min_chance\" value={predicate.min_chance} step={0.1} upChange={onChange} required={false}>Min chance</NumberInput>\n        <NumberInput id=\"max_chance\" value={predicate.max_chance} step={0.1} upChange={onChange} required={false}>Max chance</NumberInput>\n        <NumberInput id=\"min_dist\" value={predicate.min_dist} upChange={onChange} required={false}>Min dist</NumberInput>\n        <NumberInput id=\"max_dist\" value={predicate.max_dist} upChange={onChange} required={false}>Min dist</NumberInput>\n        {children}\n    </div>\n});\n\nconst AxisAlignedLinearPos = React.memo(function ({ children, onChange, predicate }) {\n    const options = ['x', 'y', 'z'].map(axis => ({ value: axis, label: axis }));\n\n    const handleAxisChange = useCallback(function (option) {\n        onChange({ axis: option.value }, predicate);\n    }, [onChange, predicate]);\n\n    return <LinearPosPredicate predicate={predicate} onChange={onChange}>\n        <div className=\"form-row\">\n            <label htmlFor=\"axis\">Axis :&nbsp;</label>\n            <Select options={options} value={options.find(o => predicate.axis === o.value) || options[1]} onChange={handleAxisChange} inputId=\"axis\" />\n        </div>\n        {children}\n    </LinearPosPredicate>\n});\n","import { BlockState, BlocksList } from \"../state/BlockState\";\nimport { CRUD, useCrudPreset, useCrudState, useJsonEffect } from \"../../hooks/form\";\nimport { PROCESSORS_OPTIONS, PROCESSOR_RULE_DEFAULTS } from './ProcessorDefaults';\nimport React, { useCallback, useContext } from \"react\";\n\nimport { BlockPredicate } from \"../state/BlockPredicate\";\nimport { Button } from \"../../ui/Button\";\nimport { DataContext } from \"../../context/DataContext\";\nimport { JsonViewer } from \"../../ui/JsonViewer\";\nimport { NamespacedKey } from \"../NamespacedKey\";\nimport { NumberInput } from \"../../ui/Input\";\nimport { PositionPredicate } from './PositionPredicate';\nimport Select from \"../../ui/Select\";\n\nexport function ProcessorList({ data = { processors: [] }, onSave }) {\n\n    const [processors, dispatch] = useCrudState(data.processors, function (processors) {\n        if (processors.length < 1) {\n            return { processor_type: 'minecraft:rule' };\n        }\n        // Get the first non taken processor\n        return { processor_type: (PROCESSORS_OPTIONS.filter(o => !processors.some(d => d.processor_type === o.value))[0] || { value: 'minecraft:rule' }).value };\n    });\n\n    const handleAdd = useCallback(function (e) {\n        e.preventDefault();\n        let processor_type = 'minecraft:rule';\n        if (processors.length > 0) {\n            processor_type = (PROCESSORS_OPTIONS.filter(o => !processors.some(d => d.processor_type === o.value))[0] || { value: 'minecraft:rule' }).value;\n        }\n        dispatch({ type: CRUD.ADD, payload: { processor_type } });\n    }, [dispatch, processors]);\n    const handleChange = useCallback(function (processor, previous) {\n        dispatch({ type: CRUD.UPDATE, target: previous, payload: processor });\n    }, [dispatch]);\n    const handleRemove = useCallback(function (e, processor) {\n        e.preventDefault();\n        dispatch({ type: CRUD.REMOVE, payload: processor });\n    }, [dispatch]);\n\n    const handleVanillaSelect = useCallback(function (processor_list) {\n        dispatch({ type: CRUD.REPLACE, payload: processor_list.processors });\n    }, [dispatch]);\n\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        onSave({\n            processors,\n            ...Object.fromEntries(new FormData(e.target))\n        }, data);\n    }, [data, onSave, processors]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"concretify\" type=\"processors\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} defaultReplace={true} onSelectLoad={handleVanillaSelect}>\n            processors list\n            <JsonViewer data={{ processors }} />\n            {(processors.length > 0 && PROCESSORS_OPTIONS.length > processors.length) && <Button onClick={handleAdd}>Add processor</Button>}\n        </NamespacedKey>\n        <div className=\"mtm mbm\">\n            {processors.map(processor => {\n                const options = PROCESSORS_OPTIONS.filter(o => processor.processor_type === o.value || !processors.some(p => p.processor_type === o.value));\n                return <StructureProcessor onChange={handleChange} processor={processor} options={options} key={JSON.stringify(processor)}>\n                    <Button cat=\"danger mls\" onClick={e => handleRemove(e, processor)}>Remove</Button>\n                </StructureProcessor>\n            })}\n            {processors.length < 1 && <p className=\"pts mll text-muted\">To begin, <a href=\"#add-processor\" onClick={handleAdd} style={{ color: 'inherit' }}>add a processor</a>...</p>}\n        </div>\n        {processors.length > 0 && <Button type=\"submit\">Save</Button>}\n    </form>\n}\n\nconst StructureProcessor = React.memo(function ({ children, processor = { processor_type: 'minecraft:block_age' }, onChange, options }) {\n\n    const handleSelectChange = useCallback(function (option) {\n        onChange({ processor_type: option.value }, processor);\n    }, [processor, onChange]);\n    const handleChange = useCallback(function (config) {\n        onChange({ ...processor, ...config }, processor);\n    }, [processor, onChange]);\n\n    const blocks = useContext(DataContext).vanilla.blocks;\n    const handleAddBlockClick = useCallback(function (e) {\n        e.preventDefault();\n        onChange({ ...processor, blocks: [...(processor.blocks || []), { Name: 'minecraft:' + (blocks.find(o => !(processor.blocks || []).some(b => b.Name.substr(10) === o.name)) || { name: 'stone' }).name }] }, processor);\n    }, [blocks, onChange, processor]);\n    const handleAddProcessorClick = useCallback(function (e) {\n        e.preventDefault();\n        onChange({ ...processor, rules: [...(processor.rules || []), PROCESSOR_RULE_DEFAULTS] }, processor);\n    }, [onChange, processor]);\n\n    const type = processor.processor_type;\n    const CustomTag = ['minecraft:jigsaw_replacement', 'minecraft:nop', 'minecraft:blackstone_replace', 'minecraft:lava_submerged_block'].includes(type) ? ({ children }) => <li style={{ marginTop: '1.5rem', marginLeft: '1.6rem' }}>{children}</li> : 'fieldset';\n    return <CustomTag>\n        <legend style={{ fontWeight: 'normal', fontSize: '1rem' }}>\n            <div className=\"inbl\" style={{ width: '28ch' }}><Select options={options} value={options.find(o => type === o.value)} onChange={handleSelectChange} /></div>\n            {type === 'minecraft:block_ignore' && <Button cat=\"primary mls\" onClick={handleAddBlockClick}>Add block</Button>}\n            {type === 'minecraft:rule' && <Button cat=\"primary mls\" onClick={handleAddProcessorClick}>Add processor</Button>}\n            {children}\n        </legend>\n        {type === 'minecraft:block_age' && <BlockAgeProcessor onChange={handleChange} processor={processor} />}\n        {type === 'minecraft:block_ignore' && <BlockIgnoreProcessor onChange={handleChange} processor={processor} />}\n        {type === 'minecraft:block_rot' && <BlockRotProcessor onChange={handleChange} processor={processor} />}\n        {type === 'minecraft:gravity' && <BlockGravityProcessor onChange={handleChange} processor={processor} />}\n        {type === 'minecraft:rule' && <RuleProcessor onChange={handleChange} processor={processor} />}\n    </CustomTag>;\n});\n\n// BlackstoneReplacementProcessor: empty config\n\nconst BlockAgeProcessor = React.memo(function ({ onChange, processor }) {\n    return <NumberInput id=\"mossiness\" value={processor.mossiness} defaultValue={0.05} step={0.05} upChange={onChange}>Mossiness</NumberInput>\n});\n\nconst BlockIgnoreProcessor = React.memo(function ({ onChange, processor }) {\n    const handleChange = useCallback(blocks => onChange({ blocks }), [onChange])\n\n    return <BlocksList addButton={false} list={processor.blocks} onChange={handleChange} />\n});\n\nconst BlockRotProcessor = React.memo(function ({ onChange, processor }) {\n    return <NumberInput id=\"integrity\" value={processor.integrity} defaultValue={0.05} step={0.05} upChange={onChange}>Integrity</NumberInput>\n});\n\nconst BlockGravityProcessor = React.memo(function ({ onChange, processor }) {\n    // @todo heightmap\n    return <NumberInput id=\"offset\" value={processor.offset} upChange={onChange}>Offset</NumberInput>\n});\n\n// JigsawReplacementProcessor: empty config\n// LavaSubmergedBlockProcessor: empty config\n// NopProcessor: empty config\n\nconst RuleProcessor = React.memo(function ({ onChange, processor }) {\n    const [rules, , handleChange, handleRemove] = useCrudPreset(rules => onChange({ rules }), processor.rules, PROCESSOR_RULE_DEFAULTS);\n\n    return <div>\n        {rules.map((rule, index) =>\n            <ProcessorRule rule={rule} key={index} onChange={handleChange}>\n                <Button cat=\"danger\" onClick={e => handleRemove(e, index)}>Remove</Button>\n            </ProcessorRule>)}\n    </div>\n});\n\nconst ProcessorRule = React.memo(function ({ children, onChange, rule }) {\n    rule = useJsonEffect(rule || PROCESSOR_RULE_DEFAULTS, rule, onChange);\n\n    const handleInputPredicate = useCallback(function (input_predicate) {\n        onChange({ ...rule, input_predicate }, rule);\n    }, [onChange, rule]);\n    const handleLocationPredicate = useCallback(function (location_predicate) {\n        onChange({ ...rule, location_predicate }, rule);\n    }, [onChange, rule]);\n    const handlePositionPredicate = useCallback(function (position_predicate) {\n        onChange({ ...rule, position_predicate }, rule);\n    }, [onChange, rule]);\n    const handleOutputState = useCallback(function (output_state) {\n        onChange({ ...rule, output_state }, rule);\n    }, [onChange, rule]);\n\n    return <fieldset>\n        <legend>{children}</legend>\n        <fieldset>\n            <legend>Input predicate</legend>\n            <BlockPredicate target={rule.input_predicate} onChange={handleInputPredicate} />\n        </fieldset>\n        <div className=\"grid-2-small-1 has-gutter mbm\">\n            <fieldset>\n                <legend>Location predicate</legend>\n                <BlockPredicate target={rule.location_predicate} onChange={handleLocationPredicate} />\n            </fieldset>\n            <fieldset>\n                <legend>Position predicate</legend>\n                <PositionPredicate predicate={rule.position_predicate} className=\"\" onChange={handlePositionPredicate} />\n            </fieldset>\n        </div>\n        <fieldset>\n            <legend>Output state</legend>\n            <BlockState block={rule.output_state} onChange={handleOutputState} />\n        </fieldset>\n    </fieldset>\n});\n","export const TREE_DECORATORS_OPTIONS = [\n    { value: 'alter_ground', label: 'Alter ground' },\n    { value: 'beehive', label: 'Beehive', default: { probability: 0.02 } },\n    { value: 'cocoa', label: 'Cocoa beans', default: { probability: 0.2 } },\n    { value: 'leave_vine', label: 'Leave vine' },\n    { value: 'trunk_vine', label: 'Trunk vine' }\n].map(o => {\n    o.value = 'minecraft:' + o.value;\n    return o;\n});\n\nexport const BLOCK_PILE_FEATURE_CONFIG = {\n    state_provider: {\n        state: {\n            Properties: {\n                axis: \"y\"\n            },\n            Name: \"minecraft:hay_block\"\n        },\n        type: \"minecraft:rotated_block_provider\"\n    }\n};\n\nexport const HUGE_FUNGUS_FEATURE_CONFIG = {\n    hat_state: {\n        Name: \"minecraft:nether_wart_block\"\n    },\n    decor_state: {\n        Name: \"minecraft:shroomlight\"\n    },\n    planted: false,\n    valid_base_block: {\n        Name: \"minecraft:crimson_nylium\"\n    },\n    stem_state: {\n        Properties: {\n            axis: \"y\"\n        },\n        Name: \"minecraft:crimson_stem\"\n    }\n};\n\nexport const ORE_FEATURE_CONFIG = {\n    target: {\n        tag: \"minecraft:base_stone_overworld\",\n        predicate_type: \"minecraft:tag_match\"\n    },\n    state: {\n        Name: \"minecraft:gold_ore\"\n    },\n    size: 30\n};\n\nexport const SPRING_FEATURE_CONFIG = {\n    rock_count: 4,\n    hole_count: 1,\n    valid_blocks: [\n        \"minecraft:stone\",\n        \"minecraft:granite\",\n        \"minecraft:diorite\",\n        \"minecraft:andesite\"\n    ],\n    state: {\n        Properties: {\n            falling: \"true\"\n        },\n        Name: \"minecraft:water\"\n    },\n    requires_block_below: true\n};\n\nexport const TREE_FEATURE_CONFIG = {\n    heightmap: \"OCEAN_FLOOR\",\n    minimum_size: {\n        limit: 1,\n        lower_size: 0,\n        upper_size: 1,\n        type: \"minecraft:two_layers_feature_size\"\n    },\n    decorators: [],\n    trunk_provider: {\n        state: {\n            Properties: {\n                axis: \"y\"\n            },\n            Name: \"minecraft:birch_log\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    leaves_provider: {\n        state: {\n            Properties: {\n                persistent: \"false\",\n                distance: \"7\"\n            },\n            Name: \"minecraft:birch_leaves\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    foliage_placer: {\n        radius: 2,\n        offset: 0,\n        height: 3,\n        type: \"minecraft:blob_foliage_placer\"\n    },\n    trunk_placer: {\n        base_height: 5,\n        height_rand_a: 2,\n        height_rand_b: 0,\n        type: \"minecraft:straight_trunk_placer\"\n    }\n};\n\nexport const RANDOM_PATCH_FEATURE_CONFIG = {\n    whitelist: [\n        {\n            Properties: {\n                snowy: \"false\"\n            },\n            Name: \"minecraft:grass_block\"\n        }\n    ],\n    blacklist: [],\n    tries: 64,\n    state_provider: {\n        state: {\n            Name: \"minecraft:pumpkin\"\n        },\n        type: \"minecraft:simple_state_provider\"\n    },\n    block_placer: {\n        type: \"minecraft:simple_block_placer\"\n    }\n};\n","import { BLOCK_PILE_FEATURE_CONFIG, HUGE_FUNGUS_FEATURE_CONFIG, ORE_FEATURE_CONFIG, RANDOM_PATCH_FEATURE_CONFIG, SPRING_FEATURE_CONFIG, TREE_FEATURE_CONFIG } from \"./config/FeatureConfigDefaults\";\n\nexport const DECORATED_BAMBOO = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {\n                                probability: 0.2\n                            },\n                            type: \"minecraft:bamboo\"\n                        },\n                        decorator: {\n                            config: {},\n                            type: \"minecraft:heightmap_world_surface\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                noise_to_count_ratio: 160,\n                noise_factor: 80.0,\n                noise_offset: 0.3\n            },\n            type: \"minecraft:count_noise_biased\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_BASALT_COLUMNS = {\n    config: {\n        feature: {\n            config: {\n                reach: 1,\n                height: {\n                    base: 1,\n                    spread: 3\n                }\n            },\n            type: \"minecraft:basalt_columns\"\n        },\n        decorator: {\n            config: {\n                count: 4\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_BASALT_PILLAR = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:basalt_pillar\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_BLOCK_PILE = {\n    config: {\n        feature: {\n            type: \"minecraft:decorated\",\n            config: {\n                decorator: {\n                    type: \"minecraft:count_multilayer\",\n                    config: {\n                        \"count\": 2\n                    }\n                },\n                feature: {\n                    config: BLOCK_PILE_FEATURE_CONFIG,\n                    type: \"minecraft:block_pile\"\n                }\n            }\n        },\n        decorator: {\n            type: \"minecraft:chance\",\n            config: {\n                chance: 12\n            }\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_BLUE_ICE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:blue_ice\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 30,\n                                top_offset: 32,\n                                maximum: 64\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: {\n                    base: 0,\n                    spread: 19\n                }\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_BONUS_CHEST = {\n    config: {},\n    type: \"minecraft:bonus_chest\"\n};\n\nexport const DECORATED_CHORUS_PLANT = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:chorus_plant\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: {\n                    base: 0,\n                    spread: 4\n                }\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_CORAL_CLAW = {\n    config: {},\n    type: \"minecraft:coral_claw\"\n};\n\nexport const DECORATED_CORAL_MUSHROOM = {\n    config: {},\n    type: \"minecraft:coral_mushroom\"\n};\n\nexport const DECORATED_CORAL_TREE = {\n    config: {},\n    type: \"minecraft:coral_tree\"\n};\n\nexport const DECORATED_DECORATED = {\n    config: {\n        feature: \"minecraft:end_island\",\n        decorator: {\n            config: {},\n            type: \"minecraft:end_island\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_DELTA_FEATURE = {\n    config: {\n        feature: {\n            config: {\n                contents: {\n                    Properties: {\n                        level: \"0\"\n                    },\n                    Name: \"minecraft:lava\"\n                },\n                rim: {\n                    Name: \"minecraft:magma_block\"\n                },\n                size: {\n                    base: 3,\n                    spread: 4\n                },\n                rim_size: {\n                    base: 0,\n                    spread: 2\n                }\n            },\n            type: \"minecraft:delta_feature\"\n        },\n        decorator: {\n            config: {\n                count: 40\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_DESERT_WELL = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:desert_well\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 1000\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_DISK = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:sand\"\n                        },\n                        radius: {\n                            base: 2,\n                            spread: 4\n                        },\n                        half_height: 2,\n                        targets: [\n                            {\n                                Name: \"minecraft:dirt\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:grass_block\"\n                            }\n                        ]\n                    },\n                    type: \"minecraft:disk\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:top_solid_heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 3\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_EMERALD_ORE = {\n    config: {\n        feature: {\n            config: {\n                target: {\n                    Name: \"minecraft:stone\"\n                },\n                state: {\n                    Name: \"minecraft:emerald_ore\"\n                }\n            },\n            type: \"minecraft:emerald_ore\"\n        },\n        decorator: {\n            config: {},\n            type: \"minecraft:emerald_ore\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_END_GATEWAY = {\n    config: {\n        feature: {\n            config: {\n                exit: [100, 50, 0],\n                exact: true\n            },\n            type: \"minecraft:end_gateway\"\n        },\n        decorator: {\n            config: {},\n            type: \"minecraft:end_gateway\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_END_ISLAND = {\n    config: {\n        feature: {\n            config: {},\n            type: \"minecraft:end_island\"\n        },\n        decorator: {\n            config: {},\n            type: \"minecraft:end_island\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_END_SPIKE = {\n    config: {\n        crystal_invulnerable: false,\n        spikes: []\n    },\n    type: \"minecraft:end_spike\"\n};\n\nexport const DECORATED_FILL_LAYER = {\n    config: {\n        height: 64,\n        state: {\n            Name: \"minecraft:green_concrete\"\n        }\n    },\n    type: \"minecraft:fill_layer\"\n};\n\nexport const DECORATED_FLOWER = {\n    config: {\n        whitelist: [],\n        blacklist: [],\n        tries: 64,\n        state_provider: {\n            type: \"minecraft:plain_flower_provider\"\n        },\n        block_placer: {\n            type: \"minecraft:simple_block_placer\"\n        }\n    },\n    type: \"minecraft:flower\"\n};\n\nexport const DECORATED_FOREST_ROCK = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:mossy_cobblestone\"\n                        }\n                    },\n                    type: \"minecraft:forest_rock\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: {\n                    base: 0,\n                    spread: 2\n                }\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_FOSSIL = {\n    config: {\n        feature: {\n            config: {},\n            type: \"minecraft:fossil\"\n        },\n        decorator: {\n            config: {\n                chance: 64\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_FREEZE_TOP_LAYER = {\n    config: {},\n    type: \"minecraft:freeze_top_layer\"\n};\n\nexport const DECORATED_GLOWSTONE_BLOB = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:glowstone_blob\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_HUGE_BROWN_MUSHROOM = {\n    config: {\n        cap_provider: {\n            state: {\n                Properties: {\n                    west: \"true\",\n                    up: \"true\",\n                    south: \"true\",\n                    north: \"true\",\n                    east: \"true\",\n                    down: \"false\"\n                },\n                Name: \"minecraft:brown_mushroom_block\"\n            },\n            type: \"minecraft:simple_state_provider\"\n        },\n        stem_provider: {\n            state: {\n                Properties: {\n                    west: \"true\",\n                    up: \"false\",\n                    south: \"true\",\n                    north: \"true\",\n                    east: \"true\",\n                    down: \"false\"\n                },\n                Name: \"minecraft:mushroom_stem\"\n            },\n            type: \"minecraft:simple_state_provider\"\n        },\n        foliage_radius: 3\n    },\n    type: \"minecraft:huge_brown_mushroom\"\n};\n\nexport const DECORATED_HUGE_FUNGUS = {\n    config: {\n        feature: {\n            config: {\n                hat_state: {\n                    Name: \"minecraft:nether_wart_block\"\n                },\n                decor_state: {\n                    Name: \"minecraft:shroomlight\"\n                },\n                planted: false,\n                valid_base_block: {\n                    Name: \"minecraft:crimson_nylium\"\n                },\n                stem_state: {\n                    Properties: {\n                        axis: \"y\"\n                    },\n                    Name: \"minecraft:crimson_stem\"\n                }\n            },\n            type: \"minecraft:huge_fungus\"\n        },\n        decorator: {\n            config: {\n                count: 8\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_HUGE_RED_MUSHROOM = {\n    config: {\n        feature: {\n            config: HUGE_FUNGUS_FEATURE_CONFIG,\n            type: \"minecraft:huge_fungus\"\n        },\n        decorator: {\n            config: {\n                count: 8\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ICEBERG = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:packed_ice\"\n                        }\n                    },\n                    type: \"minecraft:iceberg\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:iceberg\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 16\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ICE_PATCH = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        state: {\n                            Name: \"minecraft:packed_ice\"\n                        },\n                        radius: {\n                            base: 2,\n                            spread: 1\n                        },\n                        half_height: 1,\n                        targets: [\n                            {\n                                Name: \"minecraft:dirt\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:grass_block\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:podzol\"\n                            },\n                            {\n                                Name: \"minecraft:coarse_dirt\"\n                            },\n                            {\n                                Properties: {\n                                    snowy: \"false\"\n                                },\n                                Name: \"minecraft:mycelium\"\n                            },\n                            {\n                                Name: \"minecraft:snow_block\"\n                            },\n                            {\n                                Name: \"minecraft:ice\"\n                            }\n                        ]\n                    },\n                    type: \"minecraft:ice_patch\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 2\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_ICE_SPIKE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:ice_spike\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 3\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_KELP = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:kelp\"\n                        },\n                        decorator: {\n                            config: {},\n                            type: \"minecraft:top_solid_heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                noise_to_count_ratio: 80,\n                noise_factor: 80.0,\n                noise_offset: 0.0\n            },\n            type: \"minecraft:count_noise_biased\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_LAKE = {\n    config: {\n        feature: {\n            config: {\n                state: {\n                    Properties: {\n                        level: \"0\"\n                    },\n                    Name: \"minecraft:water\"\n                }\n            },\n            type: \"minecraft:lake\"\n        },\n        decorator: {\n            config: {\n                chance: 4\n            },\n            type: \"minecraft:water_lake\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_MONSTER_ROOM = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:monster_room\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 256\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 8\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_NETHER_FOREST_VEGETATION = {\n    config: {\n        feature: {\n            config: {\n                state_provider: {\n                    entries: [\n                        {\n                            weight: 87,\n                            data: {\n                                Name: \"minecraft:crimson_roots\"\n                            }\n                        },\n                        {\n                            weight: 11,\n                            data: {\n                                Name: \"minecraft:crimson_fungus\"\n                            }\n                        },\n                        {\n                            weight: 1,\n                            data: {\n                                Name: \"minecraft:warped_fungus\"\n                            }\n                        }\n                    ],\n                    type: \"minecraft:weighted_state_provider\"\n                }\n            },\n            type: \"minecraft:nether_forest_vegetation\"\n        },\n        decorator: {\n            config: {\n                count: 6\n            },\n            type: \"minecraft:count_multilayer\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_NETHERRACK_REPLACE_BLOBS = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {\n                                target: {\n                                    Name: \"minecraft:netherrack\"\n                                },\n                                state: {\n                                    Properties: {\n                                        axis: \"y\"\n                                    },\n                                    Name: \"minecraft:basalt\"\n                                },\n                                radius: {\n                                    base: 3,\n                                    spread: 4\n                                }\n                            },\n                            type: \"minecraft:netherrack_replace_blobs\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 75\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_NO_BONEMEAL_FLOWER = {\n    config: {\n        whitelist: [],\n        blacklist: [],\n        tries: 64,\n        state_provider: {\n            state: {\n                Name: \"minecraft:lily_of_the_valley\"\n            },\n            type: \"minecraft:simple_state_provider\"\n        },\n        block_placer: {\n            type: \"minecraft:simple_block_placer\"\n        }\n    },\n    type: \"minecraft:no_bonemeal_flower\"\n};\n\nexport const DECORATED_NO_SURFACE_ORE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        target: {\n                            tag: \"minecraft:base_stone_nether\",\n                            predicate_type: \"minecraft:tag_match\"\n                        },\n                        state: {\n                            Name: \"minecraft:ancient_debris\"\n                        },\n                        size: 3\n                    },\n                    type: \"minecraft:no_surface_ore\"\n                },\n                decorator: {\n                    config: {\n                        baseline: 16,\n                        spread: 8\n                    },\n                    type: \"minecraft:depth_average\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {},\n            type: \"minecraft:square\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_NO_OP = {\n    config: {},\n    type: \"minecraft:no_op\"\n};\n\nexport const DECORATED_ORE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: ORE_FEATURE_CONFIG,\n                            type: \"minecraft:ore\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 32\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 2\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_RANDOM_BOOLEAN_SELECTOR = {\n    config: {\n        feature: {\n            config: {\n                feature_true: \"minecraft:huge_red_mushroom\",\n                feature_false: \"minecraft:huge_brown_mushroom\"\n            },\n            type: \"minecraft:random_boolean_selector\"\n        },\n        decorator: {\n            config: {\n                outer: {\n                    config: {},\n                    type: \"minecraft:square\"\n                },\n                inner: {\n                    config: {},\n                    type: \"minecraft:heightmap\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_RANDOM_PATCH = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: RANDOM_PATCH_FEATURE_CONFIG,\n                    type: \"minecraft:random_patch\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap_spread_double\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 32\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SEAGRASS = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        probability: 0.3\n                    },\n                    type: \"minecraft:seagrass\"\n                },\n                decorator: {\n                    config: {\n                        count: 48\n                    },\n                    type: \"minecraft:count\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                outer: {\n                    config: {},\n                    type: \"minecraft:square\"\n                },\n                inner: {\n                    config: {},\n                    type: \"minecraft:top_solid_heightmap\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SEA_PICKLE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        count: 20\n                    },\n                    type: \"minecraft:sea_pickle\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:top_solid_heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                chance: 16\n            },\n            type: \"minecraft:chance\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_RANDOM_SELECTOR = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        features: [\n                            {\n                                feature: \"minecraft:fancy_oak_bees_005\",\n                                chance: 0.334\n                            }\n                        ],\n                        default: \"minecraft:oak_bees_005\"\n                    },\n                    type: \"minecraft:random_selector\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 0,\n                extra_chance: 0.05,\n                extra_count: 1\n            },\n            type: \"minecraft:count_extra\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SIMPLE_BLOCK = {\n    config: {\n        feature: {\n            config: {\n                to_place: {\n                    Name: \"minecraft:seagrass\"\n                },\n                place_on: [\n                    {\n                        Name: \"minecraft:stone\"\n                    }\n                ],\n                place_in: [\n                    {\n                        Properties: {\n                            level: \"0\"\n                        },\n                        Name: \"minecraft:water\"\n                    }\n                ],\n                place_under: [\n                    {\n                        Properties: {\n                            level: \"0\"\n                        },\n                        Name: \"minecraft:water\"\n                    }\n                ]\n            },\n            type: \"minecraft:simple_block\"\n        },\n        decorator: {\n            config: {\n                step: \"liquid\",\n                probability: 0.1\n            },\n            type: \"minecraft:carving_mask\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SIMPLE_RANDOM_SELECTOR = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {\n                                features: [\n                                    {\n                                        config: {},\n                                        type: \"minecraft:coral_tree\"\n                                    },\n                                    {\n                                        config: {},\n                                        type: \"minecraft:coral_claw\"\n                                    },\n                                    {\n                                        config: {},\n                                        type: \"minecraft:coral_mushroom\"\n                                    }\n                                ]\n                            },\n                            type: \"minecraft:simple_random_selector\"\n                        },\n                        decorator: {\n                            config: {},\n                            type: \"minecraft:top_solid_heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                noise_to_count_ratio: 20,\n                noise_factor: 400.0,\n                noise_offset: 0.0\n            },\n            type: \"minecraft:count_noise_biased\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_SPRING_FEATURE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: SPRING_FEATURE_CONFIG,\n                            type: \"minecraft:spring_feature\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 8,\n                                top_offset: 8,\n                                maximum: 256\n                            },\n                            type: \"minecraft:range_biased\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 50\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_TREE = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: TREE_FEATURE_CONFIG,\n                    type: \"minecraft:tree\"\n                },\n                decorator: {\n                    config: {\n                        outer: {\n                            config: {},\n                            type: \"minecraft:square\"\n                        },\n                        inner: {\n                            config: {},\n                            type: \"minecraft:heightmap\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10,\n                extra_chance: 0.1,\n                extra_count: 1\n            },\n            type: \"minecraft:count_extra\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_TWISTING_VINES = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:twisting_vines\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_VINES = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {},\n                    type: \"minecraft:vines\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 50\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n\nexport const DECORATED_VOID_START_PLATFORM = {\n    config: {},\n    type: \"minecraft:void_start_platform\"\n};\n\nexport const DECORATED_WEEPING_VINES = {\n    config: {\n        feature: {\n            config: {\n                feature: {\n                    config: {\n                        feature: {\n                            config: {},\n                            type: \"minecraft:weeping_vines\"\n                        },\n                        decorator: {\n                            config: {\n                                bottom_offset: 0,\n                                top_offset: 0,\n                                maximum: 128\n                            },\n                            type: \"minecraft:range\"\n                        }\n                    },\n                    type: \"minecraft:decorated\"\n                },\n                decorator: {\n                    config: {},\n                    type: \"minecraft:square\"\n                }\n            },\n            type: \"minecraft:decorated\"\n        },\n        decorator: {\n            config: {\n                count: 10\n            },\n            type: \"minecraft:count\"\n        }\n    },\n    type: \"minecraft:decorated\"\n};\n","import React, { useCallback } from 'react';\nimport { NumberInput } from '../../ui/Input';\n\nexport const UniformInt = React.memo(function ({ children, id, minBase = 0, maxBase = 4, maxSpread = 4, upChange, value, defaultValue = 4 }) {\n    const handleChange = useCallback(function (val) {\n        upChange({ [id]: { ...value, ...val } })\n    }, [id, upChange, value]);\n\n    if (typeof value === 'number' || typeof value === 'undefined') {\n        return <NumberInput id={id} value={value} defaultValue={defaultValue} max={maxBase} upChange={upChange}>{children}</NumberInput>\n    }\n\n    if (typeof value !== 'object') {\n        value = { base: 4, spread: 1 };\n    }\n    return <>\n        <NumberInput id=\"base\" value={value.base} upChange={handleChange} min={minBase} max={maxBase}>{children} base</NumberInput>\n        <NumberInput id=\"spread\" value={value.spread} upChange={handleChange} max={maxSpread}>{children} spread</NumberInput>\n    </>\n});\n","import React, { useCallback, useMemo } from \"react\";\nimport { useBlocksOptions, useCrudPreset } from \"../../hooks/form\";\n\nimport { BlockState } from \"./BlockState\";\nimport { Button } from '../../ui/Button';\nimport { NumberInput } from '../../ui/Input';\nimport Select from \"../../ui/Select\";\nimport { useEffect } from \"react\";\n\nexport const BlockStateProvider = React.memo(function({block = { type: 'minecraft:simple_state_provider' }, filter, onChange, blocks}) {\n    const options = useMemo(function() {\n        const options = [\n            { value: 'minecraft:forest_flower_provider', label: 'Forest flower provider' },\n            { value: 'minecraft:plain_flower_provider', label: 'Plain flower provider' },\n            { value: 'minecraft:simple_state_provider', label: 'Simple state provider' },\n            { value: 'minecraft:rotated_block_provider', label: 'Rotated block provider' },\n            { value: 'minecraft:weighted_state_provider', label: 'Weighted state provider' }\n        ];\n        return typeof filter === 'function' ? options.filter(filter) : options;\n    }, [filter]);\n\n    const handleTypeChange = useCallback(function(option) {\n        const similarities = ['minecraft:simple_state_provider', 'minecraft:rotated_block_provider'];\n        if (similarities.includes(block.type) && similarities.includes(option.value)) {\n            onChange({ ...block, type: option.value }, block);\n        } else {\n            onChange({ type: option.value }, block);\n        }\n    }, [block, onChange]);\n\n    const handleSimpleStateChange = useCallback(function(state) {\n        onChange({ ...block, state }, block);\n    }, [block, onChange]);\n\n    const handleWeighestStateChange = useCallback(function(entries) {\n        onChange({ ...block, entries }, block);\n    }, [block, onChange]);\n\n    blocks = blocks || useBlocksOptions(false);\n    const filteredBlocks = useMemo(function () {\n        const filtered = block.type === 'minecraft:rotated_block_provider' ?\n            blocks.filter(b => b.states.some(state => state.name === 'axis')) : blocks;\n        return filtered.map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n    }, [blocks, block.type]);\n\n    return <div>\n        <label>Provider type</label>\n        <Select options={options} value={options.find(o => o.value === block.type)} onChange={handleTypeChange} />\n        {(block.type === 'minecraft:simple_state_provider' || block.type === 'minecraft:rotated_block_provider') && <BlockState block={block.state} options={filteredBlocks} onChange={handleSimpleStateChange} />}\n        {block.type === 'minecraft:weighted_state_provider' && <WeightedStateProvider entries={block.entries} options={filteredBlocks} onChange={handleWeighestStateChange} />}\n    </div>\n});\n\n\nconst WeightedStateProvider = React.memo(function({entries = [], onChange, options}) {\n    options = options || useBlocksOptions();\n\n    const [blocks, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, entries, function(blocks) {\n        // Get the first non taken block name\n        return { data: { Name: (options.find(o => !blocks.some(b => b.data.Name === o.value)) || { value: 'minecraft:stone' }).value } };\n    });\n\n    const handleStateChange = useCallback(function(state, i) {\n        handleChange({ ...blocks[i], data: state }, blocks[i]);\n    }, [blocks, handleChange]);\n    const handleWeightChange = useCallback(function(weight, i) {\n        if (weight === 1) {\n            handleChange({ data: blocks[i].data }, blocks[i]);\n        } else {\n            handleChange({ weight, data: blocks[i].data }, blocks[i]);\n        }\n    }, [blocks, handleChange]);\n\n    useEffect(() => {\n        if (blocks !== entries) {\n            onChange(blocks);\n        }\n    }, [blocks, entries, onChange]);\n\n    return <div className=\"form-group\">\n        {blocks.map((block, i) => {\n            const filteredOptions = options.filter(o => o.value === block.data.Name || !blocks.some(d => d.data.Name === o.value));\n            return <BlockState block={block.data} options={filteredOptions} key={JSON.stringify(block)} onChange={state => handleStateChange(state, i)}>\n                <NumberInput id=\"weight\" value={block.weight || 1} min=\"1\" onChange={weight => handleWeightChange(weight, i)} className=\"mlm\">Weight</NumberInput>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, i)}>Remove</Button>\n            </BlockState>\n        })}\n        <Button onClick={handleAdd}>Add block</Button>\n    </div>;\n});","import React, { useCallback } from 'react';\n\nimport { BLOCK_PILE_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\n\nexport function BlockPileFeature({ configuration = BLOCK_PILE_FEATURE_CONFIG, onChange }) {\n\n    const handleChange = useCallback(function (state_provider) {\n        onChange({ state_provider });\n    }, [onChange]);\n\n    return <fieldset>\n        <legend>Block state provider</legend>\n        <BlockStateProvider block={configuration.state_provider} onChange={handleChange} />\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport Select from '../../../ui/Select';\nimport { useKeyedListOptions } from '../../../hooks/context';\n\nexport function DecoratedFeature({ feature, onChange }) {\n\n    const options = useKeyedListOptions('features');\n\n    const handleChange = useCallback(function (option) {\n        onChange(option.value)\n    }, [onChange]);\n\n    return <fieldset>\n        <legend>Feature</legend>\n        <Select options={options} value={options.find(o => feature === o.value)} onChange={handleChange} />\n    </fieldset>\n}\n","export const CARVERS_OPTIONS = [\n    { value: 'air', label: 'Air' },\n    { value: 'liquid', label: 'Liquid' }\n];\n\nexport const DECORATOR_CARVING_MASK = {\n    step: 'liquid',\n    probability: 0.1\n};\n\nexport const DECORATOR_EXTRA_COUNT = {\n    count: 10,\n    extra_chance: 0.1,\n    extra_count: 1\n};\n\nexport const DECORATOR_COUNT_NOISE = {\n    noise_level: -0.8,\n    below_noise: 15,\n    above_noise: 4\n};\n\nexport const DECORATOR_COUNT_NOISE_BIASED = {\n    noise_to_count_ratio: 160,\n    noise_factor: 80.0,\n    noise_offset: 0.3\n};\n\nexport const DECORATOR_DECORATED = {\n    outer: {\n        config: {},\n        type: \"minecraft:square\"\n    },\n    inner: {\n        config: {},\n        type: \"minecraft:heightmap\"\n    }\n};\n\nexport const DECORATOR_DEPTH_AVERAGE = {\n    baseline: 16,\n    spread: 16\n};\n\nexport const DECORATOR_RANGE = {\n    bottom_offset: 4,\n    top_offset: 0,\n    maximum: 64\n};\n","import { DECORATORS_OPTIONS, Decorator } from './Decorator';\nimport React, { useCallback } from 'react';\n\nimport { CARVERS_OPTIONS, } from './DecoratorDefaults';\nimport { INT_MIN_VALUE } from '../../../utils/math';\nimport { NumberInput } from '../../../ui/Input';\nimport Select from '../../../ui/Select';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport const CarvingMaskDecorator = React.memo(function ({ config, onChange }) {\n    const handleStepChange = useCallback(function (option) {\n        onChange({ probability: config.probability, step: option.value });\n    }, [config.probability, onChange]);\n\n    return <>\n        <div className=\"inbl\"><Select options={CARVERS_OPTIONS} value={CARVERS_OPTIONS.find(o => config.step === o.value)} onChange={handleStepChange} /></div>\n        <NumberInput id=\"probability\" value={config.probability} upChange={onChange} step={0.05}>Probability</NumberInput>\n    </>\n});\n\nexport const ChanceDecorator = React.memo(({ config, onChange }) =>\n    <NumberInput id=\"chance\" value={config.chance} defaultValue={32} upChange={onChange}>Chance</NumberInput>\n);\n\nexport const CountDecorator = React.memo(({ config, onChange }) =>\n    <UniformInt id=\"count\" value={config.count} minBase={-10} maxBase={128} maxSpread={128} defaultValue={25} upChange={onChange}>Count</UniformInt>\n);\n\nexport const CountExtraDecorator = React.memo(({ config, onChange }) =>\n    <>\n        <NumberInput id=\"count\" value={config.count} upChange={onChange}>Count</NumberInput>\n        <NumberInput id=\"extra_chance\" value={config.extra_chance} upChange={onChange} step={0.05}>Extra chance</NumberInput>\n        <NumberInput id=\"extra_count\" value={config.extra_count} upChange={onChange}>Extra count</NumberInput>\n    </>\n);\n\nexport const CountNoiseDecorator = React.memo(({ config, onChange }) =>\n    <>\n        <NumberInput id=\"noise_level\" value={config.noise_level} min={INT_MIN_VALUE} step={0.1} upChange={onChange}>Noise level</NumberInput>\n        <NumberInput id=\"below_noise\" value={config.below_noise} upChange={onChange}>Below noise</NumberInput>\n        <NumberInput id=\"above_noise\" value={config.above_noise} upChange={onChange}>Above noise</NumberInput>\n    </>\n);\n\nexport const CountNoiseBiasedDecorator = React.memo(({ config, onChange }) =>\n    <>\n        <NumberInput id=\"noise_to_count_ratio\" value={config.noise_to_count_ratio} upChange={onChange}>Noise to count ratio</NumberInput>\n        <NumberInput id=\"noise_factor\" value={config.noise_factor} upChange={onChange} step={0.05}>Noise factor</NumberInput>\n        <NumberInput id=\"noise_offset\" value={config.noise_offset} required={false} upChange={onChange} step={0.05}>Noise factor</NumberInput>\n    </>\n);\n\nexport const DecoratedDecorator = React.memo(function ({ config, onChange }) {\n    const handleInnerChange = useCallback(inner => onChange({ inner }), [onChange]);\n    const handleOuterChange = useCallback(outer => onChange({ outer }), [onChange]);\n\n    return <>\n        <div style={{ width: '48%' }}><Decorator className=\"form-row\" decorator={config.outer} onChange={handleOuterChange} options={DECORATORS_OPTIONS} /></div>\n        <div style={{ width: '48%' }}><Decorator className=\"form-row\" decorator={config.inner} onChange={handleInnerChange} options={DECORATORS_OPTIONS} /></div>\n    </>\n});\n\nexport const DepthAverageDecorator = React.memo(({ config, onChange }) =>\n    <>\n        <NumberInput id=\"baseline\" value={config.baseline} upChange={onChange}>Baseline</NumberInput>\n        <NumberInput id=\"spread\" value={config.spread} upChange={onChange}>Spread</NumberInput>\n    </>\n);\n\nexport const RangeDecorator = React.memo(({ config, onChange }) =>\n    <>\n        <NumberInput id=\"bottom_offset\" value={config.bottom_offset} required={false} upChange={onChange}>Bottom offset</NumberInput>\n        <NumberInput id=\"top_offset\" value={config.top_offset} required={false} upChange={onChange}>Top offset</NumberInput>\n        <NumberInput id=\"maximum\" value={config.maximum} required={false} upChange={onChange}>Y maximum</NumberInput>\n    </>\n);\n","import { CarvingMaskDecorator, ChanceDecorator, CountDecorator, CountExtraDecorator, CountNoiseBiasedDecorator, CountNoiseDecorator, DecoratedDecorator, DepthAverageDecorator, RangeDecorator } from './DecoratorConfig';\nimport { DECORATOR_CARVING_MASK, DECORATOR_COUNT_NOISE, DECORATOR_COUNT_NOISE_BIASED, DECORATOR_DECORATED, DECORATOR_DEPTH_AVERAGE, DECORATOR_EXTRA_COUNT, DECORATOR_RANGE } from './DecoratorDefaults';\nimport React, { useCallback } from 'react';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nimport { Button } from '../../../ui/Button';\nimport Select from '../../../ui/Select';\nimport { capitalize } from '../../../utils/data';\nimport { useCrudPreset } from '../../../hooks/form';\n\nconst DECORATORS = [\n    { type: 'carving_mask', default: DECORATOR_CARVING_MASK, config: CarvingMaskDecorator },\n    { type: 'chance', default: { chance: 32 }, config: ChanceDecorator },\n    { type: 'count', default: { count: 25 }, config: CountDecorator },\n    { type: 'count_extra', default: DECORATOR_EXTRA_COUNT, config: CountExtraDecorator },\n    { type: 'count_multilayer', default: { count: 6 }, config: CountDecorator },\n    { type: 'count_noise', default: DECORATOR_COUNT_NOISE, config: CountNoiseDecorator },\n    { type: 'count_noise_biased', default: DECORATOR_COUNT_NOISE_BIASED, config: CountNoiseBiasedDecorator },\n    { type: 'dark_oak_tree' },\n    { type: 'decorated', default: DECORATOR_DECORATED, config: DecoratedDecorator },\n    { type: 'depth_average', default: DECORATOR_DEPTH_AVERAGE, config: DepthAverageDecorator },\n    { type: 'emerald_ore' },\n    { type: 'end_gateway' },\n    { type: 'end_island' },\n    { type: 'fire', default: { count: 10 }, config: CountDecorator },\n    { type: 'glowstone', default: { count: 10 }, config: CountDecorator },\n    { type: 'heightmap' },\n    { type: 'heightmap_spread_double' },\n    { type: 'heightmap_world_surface' },\n    { type: 'iceberg' },\n    { type: 'lava_lake', default: { chance: 80 }, config: ChanceDecorator },\n    { type: 'magma' },\n    { type: 'nope' },\n    { type: 'range', default: DECORATOR_RANGE, config: RangeDecorator },\n    { type: 'range_biased', default: DECORATOR_RANGE, config: RangeDecorator },\n    { type: 'range_very_biased', default: DECORATOR_RANGE, config: RangeDecorator },\n    { type: 'spread_32_above' },\n    { type: 'square' },\n    { type: 'top_solid_heightmap' },\n    { type: 'water_lake', default: { chance: 4 }, config: ChanceDecorator }\n].map(decorator => {\n    decorator.default = decorator.default || {};\n    decorator.type = 'minecraft:' + decorator.type;\n    return decorator;\n});\n\nexport const DECORATORS_OPTIONS = DECORATORS\n    .map(decorator => ({ value: decorator.type, label: capitalize(decorator.type.substr(10).replace(/_/g, ' ')) }));\n\nexport const DecoratorsList = React.memo(function ({ data, onChange }) {\n    const [decorators, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, data, function (decorators) {\n        // Get the first non taken decorator\n        const type = (DECORATORS_OPTIONS.filter(o => !decorators.some(d => d.type === o.value))[0] || { value: 'minecraft:count' }).value;\n        return { config: DECORATORS.find(d => type === d.type).default || {}, type };\n    });\n\n    const shouldCancelStart = useCallback(function (e) {\n        return !e.target.parentNode.classList.contains('sortable-item');\n    }, []);\n\n    return <fieldset>\n        <legend>Decorators wrappers {DECORATORS_OPTIONS.length > decorators.length && <Button onClick={handleAdd}>Add decorator</Button>}</legend>\n        <SortableDecoratorsList decorators={decorators} handleChange={handleChange} handleRemove={handleRemove}\n            onSortEnd={handleChange} shouldCancelStart={shouldCancelStart} />\n    </fieldset>\n});\n\nconst SortableDecoratorsList = SortableContainer(function ({ decorators, handleChange, handleRemove }) {\n    return <ol className=\"sortable-container\">\n        {decorators.map((decorator, index) => {\n            const options = DECORATORS_OPTIONS.filter(o => decorator.type === o.value || !decorators.some(d => d.type === o.value));\n            return <SortableDecorator key={decorator.type + index} decorator={decorator} index={index} onChange={handleChange} options={options}>\n                <Button cat=\"danger mlm\" onClick={(e) => handleRemove(e, index)}>Remove</Button>\n            </SortableDecorator>\n        })}\n    </ol>\n});\n\nexport const Decorator = React.memo(function ({ children, className = \"form-group form-row\", decorator = { config: {}, type: 'minecraft:heightmap' }, onChange, options }) {\n\n    const handleSelectChange = useCallback(function (option) {\n        onChange({\n            type: option.value,\n            config: DECORATORS.find(decorator => option.value === decorator.type).default\n        }, decorator);\n    }, [decorator, onChange]);\n    const handleConfigChange = useCallback(function (config) {\n        onChange({ type: decorator.type, config: { ...decorator.config, ...config } }, decorator);\n    }, [decorator, onChange]);\n    const DecoratorConfig = (DECORATORS.find(d => decorator.type === d.type) || { config: 'p' }).config || (() => <div></div>);\n\n    return <>\n        <div className={className}>\n            <div className=\"flex-grow\"><Select options={options} value={options.find(o => o.value === decorator.type)} onChange={handleSelectChange} /></div>\n            {children}\n        </div>\n        <div className=\"form-group form-row\">\n            <DecoratorConfig config={decorator.config} onChange={handleConfigChange}>Currently not supported (<code>{decorator.type}</code>).</DecoratorConfig>\n        </div>\n    </>;\n});\n\nconst SortableDecorator = SortableElement(({ index, ...props }) =>\n    <li className=\"sortable-item\" index={index}><Decorator {...props} /></li>\n);\n","import { BlockState, BlocksList } from '../../state/BlockState';\nimport React, { useCallback } from 'react';\n\nimport { NumberInput } from '../../../ui/Input';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function DiskFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const handleStateChange = useCallback(function (state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleTargetsChange = useCallback(function (targets) {\n        onChange({ ...configuration, targets });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <BlockState block={configuration.state} onChange={handleStateChange} />\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"radius\" value={configuration.radius} upChange={handleChange}>Radius</UniformInt>\n            <NumberInput id=\"half_height\" value={configuration.half_height} upChange={handleChange}>Half height</NumberInput>\n        </div>\n        <fieldset>\n            <legend>Targets</legend>\n            <BlocksList list={configuration.targets} onChange={handleTargetsChange} />\n        </fieldset>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\n\nimport { INT_MIN_VALUE } from '../../utils/math';\nimport { NumberInput } from '../../ui/Input';\n\nexport const BlockPosition = React.memo(function ({ children, id, onChange, optional = false, position }) {\n\n    const handleCheckboxChange = useCallback(function (e) {\n        onChange(e.target.checked ? [0, 0, 0] : null);\n    }, [onChange]);\n    const handleXChange = useCallback(function (x) {\n        onChange([x, position[1], position[2]]);\n    }, [onChange, position]);\n    const handleYChange = useCallback(function (y) {\n        onChange([position[0], y, position[2]]);\n    }, [onChange, position]);\n    const handleZChange = useCallback(function (z) {\n        onChange([position[0], position[1], z]);\n    }, [onChange, position]);\n\n    return <div className=\"form-row\">\n        {children}\n        {Array.isArray(position) && <>\n            <NumberInput id=\"x\" value={position[0]} min={INT_MIN_VALUE} className=\"mls\" onChange={handleXChange}>x</NumberInput>\n            <NumberInput id=\"y\" value={position[1]} min={INT_MIN_VALUE} className=\"mls\" onChange={handleYChange}>y</NumberInput>\n            <NumberInput id=\"z\" value={position[2]} min={INT_MIN_VALUE} className=\"mls\" onChange={handleZChange}>z</NumberInput>\n        </>}\n        {optional && <input type=\"checkbox\" className=\"checkbox\" id={id} checked={Array.isArray(position)} onChange={handleCheckboxChange} />}\n    </div>\n});\n","import { ConfInput, NumberInput } from '../../../ui/Input';\nimport React, { useCallback } from 'react';\n\nimport { BlockPosition } from '../../utils/BlockPosition';\nimport { Button } from '../../../ui/Button';\nimport { INT_MIN_VALUE } from '../../../utils/math';\nimport { useCrudPreset } from '../../../hooks/form';\n\nexport function EndSpikeFeature({ configuration, onChange }) {\n\n    const [spikes, handleAdd, handleChange, handleRemove] = useCrudPreset((spikes) => onChange({ ...configuration, spikes }), configuration.spikes);\n    const handleBeamTargetChange = useCallback(function (crystal_beam_target) {\n        if (crystal_beam_target === null) {\n            onChange((({ crystal_beam_target, ...config }) => config)(configuration));\n        } else {\n            onChange({ ...configuration, crystal_beam_target });\n        }\n    }, [configuration, onChange]);\n    const handleCrystalChange = useCallback(function (e) {\n        const crystal_invulnerable = e.target.checked;\n        onChange({ ...configuration, crystal_invulnerable });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"crystal_invulnerable\" checked={configuration.crystal_invulnerable || false} onChange={handleCrystalChange}>Crystal invulnerable</ConfInput>\n                <BlockPosition id=\"crystal_beam_target\" position={configuration.crystal_beam_target} optional onChange={handleBeamTargetChange}>Crystal beam target : </BlockPosition>\n            </div>\n        </fieldset>\n        <fieldset>\n            <legend>Spikes <Button onClick={handleAdd}>Add spike</Button></legend>\n            {spikes.map((spike, i) =>\n                <Spike key={JSON.stringify(spike) + i} spike={spike} onChange={handleChange} onRemove={handleRemove}>\n                    <Button cat=\"danger mlm\" onClick={e => handleRemove(e, spike)}>Remove</Button>\n                </Spike>\n            )}\n        </fieldset>\n    </div>\n}\n\nconst Spike = React.memo(function ({children, onChange, spike}) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...spike, ...value }, spike);\n    }, [onChange, spike]);\n    const handleGuardedChange = useCallback(function (e) {\n        onChange({ ...spike, guarded: e.target.checked }, spike);\n    }, [onChange, spike]);\n\n    return <div className=\"form-group form-row\">\n        <NumberInput id=\"centerX\" value={spike.centerX} min={INT_MIN_VALUE} required={false} upChange={handleChange}>Center X</NumberInput>\n        <NumberInput id=\"centerZ\" value={spike.centerZ} min={INT_MIN_VALUE} required={false} upChange={handleChange}>Center Z</NumberInput>\n        <NumberInput id=\"radius\" value={spike.radius} required={false} upChange={handleChange}>Radius</NumberInput>\n        <NumberInput id=\"height\" value={spike.height} required={false} upChange={handleChange}>Height</NumberInput>\n        <ConfInput id=\"guarded\" checked={spike.guarded || false} onChange={handleGuardedChange}>Guarded</ConfInput>\n        {children}\n    </div>\n});\n","import React, { useCallback } from 'react';\n\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\nimport { NumberInput } from '../../../ui/Input';\n\nexport function HugeMushroomFeature({ configuration, onChange }) {\n\n    const handleCapProviderChange = useCallback(function (cap_provider) {\n        onChange({ ...configuration, cap_provider });\n    }, [configuration, onChange]);\n    const handleFoliageRadiusChange = useCallback(function (foliage_radius) {\n        onChange({ ...configuration, foliage_radius });\n    }, [configuration, onChange]);\n    const handleStemProviderChange = useCallback(function (stem_provider) {\n        onChange({ ...configuration, stem_provider });\n    }, [configuration, onChange]);\n\n    return <>\n        <fieldset>\n            <legend>Cap provider</legend>\n            <BlockStateProvider block={configuration.cap_provider} className=\"\" onChange={handleCapProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Stem provider</legend>\n            <BlockStateProvider block={configuration.stem_provider} className=\"\" onChange={handleStemProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group\">\n                <NumberInput value={configuration.foliage_radius} defaultValue={2} required={false} onChange={handleFoliageRadiusChange}>Foliage radius</NumberInput>\n            </div>\n        </fieldset>\n    </>\n}\n","import React, { useCallback } from 'react';\nimport { BlockPredicate } from '../../state/BlockPredicate';\nimport { BlockState } from '../../state/BlockState';\nimport { NumberInput } from '../../../ui/Input';\n\nexport function OreFeature({configuration, onChange}) {\n    const handlePredicateChange = useCallback(function(target) {\n        onChange({ ...configuration, target });\n    }, [configuration, onChange]);\n    const handleBlockChange = useCallback(function(state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleValueChange = useCallback(function(value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>Target</legend>\n            <BlockPredicate target={configuration.target} onChange={handlePredicateChange} />\n        </fieldset>\n        <fieldset>\n            <legend>State</legend>\n            <BlockState block={configuration.state} onChange={handleBlockChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <NumberInput id=\"size\" value={configuration.size} max={64} upChange={handleValueChange}>Size</NumberInput>\n        </fieldset>\n    </div>\n}\n","import { NumberInput } from '../../../ui/Input';\nimport React from 'react';\n\nexport function ProbabilityFeature({ configuration, onChange }) {\n\n    return <fieldset>\n        <legend>Config</legend>\n        <div className=\"form-group\">\n            <NumberInput id=\"probability\" value={configuration.probability} max={1} step={0.01} upChange={onChange}>Probability</NumberInput>\n        </div>\n    </fieldset>\n}\n","import { FEATURES, FEATURES_OPTIONS, FeatureConfig } from './ConfiguredFeature';\nimport React, { useCallback } from 'react';\n\nimport Select from '../../ui/Select';\nimport { findDecorators } from '../../utils/data';\nimport { useKeyedListOptions } from '../../hooks/context';\n\nexport const InlineFeature = React.memo(function ({ children, feature, legend, onChange }) {\n\n    const handleConfigChange = useCallback(function (config) {\n        onChange({ type: feature.type, config }, feature);\n    }, [feature, onChange]);\n    const handleTypeChange = useCallback(function (option) {\n        const [, feature] = findDecorators(FEATURES.find(feature => feature.type === option.value).default);\n        onChange(feature);\n    }, [onChange]);\n\n    return <fieldset>\n        {typeof legend !== 'undefined' && <legend>{legend}</legend>}\n        <div className=\"form-group form-row\">\n            <div className=\"flex-grow\"><Select options={FEATURES_OPTIONS} value={FEATURES_OPTIONS.find(o => o.value === feature.type) || null} onChange={handleTypeChange} /></div>\n            {children}\n        </div>\n        <FeatureConfig type={feature.type} configuration={feature.config} onChange={handleConfigChange} />\n    </fieldset>\n});\n\nexport const FeatureField = React.memo(function ({ children, feature, filter, legend, onChange }) {\n\n    const options = useKeyedListOptions('features');\n    const handleSelectChange = useCallback(function (option) {\n        onChange(option.value, feature);\n    }, [feature, onChange]);\n\n    if (typeof feature === 'object') {\n        return <InlineFeature feature={feature} legend={legend} onChange={onChange}>{children}</InlineFeature>\n    }\n\n    const filteredOptions = typeof filter === 'function' ? options.filter(filter) : options;\n    return <div className=\"form-group form-row\">\n        <div className=\"flex-grow\"><Select options={filteredOptions} value={options.find(o => feature === o.value)} onChange={handleSelectChange} /></div>\n        {children}\n    </div>\n});\n\n","import { ConfInput, NumberInput } from '../../../ui/Input';\nimport React, { useCallback, useMemo } from 'react';\nimport { useBlocksOptions, useJsonEffect } from '../../../hooks/form';\n\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\nimport { BlocksList } from '../../state/BlockState';\nimport { RANDOM_PATCH_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport Select from '../../../ui/Select';\n\nexport function RandomPatchFeature({ configuration, onChange }) {\n\n    const config = useJsonEffect(configuration || RANDOM_PATCH_FEATURE_CONFIG, configuration, onChange);\n    const handleStateProviderChange = useCallback(function (state_provider) {\n        onChange({ ...config, state_provider });\n    }, [config, onChange]);\n    const handleWhitelistChange = useCallback(function (whitelist) {\n        onChange({ ...config, whitelist });\n    }, [config, onChange]);\n    const handleBlacklistChange = useCallback(function (blacklist) {\n        onChange({ ...config, blacklist });\n    }, [config, onChange]);\n    const handleBlockPlacerChange = useCallback(function (option) {\n        const block_placer = { type: option.value };\n        if (option.value === 'minecraft:column_placer') {\n            block_placer.min_size = 1;\n            block_placer.extra_size = 2;\n        }\n        onChange({ ...config, block_placer });\n    }, [config, onChange]);\n    const handleBlockPlacerValueChange = useCallback(function (value) {\n        onChange({ ...config, block_placer: { ...config.block_placer, ...value } });\n    }, [config, onChange]);\n    const handleValueChange = useCallback(function (value) {\n        onChange({ ...config, ...value });\n    }, [config, onChange]);\n    const handleCheckboxChange = useCallback(function (e) {\n        onChange({ ...config, [e.target.dataset.name]: e.target.checked });\n    }, [config, onChange]);\n\n    const blocks = useBlocksOptions(false);\n    const filteredBlocks = useMemo(function () {\n        return config.block_placer.type.endsWith('double_plant_placer') ?\n            blocks.filter(b => b.states.some(state => state.name === 'half') && (b.material === 'plant' || b.name === 'peony'))\n            : blocks;\n    }, [blocks, config.block_placer.type]);\n    const filter = useMemo(function () {\n        return config.block_placer.type.endsWith('double_plant_placer') ?\n            o => ['minecraft:simple_state_provider', 'minecraft:weighted_state_provider'].includes(o.value)\n            : null;\n    }, [config.block_placer.type]);\n\n    const blockPlacers = useMemo(function () {\n        return [\n            { value: 'minecraft:simple_block_placer', label: 'Simple block placer' },\n            { value: 'minecraft:double_plant_placer', label: 'Double plant placer' },\n            { value: 'minecraft:column_placer', label: 'Column placer' }\n        ];\n    }, []);\n\n    return <div>\n        <fieldset>\n            <legend>State provider</legend>\n            <BlockStateProvider block={config.state_provider} onChange={handleStateProviderChange} filter={filter} blocks={filteredBlocks} />\n            <div className=\"form-group\">\n                <label>Block placer</label>\n                <Select options={blockPlacers} value={blockPlacers.find(o => o.value === config.block_placer.type)} onChange={handleBlockPlacerChange} />\n                {config.block_placer.type === 'minecraft:column_placer' && <div className=\"form-group form-row\">\n                    <NumberInput id=\"min_size\" value={config.block_placer.min_size} upChange={handleBlockPlacerValueChange}>Min size</NumberInput>\n                    <NumberInput id=\"extra_size\" value={config.block_placer.extra_size} upChange={handleBlockPlacerValueChange}>Extra size</NumberInput>\n                </div>}\n            </div>\n        </fieldset>\n        <fieldset>\n            <legend>Whitelist</legend>\n            <BlocksList list={config.whitelist} onChange={handleWhitelistChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Blacklist</legend>\n            <BlocksList list={config.blacklist} onChange={handleBlacklistChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Settings</legend>\n            <div className=\"form-group form-row\">\n                <NumberInput id=\"xspread\" value={config.xspread} defaultValue={7} required={false} upChange={handleValueChange}>X spread</NumberInput>\n                <NumberInput id=\"yspread\" value={config.yspread} defaultValue={3} required={false} upChange={handleValueChange}>Y spread</NumberInput>\n                <NumberInput id=\"zspread\" value={config.zspread} defaultValue={7} required={false} upChange={handleValueChange}>Z spread</NumberInput>\n                <NumberInput id=\"tries\" value={config.tries} defaultValue={128} required={false} upChange={handleValueChange}>Tries</NumberInput>\n            </div>\n            <div className=\"form-group form-row\">\n                <ConfInput id=\"need_water\" checked={config.need_water || false} onChange={handleCheckboxChange}>Need water</ConfInput>\n                <ConfInput id=\"project\" checked={typeof config.project === 'boolean' ? config.project : true} onChange={handleCheckboxChange}>Project</ConfInput>\n                <ConfInput id=\"can_replace\" checked={config.can_replace || false} onChange={handleCheckboxChange}>Can replace</ConfInput>\n            </div>\n        </fieldset>\n    </div>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\n\nexport function SingleStateFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (state) {\n        onChange({ state });\n    }, [onChange]);\n\n    return <fieldset>\n        <legend>Block state</legend>\n        <BlockState block={configuration.state} onChange={handleChange} />\n    </fieldset>\n}\n","import React, { useCallback, useMemo } from 'react';\n\nimport { BlockStateProvider } from '../../state/BlockStateProvider';\nimport { Button } from '../../../ui/Button';\nimport { NumberInput } from '../../../ui/Input';\nimport Select from '../../../ui/Select';\nimport { TREE_DECORATORS_OPTIONS } from './FeatureConfigDefaults';\nimport { UniformInt } from '../../utils/UniformInt';\nimport { useCrudPreset } from '../../../hooks/form';\n\nexport function TreeFeature({configuration, onChange}) {\n\n    const handleTrunkProviderChange = useCallback(function(trunk_provider) {\n        onChange({ ...configuration, trunk_provider });\n    }, [configuration, onChange]);\n    const handleLeavesProviderChange = useCallback(function(leaves_provider) {\n        onChange({ ...configuration, leaves_provider });\n    }, [configuration, onChange]);\n    const handleFoliagePlacerChange = useCallback(function(foliage_placer) {\n        onChange({ ...configuration, foliage_placer });\n    }, [configuration, onChange]);\n    const handleTrunkPlacerChange = useCallback(function(trunk_placer) {\n        onChange({ ...configuration, trunk_placer: { ...configuration.trunk_placer, ...trunk_placer } });\n    }, [configuration, onChange]);\n    const handleDecoratorsChange = useCallback(function(decorators) {\n        onChange({ ...configuration, decorators });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>Trunk provider</legend>\n            <BlockStateProvider block={configuration.trunk_provider} onChange={handleTrunkProviderChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Leaves provider</legend>\n            <BlockStateProvider block={configuration.leaves_provider} onChange={handleLeavesProviderChange} />\n        </fieldset>\n        <FoliagePlacer placer={configuration.foliage_placer} onChange={handleFoliagePlacerChange} />\n        <TrunkPlacer placer={configuration.trunk_placer} onChange={handleTrunkPlacerChange} />\n        <TreeDecorators data={configuration.decorators} onChange={handleDecoratorsChange}></TreeDecorators>\n    </div>;\n}\n\nconst FoliagePlacer = React.memo(function({placer, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'acacia_foliage_placer', label: 'Acacia foliage placer' },\n            { value: 'blob_foliage_placer', label: 'Blob foliage placer' },\n            { value: 'bush_foliage_placer', label: 'Bush foliage placer' },\n            { value: 'dark_oak_foliage_placer', label: 'Dark oak foliage placer' },\n            { value: 'fancy_foliage_placer', label: 'Fancy foliage placer' },\n            { value: 'jungle_foliage_placer', label: 'Jungle foliage placer' },\n            { value: 'mega_pine_foliage_placer', label: 'Mega pine foliage placer' },\n            { value: 'pine_foliage_placer', label: 'Pine foliage placer' },\n            { value: 'spruce_foliage_placer', label: 'Spruce foliage placer' }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        const type = option.value;\n        if (type === 'minecraft:acacia_foliage_placer' || type === 'minecraft:mega_pine_foliage_placer') {\n            delete placer.height;\n        } else if (type !== 'minecraft:acacia_foliage_placer') {\n            delete placer.crown_height;\n        }\n        onChange({ ...placer, type });\n    }, [onChange, placer]);\n    const handleChange = useCallback(function(value) {\n        onChange({ ...placer, ...value })\n    }, [onChange, placer]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === placer.type) || options[0];\n    }, [options, placer.type]);\n\n    return <fieldset>\n        <legend>Foliage placer</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"foliage_placer_type\">Type</label>\n            <Select options={options} name=\"foliage_placer_type\" value={selected} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"radius\" value={placer.radius} maxBase={8} maxSpread={8} upChange={handleChange}>Radius</UniformInt>\n            <UniformInt id=\"offset\" value={placer.offset} maxBase={8} maxSpread={8} upChange={handleChange}>Offset</UniformInt>\n            {(placer.type === 'minecraft:blob_foliage_placer' ||\n                placer.type === 'minecraft:bush_foliage_placer' ||\n                placer.type === 'minecraft:fancy_foliage_placer' ||\n                placer.type === 'minecraft:jungle_foliage_placer'\n            ) && <NumberInput id=\"height\" value={placer.height} upChange={handleChange} max={16} defaultValue={3}>Height</NumberInput>}\n            \n            {placer.type === 'minecraft:mega_pine_foliage_placer' && <UniformInt id=\"crown_height\" value={placer.crown_height} maxBase={16} maxSpread={8} upChange={handleChange}>Crown height</UniformInt>}\n            {placer.type === 'minecraft:pine_foliage_placer' && <UniformInt id=\"height\" value={placer.height} maxBase={16} maxSpread={8} upChange={handleChange}>Height</UniformInt>}\n            {placer.type === 'minecraft:spruce_foliage_placer' && <UniformInt id=\"trunk_height\" value={placer.trunk_height} maxBase={16} maxSpread={8} upChange={handleChange}>Trunk height</UniformInt>}\n        </div>\n    </fieldset>\n});\n\nconst TrunkPlacer = React.memo(function({placer, onChange}) {\n    const options = useMemo(function() {\n        return [\n            { value: 'straight_trunk_placer', label: 'Straight trunk placer' },\n            { value: 'forking_trunk_placer', label: 'Forking trunk placer' },\n            { value: 'giant_trunk_placer', label: 'Giant trunk placer' },\n            { value: 'mega_jungle_trunk_placer', label: 'Mega jungle trunk placer' },\n            { value: 'dark_oak_trunk_placer', label: 'Dark oak trunk placer' },\n            { value: 'fancy_trunk_placer', label: 'Fancy trunk placer' }\n        ].map(o => {\n            o.value = 'minecraft:' + o.value;\n            return o;\n        });\n    }, []);\n\n    const handleTypeChange = useCallback(function(option) {\n        onChange({ type: option.value });\n    }, [onChange]);\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === placer.type) || options[0];\n    }, [placer.type, options]);\n\n    return <fieldset>\n        <legend>Trunk placer</legend>\n        <div className=\"form-group\">\n            <label htmlFor=\"foliage_placer_type\">Type</label>\n            <Select options={options} name=\"foliage_placer_type\" defaultValue={selected} onChange={handleTypeChange} />\n        </div>\n        <div className=\"form-group form-row\">\n            <NumberInput id=\"base_height\" value={placer.base_height} upChange={onChange} max=\"32\">Base height</NumberInput>\n            <NumberInput id=\"height_rand_a\" value={placer.height_rand_a} upChange={onChange} max=\"24\">First height rand</NumberInput>\n            <NumberInput id=\"height_rand_b\" value={placer.height_rand_b} upChange={onChange} max=\"24\">Second height rand</NumberInput>\n        </div>\n    </fieldset>\n});\n\nconst TreeDecorators = React.memo(function({data, onChange}) {\n    const [decorators, handleAdd, handleChange, handleRemove] = useCrudPreset(onChange, data, function(decorators) {\n        // Get the first non taken decorator\n        return { type: (TREE_DECORATORS_OPTIONS.filter(o => !decorators.some(d => d.type === o.value))[0] || { value: 'minecraft:alter_ground' }).value };\n    });\n    \n    return <fieldset>\n        <legend>Tree decorators {decorators.length < 5 && <Button onClick={handleAdd}>Add decorator</Button>}</legend>\n        {decorators.map((decorator, i) => {\n            const options = TREE_DECORATORS_OPTIONS.filter(o => o.value === decorator.type || !decorators.some(d => d.type === o.value));\n            return <TreeDecorator data={decorator} key={decorator.type} onChange={handleChange} options={options}>\n                <Button cat=\"danger mlm\" onClick={e => handleRemove(e, i)}>Remove</Button>\n            </TreeDecorator>\n        })}\n    </fieldset>\n});\n\nconst TreeDecorator = React.memo(function({children, data, options, onChange}) {\n    const handleSelectChange = useCallback(function(option) {\n        onChange({ type: option.value, ...option.default }, data);\n    }, [data, onChange]);\n    const handleAlterGroundChange = useCallback(function(provider) {\n        onChange({ type: data.type, provider }, data);\n    }, [data, onChange]);\n    const handleProbabilityChange = useCallback(function(probability) {\n        onChange({ type: data.type, probability }, data);\n    }, [data, onChange]);\n\n    const CustomTag = ['minecraft:leave_vine', 'minecraft:trunk_vine'].indexOf(data.type) < 0 ? 'fieldset' : 'div';\n\n    const selected = useMemo(function() {\n        return options.find(o => o.value === data.type);\n    }, [data.type, options]);\n    return <CustomTag>\n        <legend style={{ fontWeight: 'normal', fontSize: 'inherit' }}>\n            <div style={{ width: '200px', display: 'inline-block' }}><Select options={options} value={selected} onChange={handleSelectChange} /></div>\n            {children}\n        </legend>\n        <div className=\"form-group\">\n            {data.type === 'minecraft:alter_ground' && <BlockStateProvider block={data.provider} onChange={handleAlterGroundChange} />}\n            {(data.type === 'minecraft:beehive' || data.type === 'minecraft:cocoa') && <NumberInput id=\"probability\" value={data.probability} onChange={handleProbabilityChange} max=\"1\" step=\"0.05\" defaultValue=\"0.05\">Probability</NumberInput>}\n        </div>\n    </CustomTag>\n});","import { DECORATED_BAMBOO, DECORATED_BASALT_COLUMNS, DECORATED_BASALT_PILLAR, DECORATED_BLOCK_PILE, DECORATED_BLUE_ICE, DECORATED_BONUS_CHEST, DECORATED_CHORUS_PLANT, DECORATED_CORAL_CLAW, DECORATED_CORAL_MUSHROOM, DECORATED_CORAL_TREE, DECORATED_DECORATED, DECORATED_DELTA_FEATURE, DECORATED_DESERT_WELL, DECORATED_DISK, DECORATED_EMERALD_ORE, DECORATED_END_GATEWAY, DECORATED_END_ISLAND, DECORATED_END_SPIKE, DECORATED_FILL_LAYER, DECORATED_FLOWER, DECORATED_FOREST_ROCK, DECORATED_FOSSIL, DECORATED_FREEZE_TOP_LAYER, DECORATED_GLOWSTONE_BLOB, DECORATED_HUGE_BROWN_MUSHROOM, DECORATED_HUGE_FUNGUS, DECORATED_HUGE_RED_MUSHROOM, DECORATED_ICEBERG, DECORATED_ICE_PATCH, DECORATED_ICE_SPIKE, DECORATED_KELP, DECORATED_LAKE, DECORATED_MONSTER_ROOM, DECORATED_NETHERRACK_REPLACE_BLOBS, DECORATED_NETHER_FOREST_VEGETATION, DECORATED_NO_BONEMEAL_FLOWER, DECORATED_NO_OP, DECORATED_NO_SURFACE_ORE, DECORATED_ORE, DECORATED_RANDOM_BOOLEAN_SELECTOR, DECORATED_RANDOM_PATCH, DECORATED_RANDOM_SELECTOR, DECORATED_SEAGRASS, DECORATED_SEA_PICKLE, DECORATED_SIMPLE_BLOCK, DECORATED_SIMPLE_RANDOM_SELECTOR, DECORATED_SPRING_FEATURE, DECORATED_TREE, DECORATED_TWISTING_VINES, DECORATED_VINES, DECORATED_VOID_START_PLATFORM, DECORATED_WEEPING_VINES } from './DecoratedFeatureDefaults';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { buildDecorated, capitalize, findDecorators } from '../../utils/data';\n\nimport { BasaltColumnsFeature } from './config/BasaltColumnsFeature';\nimport { BlockPileFeature } from './config/BlockPileFeature';\nimport { Button } from '../../ui/Button';\nimport { CountFeature } from './config/CountFeature';\nimport { DecoratedFeature } from './config/DecoratedFeature';\nimport { DecoratorsList } from './decorator/Decorator';\nimport { DeltaFeature } from './config/DeltaFeature';\nimport { DiskFeature } from './config/DiskFeature';\nimport { EmeraldOreFeature } from './config/EmeraldOreFeature';\nimport { EndGatewayFeature } from './config/EndGatewayFeature';\nimport { EndSpikeFeature } from './config/EndSpikeFeature';\nimport { FillLayerFeature } from './config/FillLayerFeature';\nimport { HugeFungusFeature } from './config/HugeFungusFeature';\nimport { HugeMushroomFeature } from './config/HugeMushroomFeature';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { NamespacedKey } from '../NamespacedKey';\nimport { NetherrackReplaceBlobsFeature } from './config/NetherrackReplaceBlobsFeature';\nimport { OreFeature } from './config/OreFeature';\nimport { ProbabilityFeature } from './config/ProbabilityFeature';\nimport { RandomBooleanFeature } from './config/RandomBooleanFeature';\nimport { RandomFeature } from './config/RandomFeature';\nimport { RandomPatchFeature } from './config/RandomPatchFeature';\nimport Select from '../../ui/Select';\nimport { SimpleBlockFeature } from './config/SimpleBlockFeature';\nimport { SimpleRandomFeature } from './config/SimpleRandomFeature';\nimport { SingleStateFeature } from './config/SingleStateFeature';\nimport { SpringFeature } from './config/SpringFeature';\nimport { TreeFeature } from './config/TreeFeature';\n\nexport const FEATURES = [\n    { type: 'bamboo', default: DECORATED_BAMBOO, config: ProbabilityFeature },\n    { type: 'basalt_columns', default: DECORATED_BASALT_COLUMNS, config: BasaltColumnsFeature },\n    { type: 'basalt_pillar', default: DECORATED_BASALT_PILLAR },\n    { type: 'block_pile', default: DECORATED_BLOCK_PILE, config: BlockPileFeature },\n    { type: 'blue_ice', default: DECORATED_BLUE_ICE },\n    { type: 'bonus_chest', default: DECORATED_BONUS_CHEST },\n    { type: 'chorus_plant', default: DECORATED_CHORUS_PLANT },\n    { type: 'coral_claw', default: DECORATED_CORAL_CLAW },\n    { type: 'coral_mushroom', default: DECORATED_CORAL_MUSHROOM },\n    { type: 'coral_tree', default: DECORATED_CORAL_TREE },\n    { type: 'delta_feature', default: DECORATED_DELTA_FEATURE, config: DeltaFeature },\n    { type: 'desert_well', default: DECORATED_DESERT_WELL },\n    { type: 'disk', default: DECORATED_DISK, config: DiskFeature },\n    { type: 'emerald_ore', default: DECORATED_EMERALD_ORE, config: EmeraldOreFeature },\n    { type: 'end_gateway', default: DECORATED_END_GATEWAY, config: EndGatewayFeature },\n    { type: 'end_island', default: DECORATED_END_ISLAND },\n    { type: 'end_spike', default: DECORATED_END_SPIKE, config: EndSpikeFeature },\n    { type: 'fill_layer', default: DECORATED_FILL_LAYER, config: FillLayerFeature },\n    { type: 'flower', default: DECORATED_FLOWER, config: RandomPatchFeature },\n    { type: 'forest_rock', default: DECORATED_FOREST_ROCK, config: SingleStateFeature },\n    { type: 'fossil', default: DECORATED_FOSSIL },\n    { type: 'freeze_top_layer', default: DECORATED_FREEZE_TOP_LAYER },\n    { type: 'glowstone_blob', default: DECORATED_GLOWSTONE_BLOB },\n    { type: 'huge_brown_mushroom', default: DECORATED_HUGE_BROWN_MUSHROOM, config: HugeMushroomFeature },\n    { type: 'huge_fungus', default: DECORATED_HUGE_FUNGUS, config: HugeFungusFeature },\n    { type: 'huge_red_mushroom', default: DECORATED_HUGE_RED_MUSHROOM, config: HugeMushroomFeature },\n    { type: 'ice_patch', default: DECORATED_ICE_PATCH, config: DiskFeature },\n    { type: 'ice_spike', default: DECORATED_ICE_SPIKE },\n    { type: 'iceberg', default: DECORATED_ICEBERG, config: SingleStateFeature },\n    { type: 'kelp', default: DECORATED_KELP },\n    { type: 'lake', default: DECORATED_LAKE, config: SingleStateFeature },\n    { type: 'monster_room', default: DECORATED_MONSTER_ROOM },\n    { type: 'nether_forest_vegetation', default: DECORATED_NETHER_FOREST_VEGETATION, config: BlockPileFeature },\n    { type: 'netherrack_replace_blobs', default: DECORATED_NETHERRACK_REPLACE_BLOBS, config: NetherrackReplaceBlobsFeature },\n    { type: 'no_bonemeal_flower', default: DECORATED_NO_BONEMEAL_FLOWER, config: RandomPatchFeature },\n    { type: 'no_surface_ore', default: DECORATED_NO_SURFACE_ORE, config: OreFeature },\n    { type: 'no_op', default: DECORATED_NO_OP },\n    { type: 'ore', default: DECORATED_ORE, config: OreFeature },\n    { type: 'random_boolean_selector', default: DECORATED_RANDOM_BOOLEAN_SELECTOR, config: RandomBooleanFeature },\n    { type: 'random_patch', default: DECORATED_RANDOM_PATCH, config: RandomPatchFeature },\n    { type: 'random_selector', default: DECORATED_RANDOM_SELECTOR, config: RandomFeature },\n    { type: 'sea_pickle', default: DECORATED_SEA_PICKLE, config: CountFeature },\n    { type: 'seagrass', default: DECORATED_SEAGRASS, config: ProbabilityFeature },\n    { type: 'simple_block', default: DECORATED_SIMPLE_BLOCK, config: SimpleBlockFeature },\n    { type: 'simple_random_selector', default: DECORATED_SIMPLE_RANDOM_SELECTOR, config: SimpleRandomFeature },\n    { type: 'spring_feature', default: DECORATED_SPRING_FEATURE, config: SpringFeature },\n    { type: 'tree', default: DECORATED_TREE, config: TreeFeature },\n    { type: 'twisting_vines', default: DECORATED_TWISTING_VINES },\n    { type: 'vines', default: DECORATED_VINES },\n    { type: 'void_start_platform', default: DECORATED_VOID_START_PLATFORM },\n    { type: 'weeping_vines', default: DECORATED_WEEPING_VINES }\n].map(feature => {\n    feature.type = 'minecraft:' + feature.type;\n    return feature;\n});\n\nexport const FEATURES_OPTIONS = FEATURES\n    .map(feature => ({ value: feature.type, label: capitalize(feature.type.substr(10).replace(/_/g, ' ')) }));\nFEATURES_OPTIONS.push({ value: 'minecraft:decorated', label: 'Decorated' });\n\nexport function FeatureConfig({ type, ...props }) {\n    const Tag = (FEATURES.find(f => type === f.type) || { config: 'p' }).config || (() => <p className=\"text-muted\">No config options</p>);\n    return <Tag {...props}>Unknown feature type (<code>{type}</code>).</Tag>;\n}\n\nexport function RawConfiguredFeature({ data = DECORATED_TREE, onSave }) {\n\n    const [decorators_, feature_] = useMemo(() => findDecorators(data), [data]);\n\n    const [feature, setFeature] = useState(feature_);\n    const [decorators, setDecorators] = useState(decorators_);\n\n    const handleSelectChange = useCallback(function (option) {\n        let def = DECORATED_DECORATED;\n        if (option.value !== 'minecraft:decorated') {\n            def = FEATURES.find(feature => option.value === feature.type).default;\n        }\n        const [decorators, feature] = findDecorators(def);\n        setFeature(feature);\n        setDecorators(decorators);\n    }, []);\n\n    const handleFeatureChange = useCallback(function (config) {\n        setFeature(feature => ({ ...feature, config }));\n    }, []);\n    const handleDecoratedChange = useCallback(function (feature) {\n        setFeature(feature);\n    }, []);\n    const handleDecoratorsChange = useCallback(function (decorators) {\n        setDecorators(decorators);\n    }, []);\n\n    const handleVanillaSelect = useCallback(function (configured_feature) {\n        const [decorators, feature] = findDecorators(configured_feature);\n        setFeature(feature);\n        setDecorators(decorators);\n    }, []);\n\n    const handleSubmit = useCallback(function (e) {\n        e.preventDefault();\n        const decorated = buildDecorated(feature, decorators, new FormData(e.target).get('key'));\n        onSave(decorated);\n    }, [decorators, feature, onSave]);\n\n    let selected;\n    if (typeof feature === 'string') {\n        selected = FEATURES_OPTIONS.find(f => f.value === 'minecraft:decorated');\n    } else {\n        selected = FEATURES_OPTIONS.find(o => o.value === feature.type);\n    }\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"concrete_tree\" type=\"features\" value={data.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={handleVanillaSelect}>\n            configured feature\n            <JsonViewer data={() => buildDecorated(feature, decorators, data.key || 'feature')} />\n        </NamespacedKey>\n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={FEATURES_OPTIONS} value={selected || null} onChange={handleSelectChange} inputId=\"type\" />\n        </div>\n        <hr />\n        {typeof feature === 'string' ?\n            <DecoratedFeature feature={feature} onChange={handleDecoratedChange} />\n            : <FeatureConfig type={feature.type} configuration={feature.config} onChange={handleFeatureChange} />\n        }\n        <DecoratorsList data={decorators} key={feature.type} onChange={handleDecoratorsChange} />\n        <Button type=\"submit\">Save</Button>\n    </form>\n}\n","import React, { useCallback } from 'react';\n\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function BasaltColumnsFeature({ configuration, onChange }) {\n\n    const handleHeightChange = useCallback(function (height) {\n        onChange({ ...configuration, height });\n    }, [configuration, onChange]);\n    const handleReachChange = useCallback(function (reach) {\n        onChange({ ...configuration, reach });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"reach\" value={configuration.reach} maxBase={2} maxSpread={2} onChange={handleReachChange}>Reach</UniformInt>\n            <UniformInt id=\"height\" value={configuration.height} minBase={1} maxBase={5} maxSpread={5} onChange={handleHeightChange}>Height</UniformInt>\n        </div>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function DeltaFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const handleContentsChange = useCallback(function (contents) {\n        onChange({ ...configuration, contents });\n    }, [configuration, onChange]);\n    const handleRimChange = useCallback(function (rim) {\n        onChange({ ...configuration, rim });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <BlockState block={configuration.contents} onChange={handleContentsChange} />\n        <BlockState block={configuration.rim} onChange={handleRimChange} />\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"size\" value={configuration.size} maxBase={8} maxSpread={8} upChange={handleChange}>Size</UniformInt>\n            <UniformInt id=\"rim_size\" value={configuration.rim_size} maxBase={8} maxSpread={8} upChange={handleChange}>Rim size</UniformInt>\n        </div>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\n\nexport function EmeraldOreFeature({ configuration, onChange }) {\n\n    const handleStateChange = useCallback(function (state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleTargetChange = useCallback(function (target) {\n        onChange({ ...configuration, target });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <label>State</label>\n        <BlockState block={configuration.state} className=\"\" onChange={handleStateChange} />\n        <label>Target</label>\n        <BlockState block={configuration.target} className=\"\" onChange={handleTargetChange} />\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\n\nimport { BlockPosition } from '../../utils/BlockPosition';\nimport { ConfInput } from '../../../ui/Input';\n\nexport function EndGatewayFeature({ configuration, onChange }) {\n\n    const handleExitChange = useCallback(function (exit) {\n        if (exit === null) {\n            onChange((({ exit, ...config }) => config)(configuration));\n        } else {\n            onChange({ ...configuration, exit });\n        }\n    }, [configuration, onChange]);\n    const handleExactChange = useCallback(function (e) {\n        onChange({ ...configuration, exact: e.target.checked });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Settings</legend>\n        <div className=\"form-group form-row\">\n            <ConfInput id=\"exact\" checked={configuration.exact} onChange={handleExactChange}>Exact</ConfInput>\n            <BlockPosition id=\"exit\" position={configuration.exit} optional onChange={handleExitChange}>Exit : </BlockPosition>\n        </div>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { NumberInput } from '../../../ui/Input';\n\nexport function FillLayerFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleHeightChange = useCallback(function (height) {\n        onChange({ ...configuration, height });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <div className=\"form-group\">\n            <NumberInput id=\"height\" value={configuration.height} max={255} onChange={handleHeightChange}>Height</NumberInput>\n        </div>\n        <BlockState block={configuration.state} onChange={handleChange} />\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { ConfInput } from '../../../ui/Input';\nimport { HUGE_FUNGUS_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport { useJsonEffect } from '../../../hooks/form';\n\nexport function HugeFungusFeature({ configuration = HUGE_FUNGUS_FEATURE_CONFIG, onChange }) {\n\n    const handleDecorStateChange = useCallback(function (decor_state) {\n        onChange({ ...configuration, decor_state });\n    }, [configuration, onChange]);\n    const handleHatStateChange = useCallback(function (hat_state) {\n        onChange({ ...configuration, hat_state });\n    }, [configuration, onChange]);\n    const handlePlantedChange = useCallback(function (e) {\n        const planted = e.target.checked;\n        onChange({ ...configuration, planted });\n    }, [configuration, onChange]);\n    const handleStemStateChange = useCallback(function (stem_state) {\n        onChange({ ...configuration, stem_state });\n    }, [configuration, onChange]);\n    const handleValidBaseBlockChange = useCallback(function (valid_base_block) {\n        onChange({ ...configuration, valid_base_block });\n    }, [configuration, onChange]);\n    useJsonEffect(configuration || HUGE_FUNGUS_FEATURE_CONFIG, configuration, onChange);\n\n    return <div>\n        <fieldset>\n            <legend>Composition</legend>\n            <label htmlFor=\"stem_state\">Stem</label>\n            <BlockState block={configuration.stem_state} className=\"\" inputId=\"stem_state\" onChange={handleStemStateChange} />\n            <label htmlFor=\"hat_state\">Hat</label>\n            <BlockState block={configuration.hat_state} className=\"\" inputId=\"hat_state\" onChange={handleHatStateChange} />\n            <label htmlFor=\"decor_state\">Decor</label>\n            <BlockState block={configuration.decor_state} className=\"\" inputId=\"decor_state\" onChange={handleDecorStateChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Configuration</legend>\n            <label htmlFor=\"valid_base_block\">Valid base block</label>\n            <BlockState block={configuration.valid_base_block} className=\"\" inputId=\"valid_base_block\" onChange={handleValidBaseBlockChange} />\n            <ConfInput id=\"planted\" checked={configuration.planted} onChange={handlePlantedChange}>Planted</ConfInput>\n        </fieldset>\n    </div>;\n}\n","import React, { useCallback } from 'react';\nimport { BlockState } from '../../state/BlockState';\nimport { INT_MAX_VALUE } from '../../../utils/math';\nimport { NumberInput } from '../../../ui/Input';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function NetherrackReplaceBlobsFeature({ configuration, onChange }) {\n\n    const handleChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n    const handleStateChange = useCallback(function (state) {\n        onChange({ ...configuration, state });\n    }, [configuration, onChange]);\n    const handleTargetChange = useCallback(function (target) {\n        onChange({ ...configuration, target });\n    }, [configuration, onChange]);\n\n    return <fieldset>\n        <legend>Config</legend>\n        <BlockState block={configuration.state} onChange={handleStateChange} />\n        <div className=\"form-group form-row\">\n            <UniformInt id=\"radius\" value={configuration.radius} maxBase={INT_MAX_VALUE} maxSpread={INT_MAX_VALUE} upChange={handleChange}>Radius</UniformInt>\n            <NumberInput id=\"half_height\" value={configuration.half_height} upChange={handleChange}>Half height</NumberInput>\n        </div>\n        <fieldset>\n            <legend>Target</legend>\n            <BlockState block={configuration.target} onChange={handleTargetChange} />\n        </fieldset>\n    </fieldset>\n}\n","import React, { useCallback } from 'react';\nimport { FeatureField } from '../InlineFeature';\n\nexport function RandomBooleanFeature({ configuration, onChange }) {\n\n    const handleFeatureTrueChange = useCallback(function (feature_true) {\n        onChange({ ...configuration, feature_true });\n    }, [configuration, onChange]);\n    const handleFeatureFalseChange = useCallback(function (feature_false) {\n        onChange({ ...configuration, feature_false });\n    }, [configuration, onChange]);\n\n    return <>\n        <fieldset>\n            <legend>Feature true</legend>\n            <FeatureField feature={configuration.feature_true} onChange={handleFeatureTrueChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Feature false</legend>\n            <FeatureField feature={configuration.feature_false} onChange={handleFeatureFalseChange} />\n        </fieldset>\n    </>\n}\n","import React, { useCallback } from 'react';\n\nimport { Button } from '../../../ui/Button';\nimport { FeatureField } from '../InlineFeature';\nimport { NumberInput } from '../../../ui/Input';\nimport { useCrudPreset } from '../../../hooks/form';\nimport { useKeyedListOptions } from '../../../hooks/context';\n\nexport function RandomFeature({ configuration, onChange }) {\n\n    const options = useKeyedListOptions('features');\n    const [features, handleAdd, handleChange, handleRemove] = useCrudPreset(features => onChange({ ...configuration, features }), configuration.features, (features) => ({\n        feature: (options.find(o => !features.some(f => f.feature === o.value)) || { value: 'minecraft:oak' }).value,\n        chance: 0.2\n    }));\n\n    const handleChanceChange = useCallback(function (chance, feature) {\n        handleChange({ feature: feature.feature, chance }, feature);\n    }, [handleChange]);\n    const handleDefaultChange = useCallback(function (default_) {\n        onChange({ ...configuration, default: default_ });\n    }, [configuration, onChange]);\n    const handleFeatureChange = useCallback(function (feature, previous) {\n        handleChange({ ...previous, feature }, previous);\n    }, [handleChange]);\n\n    return <>\n        <fieldset>\n            <legend>Features <Button onClick={handleAdd}>Add feature</Button></legend>\n            {features.map((feature, index) => {\n                const filter = o => feature.feature === o.value || !features.some(f => f.feature === o.value);\n                return <FeatureField feature={feature.feature} key={JSON.stringify(feature) + index} filter={filter} onChange={f => handleFeatureChange(f, feature)}>\n                    <NumberInput id=\"chance\" className=\"mls\" value={feature.chance} max={1} step={0.05} onChange={chance => handleChanceChange(chance, feature)}>Chance</NumberInput>\n                    <Button cat=\"danger mlm\" onClick={e => handleRemove(e, feature)}>Remove</Button>\n                </FeatureField>\n            })}\n        </fieldset>\n        <fieldset>\n            <legend>Default</legend>\n            <FeatureField feature={configuration.default} onChange={handleDefaultChange} />\n        </fieldset>\n    </>\n}\n","import React from 'react';\nimport { UniformInt } from '../../utils/UniformInt';\n\nexport function CountFeature({ configuration, onChange }) {\n\n    return <fieldset>\n        <legend>Config</legend>\n        <div className=\"form-group\">\n            <UniformInt id=\"probability\" value={configuration.probability} minBase={-10} maxBase={128} maxSpread={128} upChange={onChange}>Count</UniformInt>\n        </div>\n    </fieldset>\n}\n","import { BlockState, BlocksList } from '../../state/BlockState';\nimport React, { useCallback } from 'react';\n\nexport function SimpleBlockFeature({ configuration, onChange }) {\n\n    const handleToPlaceChange = useCallback(function (to_place) {\n        onChange({ ...configuration, to_place });\n    }, [configuration, onChange]);\n    const handlePlaceOnChange = useCallback(function (place_on) {\n        onChange({ ...configuration, place_on });\n    }, [configuration, onChange]);\n    const handlePlaceInChange = useCallback(function (place_in) {\n        onChange({ ...configuration, place_in });\n    }, [configuration, onChange]);\n    const handlePlaceUnderChange = useCallback(function (place_under) {\n        onChange({ ...configuration, place_under });\n    }, [configuration, onChange]);\n\n    return <div>\n        <fieldset>\n            <legend>To place</legend>\n            <BlockState block={configuration.to_place} className=\"\" inputId=\"to_place\" onChange={handleToPlaceChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Placement</legend>\n            <fieldset>\n                <legend>Place on</legend>\n                <BlocksList list={configuration.place_on} className=\"\" inputId=\"place_on\" onChange={handlePlaceOnChange} />\n            </fieldset>\n            <fieldset>\n                <legend>Place in</legend>\n                <BlocksList list={configuration.place_in} className=\"\" inputId=\"place_in\" onChange={handlePlaceInChange} />\n            </fieldset>\n            <fieldset>\n                <legend>Place under</legend>\n                <BlocksList list={configuration.place_under} className=\"\" inputId=\"place_under\" onChange={handlePlaceUnderChange} />\n            </fieldset>\n        </fieldset>\n    </div>\n}\n","import React, { useCallback } from 'react';\n\nimport { Button } from '../../../ui/Button';\nimport { FeatureField } from '../InlineFeature';\nimport Select from '../../../ui/Select';\nimport { useCrudPreset } from '../../../hooks/form';\nimport { useKeyedListOptions } from '../../../hooks/context';\n\nexport function SimpleRandomFeature({ configuration, onChange }) {\n\n    const options = useKeyedListOptions('features');\n    const [features, handleAdd, handleChange, handleRemove] = useCrudPreset(features => onChange({ features }), configuration.features, (features) => \n        (options.find(o => !features.some(f => f.feature === o.value)) || { value: 'minecraft:oak' }).value\n    );\n\n    const handleFeaturesChange = useCallback(function (options) {\n        onChange({ features: options === null ? [] : options.map(o => o.value) });\n    }, [onChange]);\n\n    const hasInline = configuration.features.some(feature => typeof feature === 'object');\n\n    return <>\n        <fieldset>\n            <legend>Features {hasInline && <Button onClick={handleAdd}>Add feature</Button>}</legend>\n            {hasInline && features.map((feature, i) => {\n                const filter = o => feature.feature === o.value || !features.some(f => f.feature === o.value);\n                return <FeatureField feature={feature} key={JSON.stringify(feature) + i} filter={filter} onChange={handleChange}><Button cat=\"danger mlm\" onClick={e => handleRemove(e, feature)}>Remove</Button></FeatureField>\n            })}\n            {!hasInline && <Select isMulti options={options} value={options.filter(o => configuration.features.includes(o.value))} onChange={handleFeaturesChange} />}\n        </fieldset>\n    </>\n}\n","import { ConfInput, NumberInput } from '../../../ui/Input';\nimport React, { useCallback, useMemo } from 'react';\n\nimport { BlockSelect } from '../../state/BlockPredicate';\nimport { BlocksNamesList } from '../../state/BlockState';\nimport { HUGE_FUNGUS_FEATURE_CONFIG } from './FeatureConfigDefaults';\nimport { useBlocksOptions } from '../../../hooks/form';\n\nexport function SpringFeature({ configuration = HUGE_FUNGUS_FEATURE_CONFIG, onChange }) {\n\n    const handlRequiresBlockBelowChange = useCallback(function (e) {\n        const requires_block_below = e.target.checked;\n        onChange(({ ...configuration, requires_block_below }));\n    }, [configuration, onChange]);\n    const handleStateChange = useCallback(function (option) {\n        onChange({ ...configuration, state: { Name: option.value, Properties: { falling: 'true' } } });\n    }, [configuration, onChange]);\n    const handleValidBlocksChange = useCallback(function (valid_blocks) {\n        onChange({ ...configuration, valid_blocks });\n    }, [configuration, onChange]);\n    const handleValueChange = useCallback(function (value) {\n        onChange({ ...configuration, ...value });\n    }, [configuration, onChange]);\n\n    const blocks = useBlocksOptions(false);\n    const filteredBlocks = useMemo(function () {\n        return blocks.filter(b => b.name === 'lava' || b.name === 'water')\n            .map(block => ({ value: 'minecraft:' + block.name, label: block.displayName }));\n    }, [blocks]);\n\n    return <div>\n        <fieldset>\n            <legend>Fluid</legend>\n            <div className=\"form-group\"><BlockSelect block={configuration.state.Name} onChange={handleStateChange} options={filteredBlocks} /></div>\n        </fieldset>\n        <fieldset>\n            <legend>Valid blocks</legend>\n            <BlocksNamesList list={configuration.valid_blocks} onChange={handleValidBlocksChange} />\n        </fieldset>\n        <fieldset>\n            <legend>Configuration</legend>\n            <div className=\"form-row\">\n                <NumberInput id=\"rock_count\" value={configuration.rock_count} upChange={handleValueChange}>Rock count</NumberInput>\n                <NumberInput id=\"hole_count\" value={configuration.hole_count} upChange={handleValueChange}>Hole count</NumberInput>\n                <ConfInput id=\"requires_block_below\" checked={configuration.requires_block_below} onChange={handlRequiresBlockBelowChange}>Requires block below</ConfInput>\n            </div>\n        </fieldset>\n    </div>\n}\n","import React, { useCallback, useState } from 'react';\nimport { SURFACE_BUILDER, SURFACE_TYPES_OPTIONS } from './SurfaceBuilderDefaults';\n\nimport { BlockState } from '../state/BlockState';\nimport { Button } from '../../ui/Button';\nimport { JsonViewer } from '../../ui/JsonViewer';\nimport { NamespacedKey } from '../NamespacedKey';\nimport Select from '../../ui/Select';\n\nexport function SurfaceBuilder({data = SURFACE_BUILDER, onSave}) {\n    const [state, setState] = useState(data);\n\n    const handleTypeChange = useCallback(function(option) {\n        setState(state => ({ ...state, type: option.value }));\n    }, []);\n    const handleTopMaterialChange = useCallback(function(top_material) {\n        setState(state => ({ ...state, config: { ...state.config, top_material } }));\n    }, []);\n    const handleUnderMaterialChange = useCallback(function(under_material) {\n        setState(state => ({ ...state, config: { ...state.config, under_material } }));\n    }, []);\n    const handleUnderwaterMaterialChange = useCallback(function(underwater_material) {\n        setState(state => ({ ...state, config: { ...state.config, underwater_material } }));\n    }, []);\n\n    const handleSubmit = useCallback(function(e) {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        onSave({\n            ...state,\n            key: formData.get('key')\n        });\n    }, [onSave, state]);\n\n    return <form onSubmit={handleSubmit}>\n        <NamespacedKey example=\"blackstone\" type=\"surfaces\" value={state.key} expectBreakage={typeof data.key !== 'undefined'} onSelectLoad={setState}>\n            surface builder\n            <JsonViewer data={state} />\n        </NamespacedKey>\n        \n        <div className=\"form-group\">\n            <label htmlFor=\"type\">Type</label>\n            <Select options={SURFACE_TYPES_OPTIONS} value={SURFACE_TYPES_OPTIONS.find(o => o.value === state.type)} onChange={handleTypeChange} inputId=\"type\" />\n            <p className=\"help2\"><small className=\"text-muted\">The builder type defines the shape of the surface. For example, the <em>swamp</em> type will create puddles while the <em>badlands</em> types will create small rocky peaks; the <em>nether</em> types will add a mix of nether blocks and expose more of the underneath material.</small></p>\n        </div>\n        \n        <label htmlFor=\"top_material\">Top material</label>\n        <BlockState block={state.config.top_material} className=\"\" inputId=\"top_material\" onChange={handleTopMaterialChange} />\n        <label htmlFor=\"under_material\">Under material</label>\n        <BlockState block={state.config.under_material} className=\"\" inputId=\"under_material\" onChange={handleUnderMaterialChange} />\n        <label htmlFor=\"underwater_material\">Underwater material</label>\n        <BlockState block={state.config.underwater_material} className=\"\" inputId=\"underwater_material\" onChange={handleUnderwaterMaterialChange} />\n\n        <Button type=\"submit\">Save</Button>\n    </form>;\n}","import JSZip from \"jszip\";\nimport { PATHS } from \"../context/Paths\";\nimport { dataUpper } from \"./data\";\nimport { saveAs } from \"file-saver\";\n\nconst DIMENSIONS_PATH = /^data\\/([a-z0-9_.-]+)\\/(dimension|dimension_type)\\/([a-z0-9/._-]+).json$/;\nconst WORLDGEN_PATH = /^data\\/([a-z0-9_.-]+)\\/worldgen\\/(biome|configured_carver|configured_feature|configured_surface_builder|noise_settings|processor_list)\\/([a-z0-9/._-]+).json$/;\n\nconst LEGACY_DIMENSIONS_PATH = /^data\\/minecraft\\/(dimension|dimension_type)\\/([a-z0-9_.-]+)\\/([a-z0-9/._-]+).json$/;\nconst LEGACY_WORLDGEN_PATH = /^data\\/minecraft\\/worldgen\\/(biome|configured_carver|configured_feature|configured_surface_builder|noise_settings|processor_list)\\/([a-z0-9_.-]+)\\/([a-z0-9/._-]+).json$/;\n\n/**\n * Build zip in blob.\n * \n * @param {object} custom \n */\nexport function buildZip(custom) {\n    const zip = new JSZip();\n\n    let modified;\n    if (custom.dimensions.length > 0) {\n        modified = 'dimension';\n    } else if (custom.biomes.length > 0) {\n        modified = 'biome';\n    } else {\n        modified = (Object.entries(custom).find(([type, elements]) => typeof elements !== 'function' && elements.length > 0) || [''])[0];\n    }\n    \n    zip.file('pack.mcmeta', JSON.stringify({\n        pack: {\n            pack_format: 6,\n            description: 'Custom ' + modified\n        }\n    }, null, 4));\n    Object.entries(PATHS).forEach(([type, path]) => writeFile(zip, path, custom[type]));\n    zip.generateAsync({ type: 'blob' })\n        .then(function(content) {\n            saveAs(content, 'generated_datapack.zip');\n        });\n}\n\n/**\n * @param {File} file\n * @returns {Promise<[string, { biomes: object[], dimensions: object[], features: object[], surfaces: object[] }]>}\n */\nexport function readZip(file) {\n    return new Promise((resolve, reject) => {\n        if (!['application/zip', 'application/octet-stream', 'application/x-zip-compressed', 'multipart/x-zip'].includes(file.type)) {\n             reject(new Error(`File is not a .zip. Got: ${file.type}`));\n        }\n\n        JSZip.loadAsync(file).then((zip) => {\n            extractDatapack(zip)\n                .then(resolve)\n                .catch(reject);\n        }).catch(reject);\n    });\n}\n\n/**\n * @param {JSZip} zip \n * @returns {Promise<string, object>}\n */\nasync function extractDatapack(zip) {\n    let namespace = 'minecraft';\n    const data = {\n        biomes: [],\n        carvers: [],\n        dimensions: [],\n        dimension_types: [],\n        features: [],\n        noises: [],\n        processors: [],\n        surfaces: []\n    };\n\n    const pack = zip.file('pack.mcmeta');\n    if (pack === null) {\n        throw new Error('Invalid datapack: no pack.mcmeta');\n    }\n    let legacy = false;\n    try {\n        const mcmeta = JSON.parse(await pack.async('text'));\n        legacy = mcmeta.pack.pack_format < 6;\n    } catch (e) {\n        throw new Error(`Error reading pack.mcmeta file: ${e.message}`);\n    }\n    \n\n    return new Promise((resolve, reject) => {\n        const promises = [];\n        zip.forEach(function(path, entry) {\n            if (entry.dir) {\n                return;\n            }\n            const paths = legacy ? [LEGACY_DIMENSIONS_PATH, LEGACY_WORLDGEN_PATH] : [DIMENSIONS_PATH, WORLDGEN_PATH];\n            const regex = paths.find(path => entry.name.match(path)) || WORLDGEN_PATH;\n            promises.push(parseFile(legacy, regex, entry.name, zip.file(entry.name).async('text')));\n        });\n\n        Promise.all(promises).then(function(values) {\n            values.forEach(function(value) {\n                if (value === null) {\n                    return;\n                }\n\n                if (value.namespace !== 'minecraft') {\n                    namespace = value.namespace;\n                }\n                data[value.type].push(value.data);\n            });\n            resolve([namespace, data]);\n        }).catch(e => reject(e));\n    });\n}\n\nfunction getFolderType(folder) {\n    switch (folder) {\n        case 'configured_carver':\n            return 'carvers';\n        case 'configured_feature':\n            return 'features';\n        case 'configured_surface_builder':\n            return 'surfaces';\n        case 'noise_settings':\n            return 'noises';\n        case 'processor_list':\n            return 'processors';\n        default:\n            return folder + 's';\n    }\n}\n\n/**\n * Parse json file when it will be ready.\n * \n * @param {boolean} legacy\n * @param {RegExp} pathRegex \n * @param {string} filename \n * @param {Promise<string>} contentPromise \n * @returns {Promise<{namespace: string, data: object, type: string}>}\n */\nasync function parseFile(legacy, pathRegex, filename, contentPromise) {\n    const d = pathRegex.exec(filename);\n    if (d === null) {\n        return new Promise((success) => success(null)); // Skip file\n    }\n\n    return new Promise((resolve, reject) => {\n        contentPromise.then(content => {\n            const obj = JSON.parse(content);\n            const namespace = d[legacy ? 2 : 1];\n            const type = getFolderType(d[legacy ? 1 : 2]);\n            obj.key = namespace + ':' + d[3];\n            const data = dataUpper(type, obj);\n            resolve({ namespace, data, type });\n        }).catch(e => {\n            if (e.name !== 'SyntaxError') {\n                console.error(e);\n            }\n            reject(new Error(`Cannot read ${filename}:\\n${e.message}`));\n        });\n    });\n}\n\nfunction writeFile(zip, path, elements) {\n    if (elements.length < 1) {\n        return;\n    }\n\n    for (const el of elements) {\n        const w = {...el};\n        delete w.key;\n        delete w.index;\n\n        const [namespace, filename] = el.key.split(':');\n        zip.folder(path.replace('%namespace%', namespace))\n            .file(filename + '.json', JSON.stringify(w, null, 2));\n    }\n}\n","import { MenuItem, NavBar } from './../ui/Menu';\nimport React, { useContext, useEffect } from 'react';\n\nimport { Biome } from './biome/Biome';\nimport { Button } from './../ui/Button';\nimport { ConfiguredCarverForm } from './carver/ConfiguredCarver';\nimport { DataContext } from './../context/DataContext';\nimport { Dimension } from './dimension/Dimension';\nimport { DimensionTypeForm } from './dimension/DimensionType';\nimport Masonry from 'masonry-layout';\nimport { NoiseSettings } from './noise/NoiseSettings';\nimport { ProcessorList } from './processor/ProcessorList';\nimport { RawConfiguredFeature } from './feature/ConfiguredFeature';\nimport { SurfaceBuilder } from './surface/SurfaceBuilder';\nimport { buildZip } from '../utils/zip';\nimport { capitalize } from '../utils/data';\nimport { displayNamespacedKey } from '../utils/data';\nimport { useMenu } from '../hooks/ui';\n\nexport function Datapack() {\n    const context = useContext(DataContext);\n    const custom = context.custom;\n    const namespace = context.namespace;\n    const [page, index, setMenu] = useMenu();\n\n    const handleSave = function (type, data) {\n        const method = 'update' + function () {\n            switch (type) {\n                case 'surface':\n                    return 'SurfacesBuilders';\n                case 'dimension_type':\n                    return 'DimensionTypes';\n                default:\n                    return capitalize(type) + 's';\n            }\n        }();\n        custom[method](data, custom[type + 's'][index]);\n        setMenu(null);\n    }\n    const handleGenerateClick = function(e) {\n        e.preventDefault();\n        buildZip(custom);\n    }\n    window.scrollTo(0, 0);\n\n    const mayGenerate = Object.values(custom).some(content => {\n        if (Array.isArray(content)) {\n            return content.length;\n        }\n        return false;\n    });\n\n    return <div>\n        <NavBar>\n            <nav className=\"tabs\"><ul>\n                <MenuItem onClick={e => setMenu(e, 'main')} active={page === 'main'}>Main</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'biome')} active={page === 'biome'}>Biome</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'surface')} active={page === 'surface'}>Surface builder</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'feature')} active={page === 'feature'}>Feature</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'dimension')} active={page === 'dimension'}>Dimension</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'noise')} active={page === 'noise'}>Noise</MenuItem>\n                <MenuItem onClick={e => setMenu(e, 'processor')} active={page === 'processor'}>Processor</MenuItem>\n            </ul></nav>\n        </NavBar>\n        <div className=\"content\">\n            {page === 'biome' && <Biome onSave={biome => handleSave('biome', biome)} data={custom.biomes[index]} />}\n            {page === 'carver' && <ConfiguredCarverForm onSave={carver => handleSave('carver', carver)} data={custom.carvers[index]} />}\n            {page === 'surface' && <SurfaceBuilder onSave={surface => handleSave('surface', surface)} data={custom.surfaces[index]} />}\n            {page === 'feature' && <RawConfiguredFeature onSave={feature => handleSave('feature', feature)} data={custom.features[index]} />}\n            {page === 'noise' && <NoiseSettings onSave={noise => handleSave('noise', noise)} data={custom.noises[index]} />}\n            {page === 'processor' && <ProcessorList onSave={processor => handleSave('processor', processor)} data={custom.processors[index]} />}\n            {page === 'dimension' && <Dimension onSave={dimension => handleSave('dimension', dimension)} data={custom.dimensions[index]} />}\n            {page === 'dimension_type' && <DimensionTypeForm onSave={dimension => handleSave('dimension_type', dimension)} data={custom.dimension_types[index]} />}\n            {page === 'main' && <>\n                <h2>Datapack {namespace} <Button type=\"submit\" onClick={handleGenerateClick} disabled={!mayGenerate}>Generate</Button></h2>\n                <Main custom={custom} namespace={namespace} onSave={handleSave} setPage={setMenu} />\n            </>}\n        </div>\n    </div>\n}\n\nfunction Main({namespace, onSave, setPage}) {\n\n    useEffect(() => {\n        new Masonry( '.stats', {\n        itemSelector: '.card',\n        gutter: 15\n      });\n    }, []);\n\n    return <div className=\"stats\">\n        <StatsTitle type=\"feature\" namespace={namespace} onClick={setPage} onDelete={onSave}>configured feature</StatsTitle>\n        <StatsTitle type=\"biome\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom biome</StatsTitle>\n        <StatsTitle type=\"surface\" namespace={namespace} onClick={setPage} onDelete={onSave}>configured surface builder</StatsTitle>\n        \n        <StatsTitle type=\"dimension\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom dimension</StatsTitle>\n        <StatsTitle type=\"noise\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom noise</StatsTitle>\n        <StatsTitle type=\"dimension_type\" namespace={namespace} onClick={setPage} onDelete={onSave} invisible={true}>custom dimension type</StatsTitle>\n        \n        <StatsTitle type=\"processor\" namespace={namespace} onClick={setPage} onDelete={onSave}>custom processor list</StatsTitle>\n        <StatsTitle type=\"carver\" namespace={namespace} onClick={setPage} onDelete={onSave} invisible={true}>custom carver</StatsTitle>\n        <div>\n        </div>\n    </div>\n}\n\nfunction StatsTitle({ children, type, invisible = false, namespace, onClick, onDelete }) {\n    const data = useContext(DataContext).custom[type + 's'];\n    if (invisible && data.length < 1) {\n        return <></>\n    }\n\n    const handleRemove = function (e, data) {\n        e.preventDefault();\n        if (window.confirm('Do you really want to remove this resource?')) {\n            delete data.key;\n            onDelete(type, data);\n        }\n    };\n\n    return <div className=\"card\">\n        <h5><strong>{data.length}</strong> {children}{data.length > 1 && 's'}</h5>\n        <ul>\n            {data.map((d, i) => {\n                const name = displayNamespacedKey(d.key, namespace);\n                return <li key={i}><a href=\"#remove\" onClick={e => handleRemove(e, d)}><i className=\"delete\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z\"/></svg></i></a><a href=\"#edit\" onClick={e => onClick(e, type, i)}>{name}</a></li>\n            })}\n        </ul>\n    </div>\n}","import React, { useState } from 'react';\n\nimport { Button } from '../ui/Button';\nimport { NavBar } from '../ui/Menu';\nimport { readZip } from '../utils/zip';\n\nexport function DatapackForm({onCreate}) {\n\n    const [error, setError] = useState(null);\n\n    const handleCreate = function(e) {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const namespace = data.get('namespace');\n        onCreate([namespace, undefined]);\n    };\n\n    const handleFile = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const file = (e.dataTransfer || e.target).files[0];\n        readZip(file)\n            .then(onCreate)\n            .catch(error => {\n                console.error(error);\n                setError(error.message);\n            });\n    };\n    const handleDrag = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    };\n\n    window.scrollTo(0, 0);\n\n    return <div className=\"first-screen\" onDragStart={handleDrag} onDragEnter={handleDrag} onDragOver={handleDrag} onDrop={handleFile}>\n        <NavBar>\n            <h2>Dimension datapack generator</h2>\n        </NavBar>\n        <form className=\"content\" onSubmit={handleCreate}>\n            <div className=\"form-control\">\n                <div className=\"mbm\">\n                    <h3>What's this?</h3>\n                    <p className=\"mbm\" style={{ fontSize: '0.95rem' }}>\n                        This online generator under development allows you to create world generation datapacks for Minecraft 1.16.2. You'll be able to create your own biomes or edit existing ones, custom trees, change the amplitude of the terrain, mix generated blocks and more in the following menus. To continue, choose your datapack identifier.\n                    </p>\n                    <hr />\n                </div>\n                <label htmlFor=\"namespace\">Default namespace</label><br />\n                <input type=\"text\" name=\"namespace\" id=\"namespace\" required pattern=\"[a-z0-9._-]+\" autoCapitalize=\"none\" spellCheck=\"false\" autoComplete=\"off\" aria-describedby=\"namespaceHelp\" />\n                <p className=\"help2\"><small id=\"namespaceHelp\" className=\"form-text text-muted\">This differentiates the datapack from the vanilla functions. Namespaces and identifiers may only contain letters, numbers and <code>._-</code> characters. This namespace is not final, you can edit the vanilla dimensions in the following menus.</small></p>\n                <div className=\"actions\">\n                    <Button type=\"submit\">Create</Button>\n                    <input type=\"file\" name=\"load-existing-zip\" id=\"load-existing-zip\" accept=\".zip\" onChange={handleFile} tabIndex=\"0\" /><label htmlFor=\"load-existing-zip\" className=\"btn--info\">Use existing datapack</label>\n                </div>\n                <div className=\"mtm\">\n                    {error !== null && <div className=\"alert--danger\">{error}</div>}\n                    <p className=\"alert--warning\">\n                        This generator is currently built for 1.16.2. As it is a beta, you might expect a few bugs.\n                    </p>\n                </div>\n            </div>\n        </form>\n    </div>\n}\n","import './styles/App.scss';\nimport React, { useState } from 'react';\nimport { DataContextProvider } from './context/DataContext';\nimport { Datapack } from './components/Datapack';\nimport { DatapackForm } from './components/DatapackForm';\n\nfunction App() {\n    const [data, setData] = useState(null);\n\n    return <>\n        {data !== null ?\n            <DataContextProvider namespace={data[0]} initial={data[1]}>\n                <Datapack />\n            </DataContextProvider>\n            :\n            <DatapackForm onCreate={setData} />\n        }\n    </>\n}\n\nexport default App;\n","import './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nwindow.addEventListener('load', () => {\n    document.body.classList.remove('preload');\n});\n\nReactDOM.render(\n    <App />\n,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}